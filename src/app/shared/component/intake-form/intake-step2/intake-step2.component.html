<div class="container-fluid book--appointment--wrapper ba--step--two read--only--form">
    <div class="row">
        <div class="col-12 d-flex align-items-center mt-0 mb-2">
            <div class="row w-100 align-items-center">
                <div class="col-12 col-sm-6 col-lg-6 d-flex align-items-center">
                    <button mat-stroked-button color="primary" class="me-3 back--btn"
                        [routerLink]="['/',activeUserRoute, 'intake-form','step-1', appId]">
                        <mat-icon class="material-symbols-outlined flex-shrink-0 m-0"> keyboard_backspace </mat-icon>
                    </button>
                    <h3 class="mb-0 clr--1F2F3E fw-600 d-flex flex-wrap">
                        <span class="me-3">Intake Form </span>
                        <span>(Step <span class="text-primary"> 2 </span> of 5)</span>
                    </h3>
                </div>
                <!-- <div *ngIf="step2FormData"
                    class="col-12 col-sm-6 col-lg-6 d-flex justify-content-start justify-content-sm-end ">
                    <p class="mb-0 clr--1F2F3E fw-700 font-16">
                        {{step2FormData.patientInfo.firstName}} {{step2FormData.patientInfo.lastName}}
                        <span class="fw-500">
                            (Appointment #: {{step2FormData.appointmentId}})
                        </span>
                    </p>
                </div> -->
            </div>
        </div>
    </div>
    <form *ngIf="step2Form" [formGroup]="step2Form">
        <div class="card m-0">
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <label class="col-form-label fw-600">Pay Via</label>
                        <mat-radio-group (change)="onChange($event)" formControlName="payVia" aria-label="Select an option">
                            <mat-radio-button value="Insurance" class="me-3">Insurance</mat-radio-button>
                            <mat-radio-button value="Selfpay">Self Pay</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>

                <div *ngIf="payViaSelectedFlag" class="row">
                        <div class="col-12">
                            <p class="fw-700 font-16 mb-0">Responsible Party/Guarantor (RP) *</p>
                            <p class="font-16">
                                If you are not the patient but responsible for charges - Please check relationship below.
                            </p>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 ">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Relationship with Patient</label>
                                <select formControlName="relationWithPatient" class="form-select form-control"
                                    aria-label="Default select example" (change)="relationShipPatient($event)">
                                    <option value="">Select Relation</option>
                                    <option value="{{element}}" *ngFor="let element of relationWithPatient">{{element}}
                                    </option>
                                </select>
                            </div>
                        </div> 
                        <div class="col-12 col-lg-6 col-md-6" *ngIf="otherRelationFlag">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Other Relation </label>
                                    <input class="form-control" type="text" formControlName="otherRelation" placeholder="Specify Relation" />
                                    <div class="text text-danger mt-1"
                                    *ngIf="step2Form.controls['otherRelation'].touched && (step2Form.controls['otherRelation'].hasError('required') || step2Form.controls['otherRelation'].invalid)">
                                    {{ validationMessages.required('Relation') }}
                                    </div>
                                </div>
                        </div>
                    
                        <div class="col-12 col-lg-6 col-md-6  ">
                            <div class="form-group">
                                <label class="col-form-label fw-600">First Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input (blur)="checkSpace('firstName', $event)" formControlName="firstName"
                                    class="form-control" type="text" placeholder="Enter First Name" (keyup)="signatureText($event)"/>
                                <div class="text text-danger mt-1"
                                    *ngIf="step2Form.controls['firstName'].touched && (step2Form.controls['firstName'].hasError('required') || step2Form.controls['firstName'].invalid)">
                                    {{ validationMessages.required('First Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6  ">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Middle Name </label>
                                <input (blur)="checkSpace('middleName', $event)" formControlName="middleName"
                                    class="form-control" type="text" placeholder="Enter Middle Name" />
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6  ">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Last Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input (blur)="checkSpace('lastName', $event)" formControlName="lastName" class="form-control" type="text" placeholder="Enter Last Name" (keyup)="signatureText($event)"/>
                                <div class="text text-danger mt-1" *ngIf="step2Form.controls['lastName'].touched && (step2Form.controls['lastName'].hasError('required') || step2Form.controls['lastName'].invalid)">
                                    {{ validationMessages.required('Last Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Date of Birth </label>
                                <div class="input-group">
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input [max]="todayDate" formControlName="dob" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="picker" (focus)="picker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <div class="text text-danger mt-1"
                                    *ngIf="step2Form.controls['dob'].touched && (step2Form.controls['dob'].hasError('required') || step2Form.controls['dob'].invalid)">
                                    {{ validationMessages.requiredDropdown('Date of Birth') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Marital Status</label>
                                <select formControlName="maritalStatus" class="form-select form-control"
                                    aria-label="Default select example">
                                    <option value="">Select Marital Status</option>
                                    <option value="{{element}}" *ngFor="let element of maritalStatus;">{{element}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group ">
                                <!-- <label class="col-form-label fw-600">Gender</label> -->
                                <mat-radio-group formControlName="gender" aria-label="Select an option">
                                    <mat-radio-button value="Male" class="me-3">Male</mat-radio-button>
                                    <mat-radio-button value="Female">Female</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Email <span class="clr--DF0404 ms-1"> * </span></label>
                                <input formControlName="email" class="form-control" type="email"
                                    placeholder="Enter Email" />
                                <div class="text text-danger mt-1"
                                    *ngIf="step2Form.controls['email'].touched && (step2Form.controls['email'].hasError('required') || step2Form.controls['email'].invalid)">
                                    {{ validationMessages.required('valid Email') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Phone Number <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input [imask]="{mask: '(000) 000-0000'}" formControlName="phoneNumber" class="form-control"
                                    placeholder="Enter Phone Number" maxlength="14" />
                                <div class="text text-danger mt-1"
                                    *ngIf="step2Form.controls['phoneNumber'].touched && (step2Form.controls['phoneNumber'].hasError('required') || step2Form.controls['phoneNumber'].invalid)">
                                    {{ validationMessages.required('valid Phone Number') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Cell Phone Number <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <input [imask]="{mask: '(000) 000-0000'}" formControlName="cellPhoneNumber"
                                    class="form-control" placeholder="Enter Cell Phone Number" maxlength="14" />
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Work Extension <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <input [imask]="{mask: '(000) 000-0000'}" formControlName="workExtensionNumber"
                                    class="form-control" placeholder="Enter Work Extension Number" maxlength="14" />
                            </div>
                        </div>
                    <div class="col-12 my-4">
                        <div class="row">
                            <div class="col-12">
                                <h2 class="mb-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16 text-uppercase">Insurances * </h2>
                            </div>
                            <div class="col-12 col-xl-6 col-lg-6 col-md-6 col-sm-12" *ngIf="insuranceList.length>0">
                                <div class="d-flex align-items-center w-100">
                                    <div class="form-group w-100">
                                        <label class="col-form-label fw-600">Select from added Insurance</label>
                                        <select formControlName="insuranceName" (change)="getInsuranceDetails($event)"
                                            class="form-select form-control" aria-label="Default select example">
                                            <option selected="selected" value="">Select Insurance</option>
                                            <option value="{{element.insuranceName}}"
                                                *ngFor="let element of insuranceList; let i=index">
                                                {{element.insuranceName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>                            
                            </div>
                            <div class="col-12">
                                <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16"> Subscriber's Details
                                </h2>
                                <p class="font-15 lh-24">
                                    ("Subscriber" is the person who holds the insurance plan whether personally or through
                                    their employer.Please also provide a copy of your insurance card(s) to our receptionist)
                                </p>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">First Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <input (blur)="checkSpace('subscriberFirstName', $event)"
                                        formControlName="subscriberFirstName" class="form-control" type="text"
                                        placeholder="Enter First Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['subscriberFirstName'].touched && (step2Form.controls['subscriberFirstName'].hasError('required') || step2Form.controls['subscriberFirstName'].invalid)">
                                        {{ validationMessages.required('Subscriber First Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Middle Name </label>
                                    <input formControlName="subscriberMiddleName" class="form-control" type="text"
                                        placeholder="Enter Middle Name" />
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Last Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <input (blur)="checkSpace('subscriberLastName', $event)"
                                        formControlName="subscriberLastName" class="form-control" type="text"
                                        placeholder="Enter Last Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['subscriberLastName'].touched && (step2Form.controls['subscriberLastName'].hasError('required') || step2Form.controls['subscriberLastName'].invalid)">
                                        {{ validationMessages.required('Subscriber Last Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Date of Birth <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [max]="todayDate" formControlName="subscriberDob" readonly
                                                placeholder="MM-DD-YYYY" matInput [matDatepicker]="picker2" (focus)="picker2.open()">
                                            <mat-datepicker-toggle matIconSuffix
                                                [for]="picker2"></mat-datepicker-toggle>
                                            <mat-datepicker #picker2></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['subscriberDob'].touched && (step2Form.controls['subscriberDob'].hasError('required') || step2Form.controls['subscriberDob'].invalid)">
                                        {{ validationMessages.requiredDropdown('Date of Birth') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Relationship with Patient <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <select formControlName="subscriberRelationWithPatient" class="form-select form-control" aria-label="Default select example" (change)="subscriberRelationShipPatient($event)">
                                        <option value="" selected>Select Relation</option>
                                        <option value="{{element}}" *ngFor="let element of relationWithPatient">
                                            {{element}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['subscriberRelationWithPatient'].touched && (step2Form.controls['subscriberRelationWithPatient'].hasError('required') || step2Form.controls['subscriberRelationWithPatient'].invalid)">
                                        {{ validationMessages.requiredDropdown('Relationship with Patient') }}
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="subscriberOtherRelationFlag">
                                    <input class="form-control" type="text" formControlName="subscriberOtherRelation" placeholder="Enter other relation" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['subscriberOtherRelation'].touched && (step2Form.controls['subscriberOtherRelation'].hasError('required') || step2Form.controls['subscriberOtherRelation'].invalid)">
                                        {{ validationMessages.required('Relation') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-4 ">
                                <div class="form-group mt-6">
                                    <!-- <label class="col-form-label fw-600 ">Gender</label> -->
                                    <mat-radio-group formControlName="subscriberGender" aria-label="Select an option" class="">
                                        <mat-radio-button value="Male" class="me-5">Male</mat-radio-button>
                                        <mat-radio-button value="Female">Female</mat-radio-button>
                                    </mat-radio-group>
                                    <div class="text text-danger mt-1" *ngIf="step2Form.controls['subscriberGender'].touched && (step2Form.controls['subscriberGender'].hasError('required') || step2Form.controls['subscriberGender'].invalid)">
                                         {{ validationMessages.required('Select Gender') }}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <h2 class="mb-2 mt-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Primary Insurances
                                </h2>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">
                                        Primary Insurance
                                        <span class="clr--DF0404 ms-1"> * </span></label>
                                    <input formControlName="primaryInsuranceCompany"
                                        (blur)="checkSpace('primaryInsuranceCompany', $event)" class="form-control"
                                        type="text" placeholder="Enter Primary Insurance Name"  />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceCompany'].touched && (step2Form.controls['primaryInsuranceCompany'].hasError('required') || step2Form.controls['primaryInsuranceCompany'].invalid)">
                                        {{ validationMessages.required('Insurance Company') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('primaryInsuranceIdPolicy', $event)"
                                        formControlName="primaryInsuranceIdPolicy" class="form-control" type="text"
                                          placeholder="Enter ID/Policy" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceIdPolicy'].touched && (step2Form.controls['primaryInsuranceIdPolicy'].hasError('required') || step2Form.controls['primaryInsuranceIdPolicy'].invalid)">
                                        {{ validationMessages.required('ID/Policy') }}
                                    </div>
                                </div>
                            </div> 
 
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('primaryInsuranceGroup', $event)"
                                        formControlName="primaryInsuranceGroup" class="form-control" type="text"
                                        placeholder="Enter Group"   />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceGroup'].touched && (step2Form.controls['primaryInsuranceGroup'].hasError('required') || step2Form.controls['primaryInsuranceGroup'].invalid)">
                                        {{ validationMessages.required('Group') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">
                                        Customer Service Ph #
                                        <span class="clr--DF0404 ms-1"> *</span>
                                    </label>
                                    <input [imask]="{mask: '(000) 000-0000'}"
                                        formControlName="primaryInsuranceCustomerServicePh" class="form-control"
                                        type="text" placeholder="Enter Customer Service Ph" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceCustomerServicePh'].touched && (step2Form.controls['primaryInsuranceCustomerServicePh'].hasError('required') || step2Form.controls['primaryInsuranceCustomerServicePh'].invalid)">
                                        {{ validationMessages.required('Customer Service Ph') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Effective Date </label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input formControlName="primaryInsuranceFromDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker3" (focus)="picker3.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker3"></mat-datepicker-toggle>
                                            <mat-datepicker #picker3></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceFromDate'].touched && (step2Form.controls['primaryInsuranceFromDate'].hasError('required') || step2Form.controls['primaryInsuranceFromDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective Date') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">End Date</label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [min]="todayDate" formControlName="primaryInsuranceToDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker4" (focus)="picker4.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker4"></mat-datepicker-toggle>
                                            <mat-datepicker #picker4></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['primaryInsuranceToDate'].touched && (step2Form.controls['primaryInsuranceToDate'].hasError('required') || step2Form.controls['primaryInsuranceToDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective End Date') }}
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-12">
                                <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16"> Subscriber's Details
                                </h2>
                                <p class="font-15 lh-24">
                                    ("Subscriber" is the person who holds the insurance plan whether personally or through
                                    their employer.Please also provide a copy of your insurance card(s) to our receptionist)
                                </p>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">First Name <span class="clr--DF0404 ms-1"> * </span></label>
                                    <input (blur)="checkSpace('secondarySubscriberFirstName', $event)"
                                        formControlName="secondarySubscriberFirstName" class="form-control" type="text"
                                        placeholder="Enter First Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondarySubscriberFirstName'].touched && (step2Form.controls['secondarySubscriberFirstName'].hasError('required') || step2Form.controls['secondarySubscriberFirstName'].invalid)">
                                        {{ validationMessages.required('Subscriber First Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Middle Name </label>
                                    <input formControlName="secondarySubscriberMiddleName" class="form-control" type="text"
                                        placeholder="Enter Middle Name" />
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Last Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <input (blur)="checkSpace('secondarySubscriberLastName', $event)"
                                        formControlName="secondarySubscriberLastName" class="form-control" type="text"
                                        placeholder="Enter Last Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondarySubscriberLastName'].touched && (step2Form.controls['secondarySubscriberLastName'].hasError('required') || step2Form.controls['secondarySubscriberLastName'].invalid)">
                                        {{ validationMessages.required('Subscriber Last Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Date of Birth <span class="clr--DF0404 ms-1"> * </span></label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [max]="todayDate" formControlName="secondarySubscriberDob" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="picker8" (focus)="picker8.open()">
                                            <mat-datepicker-toggle matIconSuffix
                                                [for]="picker8"></mat-datepicker-toggle>
                                            <mat-datepicker #picker8></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondarySubscriberDob'].touched && (step2Form.controls['secondarySubscriberDob'].hasError('required') || step2Form.controls['secondarySubscriberDob'].invalid)">
                                        {{ validationMessages.requiredDropdown('Date of Birth') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Relationship with Patient <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <select formControlName="secondarySubscriberRelationWithPatient" class="form-select form-control" aria-label="Default select example" (change)="secondarySubscriberRelationShipPatient($event)">
                                        <option value="" selected>Select Relation</option>
                                        <option value="{{element}}" *ngFor="let element of relationWithPatient">
                                            {{element}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondarySubscriberRelationWithPatient'].touched && (step2Form.controls['secondarySubscriberRelationWithPatient'].hasError('required') || step2Form.controls['secondarySubscriberRelationWithPatient'].invalid)">
                                        {{ validationMessages.requiredDropdown('Relationship with Patient') }}
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="secondarySubscriberOtherRelationFlag">
                                    <input class="form-control" type="text" formControlName="secondarySubscriberOtherRelation" placeholder="Enter other relation" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondarySubscriberOtherRelation'].touched && (step2Form.controls['secondarySubscriberOtherRelation'].hasError('required') || step2Form.controls['secondarySubscriberOtherRelation'].invalid)">
                                        {{ validationMessages.required('Relation') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-4 ">
                                <div class="form-group mt-6">
                                    <mat-radio-group formControlName="secondarySubscriberGender" aria-label="Select an option" class="">
                                        <mat-radio-button value="Male" class="me-5">Male</mat-radio-button>
                                        <mat-radio-button value="Female">Female</mat-radio-button>
                                    </mat-radio-group>
                                    <div class="text text-danger mt-1" *ngIf="step2Form.controls['secondarySubscriberGender'].touched && (step2Form.controls['secondarySubscriberGender'].hasError('required') || step2Form.controls['secondarySubscriberGender'].invalid)">
                                        {{ validationMessages.required('Select Gender') }}
                                    </div>
                                </div>
                            </div>

                            
                            <div class="col-12">
                                <h2 class="mb-2 mt-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Secondary Insurances
                                </h2>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Secondary Insurances <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input formControlName="secondaryInsuranceCompany"
                                        (blur)="checkSpace('secondaryInsuranceCompany', $event)" class="form-control"
                                        type="text" placeholder="Enter Secondary Insurances Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceCompany'].touched && (step2Form.controls['secondaryInsuranceCompany'].hasError('required') || step2Form.controls['secondaryInsuranceCompany'].invalid)">
                                        {{ validationMessages.required('Insurance Company') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('secondaryInsuranceIdPolicy', $event)"
                                        formControlName="secondaryInsuranceIdPolicy" class="form-control" type="text"
                                        placeholder="Enter ID/Policy" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceIdPolicy'].touched && (step2Form.controls['secondaryInsuranceIdPolicy'].hasError('required') || step2Form.controls['secondaryInsuranceIdPolicy'].invalid)">
                                        {{ validationMessages.required('ID/Policy') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('secondaryInsuranceGroup', $event)"
                                        formControlName="secondaryInsuranceGroup" class="form-control" type="text"
                                        placeholder="Enter Group" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceGroup'].touched && (step2Form.controls['secondaryInsuranceGroup'].hasError('required') || step2Form.controls['secondaryInsuranceGroup'].invalid)">
                                        {{ validationMessages.required('Group') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Customer Service Ph # <span
                                            class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input [imask]="{mask: '(000) 000-0000'}"
                                        formControlName="secondaryInsuranceCustomerServicePh" class="form-control"
                                        type="text" placeholder="Enter Customer Service Ph" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceCustomerServicePh'].touched && (step2Form.controls['secondaryInsuranceCustomerServicePh'].hasError('required') || step2Form.controls['secondaryInsuranceCustomerServicePh'].invalid)">
                                        {{ validationMessages.required('Customer Service Ph') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Effective Date </label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input formControlName="secondaryInsuranceFromDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker5" (focus)="picker5.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker5"></mat-datepicker-toggle>
                                            <mat-datepicker #picker5></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceFromDate'].touched && (step2Form.controls['secondaryInsuranceFromDate'].hasError('required') || step2Form.controls['secondaryInsuranceFromDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective Date') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">End Date</label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [min]="todayDate" formControlName="secondaryInsuranceToDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker6" (focus)="picker6.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker6"></mat-datepicker-toggle>
                                            <mat-datepicker #picker6></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['secondaryInsuranceToDate'].touched && (step2Form.controls['secondaryInsuranceToDate'].hasError('required') || step2Form.controls['secondaryInsuranceToDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective End Date') }}
                                    </div>
                                </div>                               
                            </div>
                        </div>

                        <div class="col-12 d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-start justify-content-sm-between">
                            <div>&nbsp;</div> 
                            <button mat-raised-button color="primary" class="flex-shrink-0 mt-2" (click)="thirdInsurance()"><mat-icon class="material-symbols-outlined flex-shrink-0"> {{mat_icon}} </mat-icon>
                                    Add Insurance  
                            </button>
                        </div>

                        <div class="row" *ngIf="thirdInsurancesFlag">
                            <div class="col-12">
                                <h2 class="mb-2 mt-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Third Insurances</h2>
                            </div>
                            <div class="col-12">
                                <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16"> Subscriber's Details</h2>
                                <p class="font-15 lh-24">
                                    ("Subscriber" is the person who holds the insurance plan whether personally or through
                                    their employer.Please also provide a copy of your insurance card(s) to our receptionist)
                                </p>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">First Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <input (blur)="checkSpace('thirdSubscriberFirstName', $event)"
                                        formControlName="thirdSubscriberFirstName" class="form-control" type="text"
                                        placeholder="Enter First Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdSubscriberFirstName'].touched && (step2Form.controls['thirdSubscriberFirstName'].hasError('required') || step2Form.controls['thirdSubscriberFirstName'].invalid)">
                                        {{ validationMessages.required('Subscriber First Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Middle Name </label>
                                    <input formControlName="thirdSubscriberMiddleName" class="form-control" type="text"
                                        placeholder="Enter Middle Name" />
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Last Name <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <input (blur)="checkSpace('thirdSubscriberLastName', $event)"
                                        formControlName="thirdSubscriberLastName" class="form-control" type="text"
                                        placeholder="Enter Last Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdSubscriberLastName'].touched && (step2Form.controls['thirdSubscriberLastName'].hasError('required') || step2Form.controls['thirdSubscriberLastName'].invalid)">
                                        {{ validationMessages.required('Subscriber Last Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Date of Birth <span class="clr--DF0404 ms-1"> * </span></label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [max]="todayDate" formControlName="thirdSubscriberDob" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="picker9" (focus)="picker8.open()">
                                            <mat-datepicker-toggle matIconSuffix
                                                [for]="picker9"></mat-datepicker-toggle>
                                            <mat-datepicker #picker9></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdSubscriberDob'].touched && (step2Form.controls['thirdSubscriberDob'].hasError('required') || step2Form.controls['thirdSubscriberDob'].invalid)">
                                        {{ validationMessages.requiredDropdown('Date of Birth') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-4 col-xl-4">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Relationship with Patient <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <select formControlName="thirdSubscriberRelationWithPatient" class="form-select form-control" aria-label="Default select example" (change)="thirdSubscriberRelationShipPatient($event)">
                                        <option value="" selected>Select Relation</option>
                                        <option value="{{element}}" *ngFor="let element of relationWithPatient">
                                            {{element}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdSubscriberRelationWithPatient'].touched && (step2Form.controls['thirdSubscriberRelationWithPatient'].hasError('required') || step2Form.controls['thirdSubscriberRelationWithPatient'].invalid)">
                                        {{ validationMessages.requiredDropdown('Relationship with Patient') }}
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="thirdSubscriberOtherRelationFlag">
                                    <input class="form-control" type="text" formControlName="thirdSubscriberOtherRelation" placeholder="Enter other relation" />
                                    <div class="text text-danger mt-1" *ngIf="step2Form.controls['thirdSubscriberOtherRelation'].touched && (step2Form.controls['thirdSubscriberOtherRelation'].hasError('required') || step2Form.controls['thirdSubscriberOtherRelation'].invalid)">
                                        {{ validationMessages.required('Relation') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-4 ">
                                <div class="form-group mt-6">
                                    <mat-radio-group formControlName="thirdSubscriberGender" aria-label="Select an option" class="">
                                        <mat-radio-button value="Male" class="me-5">Male</mat-radio-button>
                                        <mat-radio-button value="Female">Female</mat-radio-button>
                                    </mat-radio-group>
                                    <div class="text text-danger mt-1" *ngIf="step2Form.controls['thirdSubscriberGender'].touched && (step2Form.controls['thirdSubscriberGender'].hasError('required') || step2Form.controls['thirdSubscriberGender'].invalid)">
                                        {{ validationMessages.required('Select Gender') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Third Insurances <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input formControlName="thirdInsuranceCompany"
                                        (blur)="checkSpace('thirdInsuranceCompany', $event)" class="form-control"
                                        type="text" placeholder="Enter Secondary Insurances Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceCompany'].touched && (step2Form.controls['thirdInsuranceCompany'].hasError('required') || step2Form.controls['thirdInsuranceCompany'].invalid)">
                                        {{ validationMessages.required('Insurance Company') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('thirdInsuranceIdPolicy', $event)"
                                        formControlName="thirdInsuranceIdPolicy" class="form-control" type="text"
                                        placeholder="Enter ID/Policy" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceIdPolicy'].touched && (step2Form.controls['thirdInsuranceIdPolicy'].hasError('required') || step2Form.controls['thirdInsuranceIdPolicy'].invalid)">
                                        {{ validationMessages.required('ID/Policy') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('thirdInsuranceGroup', $event)" formControlName="thirdInsuranceGroup" class="form-control" type="text" placeholder="Enter Group" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceGroup'].touched && (step2Form.controls['thirdInsuranceGroup'].hasError('required') || step2Form.controls['thirdInsuranceGroup'].invalid)">
                                        {{ validationMessages.required('Group') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Customer Service Ph # <span
                                            class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input [imask]="{mask: '(000) 000-0000'}"
                                        formControlName="thirdInsuranceCustomerServicePh" class="form-control"
                                        type="text" placeholder="Enter Customer Service Ph" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceCustomerServicePh'].touched && (step2Form.controls['thirdInsuranceCustomerServicePh'].hasError('required') || step2Form.controls['thirdInsuranceCustomerServicePh'].invalid)">
                                        {{ validationMessages.required('Customer Service Ph') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Effective Date </label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input formControlName="thirdInsuranceFromDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker5" (focus)="picker5.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker5"></mat-datepicker-toggle>
                                            <mat-datepicker #picker5></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceFromDate'].touched && (step2Form.controls['thirdInsuranceFromDate'].hasError('required') || step2Form.controls['thirdInsuranceFromDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective Date') }}
                                    </div>
                                </div>
                            </div>

                            <div class="col-12 col-lg-4 col-lx-4 col-md-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">End Date</label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [min]="todayDate" formControlName="thirdInsuranceToDate" readonly placeholder="MM-DD-YYYY"
                                                matInput [matDatepicker]="picker6" (focus)="picker6.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="picker6"></mat-datepicker-toggle>
                                            <mat-datepicker #picker6></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['thirdInsuranceToDate'].touched && (step2Form.controls['thirdInsuranceToDate'].hasError('required') || step2Form.controls['thirdInsuranceToDate'].invalid)">
                                        {{ validationMessages.requiredDropdown('Effective End Date') }}
                                    </div>
                                </div>
                            </div>
                        
                        </div>
                        
                        <div class="row">
                            <div class="col-12">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Is your injury related to <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <mat-radio-group formControlName="injuryRelelatedTo" aria-label="Select an option" (change)="onInjuryChange($event)">
                                        <mat-radio-button value="Worker's Compensation (WCOMP)" class="me-3">
                                            Worker's Compensation (WCOMP)</mat-radio-button>
                                        <mat-radio-button value="Motar Vehicle Accident (MVA)" class="me-3">
                                            Motar Vehicle Accident (MVA)</mat-radio-button>
                                        <div class="d-inline-flex flex-column">
                                            <mat-radio-button value="Other Personal Injury">
                                                Other Personal Injury
                                            </mat-radio-button>
                                            <div class="form-group" *ngIf="injurySelected=='Other Personal Injury'">
                                                <input class="form-control" type="text" formControlName="otherPersonalInjury" placeholder="Enter Other Injury" />
                                            </div>
                                        </div>
                                    </mat-radio-group>
                                </div>
                            </div>
                            
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Carrier Name <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <select formControlName="carrierName" class="form-select form-control"
                                        aria-label="Default select example">
                                        <option value="">Select</option>
                                        <option value="{{element}}" *ngFor="let element of carrierNameList;">{{element}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['carrierName'].touched && (step2Form.controls['carrierName'].hasError('required') || step2Form.controls['carrierName'].invalid)">
                                        {{ validationMessages.requiredDropdown('Carrier Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Date of Injury <span class="clr--DF0404 ms-1">
                                            *
                                        </span> </label>
                                    <div class="input-group">
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input [max]="todayDate" formControlName="dateOfInjury" readonly
                                                placeholder="MM-DD-YYYY" matInput [matDatepicker]="picker7" (focus)="picker7.open()">
                                            <mat-datepicker-toggle matIconSuffix
                                                [for]="picker7"></mat-datepicker-toggle>
                                            <mat-datepicker #picker7></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['dateOfInjury'].touched && (step2Form.controls['dateOfInjury'].hasError('required') || step2Form.controls['dateOfInjury'].invalid)">
                                        {{ validationMessages.requiredDropdown('Date of Injury') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">State <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <select formControlName="insuranceState" class="form-select form-control"
                                        aria-label="Default select example">
                                        <option value="">Select State</option>
                                        <option *ngFor="let item of states" value="{{item.state}}">
                                            {{item.state}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['insuranceState'].touched && (step2Form.controls['insuranceState'].hasError('required') || step2Form.controls['insuranceState'].invalid)">
                                        {{ validationMessages.requiredDropdown('State') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Claim # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input (blur)="checkSpace('claim', $event)" formControlName="claim"
                                        class="form-control" type="text" placeholder="Enter Claim" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['claim'].touched && (step2Form.controls['claim'].hasError('required') || step2Form.controls['claim'].invalid)">
                                        {{ validationMessages.required('Claim') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Adjuster Name # <span class="clr--DF0404 ms-1">* </span></label>
                                    <input (blur)="checkSpace('adjusterName', $event)" formControlName="adjusterName"
                                        class="form-control" type="text" placeholder="Enter Adjuster Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['adjusterName'].touched && (step2Form.controls['adjusterName'].hasError('required') || step2Form.controls['adjusterName'].invalid)">
                                        {{ validationMessages.required('Adjuster Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="workerCompensation">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Adjuster Phone # <span class="clr--DF0404 ms-1"> *</span></label>
                                    <input [imask]="{mask: '(000) 000-0000'}" formControlName="adjusterPhone"
                                        class="form-control" type="text" placeholder="Enter Adjuster Phone" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['adjusterPhone'].touched && (step2Form.controls['adjusterPhone'].hasError('required') || step2Form.controls['adjusterPhone'].invalid)">
                                        {{ validationMessages.required('Adjuster Phone') }}
                                    </div>
                                </div>
                            </div>
                    
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Was this reported to your employer?</label>
                                    <mat-radio-group formControlName="reportedEmployer" (change)="onEmployerChange($event)" aria-label="Select an option" >
                                        <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                        <mat-radio-button value="No">No</mat-radio-button>
                                    </mat-radio-group>
                                </div>
                            </div>
                            <div class="col-12" *ngIf="employerSelected=='Yes'">
                                <div class="row">
                                    <div class="col-12">
                                        <h2 class="mb-2 mt-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Employers Information
                                        </h2>
                                    </div>
                                    <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Employer Name <span class="clr--DF0404 ms-1"> *
                                                </span></label>
                                            <input (blur)="checkSpace('employerName', $event)" formControlName="employerName"
                                                class="form-control" type="text" placeholder="Enter Employer Name" />
                                            <div class="text text-danger mt-1"
                                                *ngIf="step2Form.controls['employerName'].touched && (step2Form.controls['employerName'].hasError('required') || step2Form.controls['employerName'].invalid)">
                                                {{ validationMessages.required('Employer Name') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Employer Phone <span class="clr--DF0404 ms-1">
                                                    *
                                                </span></label>
                                            <input [imask]="{mask: '(000) 000-0000'}" formControlName="employerPhone"
                                                class="form-control" type="text" placeholder="Enter Employer Phone" />
                                            <div class="text text-danger mt-1"
                                                *ngIf="step2Form.controls['employerPhone'].touched && (step2Form.controls['employerPhone'].hasError('required') || step2Form.controls['employerPhone'].invalid)">
                                                {{ validationMessages.required('Employer Phone') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Employer Address <span
                                                    class="clr--DF0404 ms-1"> *
                                                </span></label>
                                            <textarea (blur)="checkSpace('employerAddress', $event)"
                                                formControlName="employerAddress" class="form-control " type="text"
                                                placeholder="Enetr Address" rows="4"></textarea>
                                            <div class="text text-danger mt-1"
                                                *ngIf="step2Form.controls['employerAddress'].touched && (step2Form.controls['employerAddress'].hasError('required') || step2Form.controls['employerAddress'].invalid)">
                                                {{ validationMessages.required('Employer Address') }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-start justify-content-sm-between">
                                <h2 class="mb-2 mt-3 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Attorney Information </h2> 
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Have you consulted an attorney for your current problem?</label>
                                    <mat-radio-group (change)="attorneyChange($event)" formControlName="attorney" aria-label="Select an option">
                                        <mat-radio-button value="yes" class="me-3">Yes</mat-radio-button>
                                        <mat-radio-button value="no">No</mat-radio-button>
                                    </mat-radio-group>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="attorneyFlag">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Attorney Name </label>
                                    <input (blur)="checkSpace('attorneyName', $event)" formControlName="attorneyName" class="form-control" type="text" placeholder="Enter Attorney Name" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['attorneyName'].touched && (step2Form.controls['attorneyName'].hasError('required') || step2Form.controls['attorneyName'].invalid)">
                                        {{ validationMessages.required('Attorney Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="attorneyFlag">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Attorney Phone </label>
                                    <input [imask]="{mask: '(000) 000-0000'}" formControlName="attorneyPhone"
                                        class="form-control" type="text" placeholder="Enter Attorney Phone" />
                                    <div class="text text-danger mt-1"
                                        *ngIf="step2Form.controls['attorneyPhone'].touched && (step2Form.controls['attorneyPhone'].hasError('required') || step2Form.controls['attorneyPhone'].invalid)">
                                        {{ validationMessages.required('Attorney Phone') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 d-flex flex-column">
                                <div class="d-flex align-items-center justify-content-end w-100">
                                    <label class="fw-700 font-16 clr--1F2F3E me-3 mb-0">Upload Insurance Card</label>  
                                    <div class="form-group mb-0">
                                       <button [disabled]="uploadedInsuranceFilesTotal >= 5" mat-raised-button color="primary"
                                           class="flex-shrink-0 ms-0 ms-sm-auto   ui--button">
                                           <input #insuranceFileInput accept="image/*, application/pdf,.doc, .docx"
                                               (change)="uploadInsurance($event)" type="file">
                                           <mat-icon class="material-symbols-outlined flex-shrink-0"> upload </mat-icon>
                                           Upload
                                       </button> 
                                    </div>
                                </div> 
                                <div class="text-end text-danger mt-1 w-100"  > 
                                    <div class="text text-danger mt-1" *ngIf="fileError !=''">
                                        {{ fileError }}
                                    </div>
                                </div> 
                            </div>
                            <div class="col-12">
                                <p class="fw-700">Uploaded documents :</p>
                            </div>
                            <div class="col-12">
                                <div *ngIf="uploadedInsuranceFiles" class="">
                                    <div *ngFor="let fileObj of uploadedInsuranceFiles; let i=index"
                                        class="d-flex flex-column flex-sm-row align-items-center mb-3 w-100">
                                        <div class="d-flex align-items-center">
                                            <div class="doc--pic d-flex align-items-center justify-content-center me-3">
                                                <mat-icon>{{fileObj.icon}}</mat-icon>
                                            </div>
                                            <div class="d-flex flex-column  doc--desc">
                                                <h5 class="font-16">{{fileObj.name}}</h5>
                                                <p class="m-0 font-14">{{fileObj.size}} </p>
                                            </div>
                                        </div>
                                        <button (click)="deleteInsurance(i)" mat-raised-button color="warn"  class="flex-shrink-0" *ngIf="!isReadonly">
                                            <mat-icon class="material-symbols-outlined flex-shrink-0"> delete </mat-icon>
                                            Delete
                                        </button>
                                    </div>
                                 </div> 
                            </div>
                      
                            <div class="col-12 d-flex flex-column concent--box">
                                <label class="fw-700 font-16 clr--1F2F3E mb-1 mt-2">Consent</label>
                                <mat-checkbox (change)="openCMSmodal($event)">I have read and agree to the Hamilton Physical Therapy's <a target="_blank" [routerLink]="['/terms-of-services']" class="fw-700 text-decoration-underline font-16"> Terms of Service </a> and <a [routerLink]="['/privacy-policy']" target="_blank" class="fw-700 text-decoration-underline font-16">Privacy Policy. </a></mat-checkbox>
                            </div>
                            <div class="col-12 d-flex
                                        flex-column flex-sm-row 
                                        align-items-start align-items-sm-center 
                                        justify-content-start justify-content-sm-between">
                                <div class="signature--box d-flex align-items-center justify-content-center" *ngIf="fullNameForSign">
                                    {{fullNameForSign}}
                                </div> 
                                <!-- <button  mat-raised-button color="primary"
                                class="flex-shrink-0 mt-2">
                                <mat-icon class="material-symbols-outlined flex-shrink-0"> add_circle </mat-icon>
                                Add Insurance  
                             </button> -->
                            </div>

                            <div class="col-12 mt-3">
                                <div class="row">
                                    <div class="col-12 d-flex align-items-center">
                                        <label class="fw-700 font-16 clr--1F2F3E mb-0 me-3">Is The Patient A Minor?</label>
                                        <mat-radio-group (change)="changePatientMinor($event)" formControlName="isPatientMinor">
                                            <mat-radio-button value="yes" class="me-3">Yes </mat-radio-button>
                                            <mat-radio-button value="no">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                    <!-- *ngIf="selectedValue == 0011" -->
                                    <div class="col-12 minor--consent" *ngIf="isMinorFlag"> 
                                        <label class="fw-700 font-16 clr--1F2F3E mb-1">Minor Consent</label>
                                        <mat-checkbox (change)="openCMSmodal($event)"> 
                                        <p class="font-16 clr--1F2F3E lh-24 mb-0">{{fullNameForSign}} - I hereby authorize this PT
                                            clinic
                                            and/or it's
                                            Individual Therapists and Assistants to evaluate and administer PT treatments to the
                                            minor
                                            patient listed above. This authorization is in effect as of the date this form is
                                            signed.
                                            This authorization shall remain valid for current and future PT cases until written
                                            notice
                                            is given by me revoking said authorization. I understand that I am financially
                                            responsible
                                            for all services rendered to the above patient whether I am present at the time of
                                            treatment
                                            or not.</p>
                                        </mat-checkbox>
                                    </div>
                                </div>
                            </div>


                                    <!-- <div class="col-12 d-flex align-items-center justify-content-between flex-wrap">
                                        <div  >
                                            <a class="text-primary text-decoration-underline fw-700 font-16 mt-2 me-4 cursor-pointer"
                                                (click)="cmsModal()">Policies Page</a>
                                            <a class="text-primary text-decoration-underline fw-700 font-16 mt-2 cursor-pointer"
                                                (click)="cmsModal()">Hamilton Physical Therapy & Associated Clinics Policies
                                                Page</a>  
                                        </div>
                                        <div>
                                            <span class="fw-700 font-16 clr--1F2F3E mb-1 mt-1 me-3">Upload Insurance Card</span> 
                                            <button  mat-raised-button color="primary"
                                                class="flex-shrink-0 mt-2">
                                                <mat-icon class="material-symbols-outlined flex-shrink-0"> upload </mat-icon>
                                                Upload  
                                            </button>
                                        </div>
                                    </div> -->


                            <div class="col-12 d-flex  align-items-center justify-content-between mt-3" *ngIf="isMinorFlag && fullNameForSign">
                                <div class="signature--box d-flex align-items-center justify-content-center">
                                    {{fullNameForSign}}
                                </div>  
                            </div>
    
                            <div class="col-12 d-flex" *ngIf="isMinorFlag">
                                <p class="fw-600 font-16 clr--1F2F3E mt-2 mb-0">Patient/Guardian Signature (Guardians must
                                    sign for minors)</p>
                            </div>

                                <!-- <div class="col-12 d-flex justify-content-end w-100">
                                    <button [disabled]="step2Form.invalid || !isFormEditable" mat-raised-button
                                        color="primary" class="flex-shrink-0 mt-2" (click)="addInsurance()">
                                        <mat-icon class="material-symbols-outlined flex-shrink-0"> add_circle </mat-icon>
                                        Save Insurance As
                                    </button>  
                                </div> -->
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="d-flex align-items-center justify-content-between w-100 footer--btns">
            <button mat-stroked-button color="primary" class="m-1"
                [routerLink]="['/',activeUserRoute, 'intake-form','step-1', appId]">
                Previous
            </button>
            <!--[disabled]=" step2Form.invalid && payViaSelected=='Insurance'" -->
            <button  (click)="bookAppointmentStep2()" mat-raised-button color="primary" class="m-1" *ngIf="!isReadonly">
                Next
            </button>
            <button (click)="nextStep()" mat-raised-button color="primary" class="m-1" *ngIf="isReadonly">
                Next
            </button>
        </div>
    </form>
</div>