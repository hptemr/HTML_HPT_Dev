<div class="container-fluid book--appointment--wrapper billing--details pb-3">
    <div class="row">
        <div class="col-12 d-flex align-items-center my-2">
            <button mat-stroked-button color="primary" class="me-3 back--btn" [routerLink]="['/'+urlSegment+'/case-details',appointmentId]">
                <mat-icon class="material-symbols-outlined flex-shrink-0 m-0"> keyboard_backspace </mat-icon>
            </button>
            <h3 class="mb-0 clr--1F2F3E fw-600 d-flex flex-wrap">
                Billing Details
            </h3>
        </div>
    </div>
    <div class="card m-0">
        <div class="row"> 
            <div class="col-12 my-2">
                <form class="row" [formGroup]="billingDetailsForm">    
                    <!-- Primary Insurance -->
                    <div class="row"> 
                        <div class="col-12 col-xl-12"> 
                            <h3 class="mb-0 clr--1F2F3E fw-700 d-flex flex-wrap text-uppercase font-18 mb-3">
                                Insurances<span class="ms-1"> * </span> 
                            </h3>
                        </div>
                        <div class="col-12">
                            <div class="d-flex flex-row flex-wrap align-items-baseline mb-2">
                                <div class="col-12 col-lg-3 col-md-3 col-xl-3 mb-2">
                                    <h2 class="clr--1F2F3E fw-700 d-flex flex-wrap font-16"> Primary Insurance </h2>
                                </div>
                                <div class="col-12 col-lg-3 col-md-4 col-xl-3 mb-2">
                                    <!-- <div class="d-flex flex-row flex-wrap align-items-center">
                                        <label class="form-check-label fw-600 me-3 mb-1" for="flexSwitchCheckChecked">Re-order Insurances</label>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" checked>
                                        </div>
                                    </div> -->
                                </div>
                                <div class="col-12 col-md-5 col-lg-6 col-xl-6 d-flex flex-column flex-sm-row justify-content-sm-end"> 
                                    <button class="flex-shrink-0 me-2 mb-1" mat-raised-button color="primary" (click)="manageAutorizationModal()" *ngIf="!isSupportTeamUser"> 
                                        Manage Authorization
                                    </button>
                                    <!-- <button class="flex-shrink-0 mb-1" mat-raised-button color="primary"> 
                                        <mat-icon class="material-symbols-outlined flex-shrink-0 me-1 "> add_circle_outline </mat-icon> 
                                        Add Third Insurance
                                    </button>  -->
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Primary Insurance <span class="clr--DF0404 ms-1"> *
                                    </span>
                                </label>
                                <div class="d-flex w-100 position-relative primary--insu">
                                    <input class="form-control " type="text" placeholder="Primary Insurance" formControlName="primaryInsurance" />
                                    <button mat-raised-button color="primary" class="updt--btn" (click)="selectInsuranceModal('primary')">
                                        Update
                                    </button>
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['primaryInsurance'].touched && billingDetailsForm.controls['primaryInsurance'].hasError('required')">
                                        {{ validationMessages.required('Primary Insurance') }}
                                    </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter ID/Policy #" formControlName="PI_idPolicy"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_idPolicy'].touched && billingDetailsForm.controls['PI_idPolicy'].hasError('required')">
                                    {{ validationMessages.required('ID/Policy') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Number of Visits/Dollar amount used elsewhere</label>
                                <input class="form-control" type="text" placeholder="Enter Number of Visits" formControlName="PI_numberOfVisit" maxlength="6"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_numberOfVisit'].touched && billingDetailsForm.controls['PI_numberOfVisit'].hasError('pattern')">
                                    {{ validationMessages.validInput('Number of Visits') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Group #" formControlName="PI_group"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_group'].touched && billingDetailsForm.controls['PI_group'].hasError('required')">
                                    {{ validationMessages.required('Group') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Customer Service Ph # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Customer Service Ph #" formControlName="PI_customerServicePhNo" (input)="PICustServPhoneInputChange($event)" [value]="PICustServPhoneNumber" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_customerServicePhNo'].touched && billingDetailsForm.controls['PI_customerServicePhNo'].hasError('required')">
                                    {{ validationMessages.required('Customer Service Phone No') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_customerServicePhNo'].touched && billingDetailsForm.controls['PI_customerServicePhNo'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Effective Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #ed="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="ed.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->

                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="PI_effectiveDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="PIEffectiveDatepicker" (focus)="PIEffectiveDatepicker.open()" (dateChange)="onEffectiveDateChange($event)">
                                        <mat-datepicker-toggle matIconSuffix [for]="PIEffectiveDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #PIEffectiveDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_effectiveDate'].touched && billingDetailsForm.controls['PI_effectiveDate'].hasError('required')">
                                        {{ validationMessages.required('Effective Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">End Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #end="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="end.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="PI_endDate" [min]="effectiveSelectedDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="PIEndDateDatepicker" (focus)="PIEndDateDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="PIEndDateDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #PIEndDateDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_endDate'].touched && billingDetailsForm.controls['PI_endDate'].hasError('required')">
                                        {{ validationMessages.required('End Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4  d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Rx Required</label>
                                <mat-radio-group aria-label="Select an option" formControlName="PI_rxRequired">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No" class="me-3">No</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Copay Amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="PI_copayAmt" maxlength="6">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_copayAmt'].touched && billingDetailsForm.controls['PI_copayAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('Copay Amount') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">High Deductible</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="PI_highDeductible" maxlength="6">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_highDeductible'].touched && billingDetailsForm.controls['PI_highDeductible'].hasError('pattern')">
                                    {{ validationMessages.validInput('High Deductible') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Deductible net amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="PI_deductibleNetAmt" maxlength="6">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['PI_deductibleNetAmt'].touched && billingDetailsForm.controls['PI_deductibleNetAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('Deductible net amount') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-4 col-md-4 col-xl-3 d-flex align-items-center mb-2">
                            <div class="d-flex flex-row flex-wrap align-items-center">
                                <label class="form-check-label fw-600 me-3 mb-1" for="flexSwitchCheckChecked">Turn on KX Modifier</label>
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" formControlName="PI_turnOnModifier">
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                            <div class="form-group d-flex align-items-center">
                                <!-- <label class="col-form-label fw-600 p-0 me-3 label--width flex-shrink-0"></label> -->
                                <mat-radio-group aria-label="Select an option" [disabled]="false" formControlName="PI_hardSoftCap">
                                    <mat-radio-button value="Hard Cap" class="me-3" checked>Hard Cap</mat-radio-button>
                                    <mat-radio-button value="Soft Cap">Soft Cap</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-9">
                            <input type="text" class="form-control form-control-md" placeholder="lorem ipsum dollor" formControlName="PI_hardSoftCapText">
                        </div>

                        <div class="col-12">
                            <div class="row">
                                <!-- <div class="col-12 col-lg-6 col-md-6 col-xl-2 d-flex align-items-center">
                                    <div class="form-group">
                                        <label class="col-form-label fw-600">Authorization Required</label>
                                        <mat-radio-group aria-label="Select an option">
                                            <mat-radio-button value="1" class="me-3">Yes</mat-radio-button>
                                            <mat-radio-button value="2" class="me-3">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                </div> -->
                                <!-- <div class="col-12 col-lg-6 col-md-6 col-xl-2">
                                    <div class="form-group">
                                        <label class="col-form-label fw-600">Passport Approval</label>
                                        <mat-radio-group aria-label="Select an option">
                                            <mat-radio-button value="1" class="me-3">Yes</mat-radio-button>
                                            <mat-radio-button value="2" class="me-3">No</mat-radio-button>
                                        </mat-radio-group>
                                    </div>
                                </div> -->
                                <ng-container *ngIf="isInsuranceTypeMedicare">
                                    <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Passport Approval To</label>
                                            <div class="input-group">
                                                <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                                    ngbDatepicker #to1="ngbDatepicker" />
                                                <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="to1.toggle()"
                                                    type="button">
                                                    <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                                </button> -->
                                                <mat-form-field class="w-100 am--datepicker">
                                                    <input formControlName="PI_passportApprovalTo" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="PIPassportApprovalToDatepicker" (focus)="PIPassportApprovalToDatepicker.open()">
                                                    <mat-datepicker-toggle matIconSuffix [for]="PIPassportApprovalToDatepicker"></mat-datepicker-toggle>
                                                    <mat-datepicker #PIPassportApprovalToDatepicker></mat-datepicker>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Passport Approval From</label>
                                            <div class="input-group">
                                                <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                                    ngbDatepicker #from1="ngbDatepicker" />
                                                <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="from1.toggle()"
                                                    type="button">
                                                    <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                                </button> -->
                                                <mat-form-field class="w-100 am--datepicker">
                                                    <input formControlName="PI_passportApprovalFrom" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="PIPassportApprovalFromToDatepicker" (focus)="PIPassportApprovalFromToDatepicker.open()">
                                                    <mat-datepicker-toggle matIconSuffix [for]="PIPassportApprovalFromToDatepicker"></mat-datepicker-toggle>
                                                    <mat-datepicker #PIPassportApprovalFromToDatepicker></mat-datepicker>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                        <div class="form-group">
                                            <label class="col-form-label fw-600">Passport Provider</label>
                                            <input class="form-control" type="text" placeholder="Enter Passport Provider" formControlName="PI_passportProvider"/>
                                            <!-- <div class="text text-danger mt-1"> First Name required</div> -->
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                    </div>

                    <!-- Secondary Insurance -->
                    <div class="row">
                        <div class="col-12 d-flex flex-wrap align-items-center">
                            <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16">Secondary Insurance</h2>
                            <mat-checkbox class="mb-2" [(ngModel)]="SIAsPrimaryInsurance" (change)="SIMarkAsPrimaryInsurance($event)" [ngModelOptions]="{standalone: true}">Make this the Primary Insurance</mat-checkbox>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Secondary Insurance <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <div class="d-flex w-100 position-relative primary--insu">
                                        <input class="form-control" type="text" placeholder="Secondary Insurance" formControlName="secondaryInsurance" />
                                        <button mat-raised-button color="primary" class="updt--btn" (click)="selectInsuranceModal('secondary')">
                                            Update
                                        </button>
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['secondaryInsurance'].touched && billingDetailsForm.controls['secondaryInsurance'].hasError('required')">
                                        {{ validationMessages.required('Secondary Insurance') }}
                                    </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter ID/Policy #" formControlName="SI_idPolicy"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_idPolicy'].touched && billingDetailsForm.controls['SI_idPolicy'].hasError('required')">
                                    {{ validationMessages.required('ID/Policy') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Group #" formControlName="SI_group"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_group'].touched && billingDetailsForm.controls['SI_group'].hasError('required')">
                                    {{ validationMessages.required('Group') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Customer Service Ph # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Customer Service Ph #" formControlName="SI_customerServicePhNo"  (input)="SICustServPhoneInputChange($event)" [value]="SICustServPhoneNumber" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_customerServicePhNo'].touched && billingDetailsForm.controls['SI_customerServicePhNo'].hasError('required')">
                                    {{ validationMessages.required('Customer Service Phone No') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_customerServicePhNo'].touched && billingDetailsForm.controls['SI_customerServicePhNo'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3 d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Required <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option"  formControlName="SI_authorization">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No" class="me-3">No</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_authorization'].touched && billingDetailsForm.controls['SI_authorization'].hasError('required')">
                                    {{ validationMessages.required('Authorization') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Date From <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sfrom="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sfrom.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="SI_authorizationFromDate" readonly placeholder="MM-DD-YYYY" matInput (dateChange)="onSIAuthFromDateChange($event)" [matDatepicker]="SIAuthFromDatepicker" (focus)="SIAuthFromDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="SIAuthFromDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #SIAuthFromDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_authorizationFromDate'].touched && billingDetailsForm.controls['SI_authorizationFromDate'].hasError('required')">
                                        {{ validationMessages.required('Authorization') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Date To <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sto="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sto.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="SI_authorizationToDate" [min]="SIAuthFromDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="SIAuthToDatepicker" (focus)="SIAuthToDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="SIAuthToDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #SIAuthToDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_authorizationToDate'].touched && billingDetailsForm.controls['SI_authorizationToDate'].hasError('required')">
                                        {{ validationMessages.required('Authorization') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Effective Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sed="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sed.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="SI_effectiveDate" readonly placeholder="MM-DD-YYYY" matInput (dateChange)="onSIEffectiveDateChange($event)" [matDatepicker]="SIEffectiveDatepicker" (focus)="SIEffectiveDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="SIEffectiveDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #SIEffectiveDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_effectiveDate'].touched && billingDetailsForm.controls['SI_effectiveDate'].hasError('required')">
                                        {{ validationMessages.required('Effective Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">End Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #send="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="send.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="SI_endDate" [min]="SIEffectiveSelectedDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="SIEndDatepicker" (focus)="SIEndDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="SIEndDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #SIEndDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_endDate'].touched && billingDetailsForm.controls['SI_endDate'].hasError('required')">
                                        {{ validationMessages.required('End Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4  d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Rx Required <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="SI_rxRequired">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No" class="me-3">No</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_rxRequired'].touched && billingDetailsForm.controls['SI_rxRequired'].hasError('required')">
                                    {{ validationMessages.required('Rx Required') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Copay Amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="SI_copayAmt">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_copayAmt'].touched && billingDetailsForm.controls['SI_copayAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('Copay Amount') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">High Deductible</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="SI_highDeductible">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_highDeductible'].touched && billingDetailsForm.controls['SI_highDeductible'].hasError('pattern')">
                                    {{ validationMessages.validInput('High Deductible') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Deductible net amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="SI_deductibleNetAmt">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_deductibleNetAmt'].touched && billingDetailsForm.controls['SI_deductibleNetAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('High Deductible') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                            <div class="form-group d-flex align-items-center">
                                <!-- <label class="col-form-label fw-600 p-0 me-3 label--width flex-shrink-0"></label> -->
                                <label class="col-form-label fw-600 p-0 me-3 label--width flex-shrink-0"><span class="clr--DF0404 ms-1"> *</span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="SI_hardSoftCap">
                                    <mat-radio-button value="Hard Cap" class="me-3" checked>Hard Cap</mat-radio-button>
                                    <mat-radio-button value="Soft Cap">Soft Cap</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['SI_hardSoftCap'].touched && billingDetailsForm.controls['SI_hardSoftCap'].hasError('required')">
                                    {{ validationMessages.required('Hard/Soft Cap') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-8 col-xl-9 mb-3">
                            <input type="text" class="form-control form-control-md" placeholder="lorem ipsum dollor" formControlName="SI_hardSoftCapText">
                        </div>
                    </div>

                    <div class="col-12 d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-start justify-content-sm-between">
                        <div>&nbsp;</div> 
                        <button mat-raised-button [disabled]="isSupportTeamUser" color="primary" class="flex-shrink-0 mt-2" (click)="addThirdInsurance(mat_icon)"><mat-icon class="material-symbols-outlined flex-shrink-0"> {{mat_icon}} </mat-icon>
                            Add Third Insurance
                        </button>
                    </div>

                    
                    <!-- Third Insurance -->
                    <div class="row" *ngIf="mat_icon=='remove_circle_outline'">
                        <div class="col-12 d-flex flex-wrap align-items-center">
                            <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16">Third Insurance</h2>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Third Insurance <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                    <div class="d-flex w-100 position-relative primary--insu">
                                        <input class="form-control" type="text" placeholder="Third Insurance" formControlName="thirdInsurance"/>
                                        <button mat-raised-button color="primary" class="updt--btn" (click)="selectInsuranceModal('third')">
                                            Update
                                        </button>
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['thirdInsurance'].touched && billingDetailsForm.controls['thirdInsurance'].hasError('required')">
                                        {{ validationMessages.required('Third Insurance') }}
                                    </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">ID/Policy # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter ID/Policy #" formControlName="TI_idPolicy"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_idPolicy'].touched && billingDetailsForm.controls['TI_idPolicy'].hasError('required')">
                                    {{ validationMessages.required('ID/Policy') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Group # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Group #" formControlName="TI_group"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_group'].touched && billingDetailsForm.controls['TI_group'].hasError('required')">
                                    {{ validationMessages.required('Group') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Customer Service Ph # <span class="clr--DF0404 ms-1"> *
                                    </span></label>
                                <input class="form-control" type="text" placeholder="Enter Customer Service Ph #" formControlName="TI_customerServicePhNo"  (input)="TICustServPhoneInputChange($event)" [value]="TICustServPhoneNumber" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_customerServicePhNo'].touched && billingDetailsForm.controls['TI_customerServicePhNo'].hasError('required')">
                                    {{ validationMessages.required('Customer Service Phone No') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_customerServicePhNo'].touched && billingDetailsForm.controls['TI_customerServicePhNo'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3 d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Required <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="TI_authorization">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No" class="me-3">No</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_authorization'].touched && billingDetailsForm.controls['TI_authorization'].hasError('required')">
                                    {{ validationMessages.required('Authorization') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Date From <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sfrom="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sfrom.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="TI_authorizationFromDate" readonly placeholder="MM-DD-YYYY" matInput (dateChange)="onTIAuthFromDateChange($event)" [matDatepicker]="TIAuthFromDatepicker" (focus)="TIAuthFromDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="TIAuthFromDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #TIAuthFromDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_authorizationFromDate'].touched && billingDetailsForm.controls['TI_authorizationFromDate'].hasError('required')">
                                        {{ validationMessages.required('Authorization Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-3">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Authorization Date To <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sto="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sto.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="TI_authorizationToDate" [min]="TIAuthFromDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="TIAuthToDatepicker" (focus)="TIAuthToDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="TIAuthToDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #TIAuthToDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_authorizationToDate'].touched && billingDetailsForm.controls['TI_authorizationToDate'].hasError('required')">
                                        {{ validationMessages.required('Authorization Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Effective Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #sed="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="sed.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="TI_effectiveDate" readonly placeholder="MM-DD-YYYY" matInput (dateChange)="onTIEffectiveDateChange($event)" [matDatepicker]="TIEffectiveDatepicker" (focus)="TIEffectiveDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="TIEffectiveDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #TIEffectiveDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_effectiveDate'].touched && billingDetailsForm.controls['TI_effectiveDate'].hasError('required')">
                                        {{ validationMessages.required('Effective Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">End Date <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        ngbDatepicker #send="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="send.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="TI_endDate" [min]="TIEffectiveSelectedDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="TIEndDatepicker" (focus)="TIEndDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="TIEndDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #TIEndDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_endDate'].touched && billingDetailsForm.controls['TI_endDate'].hasError('required')">
                                        {{ validationMessages.required('End Date') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4  d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Rx Required <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="TI_rxRequired">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No" class="me-3">No</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_rxRequired'].touched && billingDetailsForm.controls['TI_rxRequired'].hasError('required')">
                                    {{ validationMessages.required('Rx Required') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Copay Amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="TI_copayAmt">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_copayAmt'].touched && billingDetailsForm.controls['TI_copayAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('Copay Amount') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">High Deductible</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="TI_highDeductible">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_highDeductible'].touched && billingDetailsForm.controls['TI_highDeductible'].hasError('pattern')">
                                    {{ validationMessages.validInput('High Deductible') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-4 mb-2">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Deductible net amount</label>
                                <div class="input-group prefix--field max-width-box-c">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text" id="basic-addon1">$</span>
                                    </div>
                                    <input type="text" class="form-control form-control-md" formControlName="TI_deductibleNetAmt">
                                </div>  
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_deductibleNetAmt'].touched && billingDetailsForm.controls['TI_deductibleNetAmt'].hasError('pattern')">
                                    {{ validationMessages.validInput('Deductible net amount') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-4 col-xl-3">
                            <div class="form-group d-flex align-items-center">
                                <!-- <label class="col-form-label fw-600 p-0 me-3 label--width flex-shrink-0"></label> -->
                                <label class="col-form-label fw-600 p-0 me-3 label--width flex-shrink-0"><span class="clr--DF0404 ms-1"> *</span></label>
                                <mat-radio-group aria-label="Select an option" [disabled]="false" formControlName="TI_hardSoftCap">
                                    <mat-radio-button value="Hard Cap" class="me-3" checked>Hard Cap</mat-radio-button>
                                    <mat-radio-button value="Soft Cap">Soft Cap</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['TI_hardSoftCap'].touched && billingDetailsForm.controls['TI_hardSoftCap'].hasError('required')">
                                    {{ validationMessages.required('Hard/Soft Cap') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-lg-8 col-xl-9 mb-3">
                            <input type="text" class="form-control form-control-md" placeholder="lorem ipsum dollor" formControlName="TI_hardSoftCapText">
                            
                        </div>
                    </div>

                    <!-- Responsible Party/Gurantor  -->
                    <div class="row"> 
                        <div class="col-12">
                            <h2 class="mb-3 mt-2  clr--1F2F3E fw-700 d-flex flex-wrap font-16">Responsible Party/Gurantor (RP)<span class="clr--DF0404 ms-1"> *
                            </span></h2>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Relationship with Patient</label>
                                <select class="form-select form-control" aria-label="Default select example" formControlName="RP_relationWithPatient">
                                    <option value="" selected>Select</option>
                                    <option value="Self">Self</option>
                                    <option value="Spouse">Spouse</option>
                                    <option value="Child">Child</option>
                                    <option value="Other">Other</option>
                                </select>
                                <!-- <div class="text text-danger mt-1">Error here</div> -->
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6" *ngIf="billingDetailsForm.value.RP_relationWithPatient == 'Other'">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Other Relation</label>
                                <input class="form-control" type="text" placeholder="Enter Other Relation" formControlName="RP_otherRelation"/>
                                <!-- <div class="text text-danger mt-1"> First Name required</div> -->
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">First Name<span class="clr--DF0404 ms-1"> *
                                </span> </label>
                                <input class="form-control" type="text" placeholder="Enter First Name" formControlName="RP_firstName"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_firstName'].touched && billingDetailsForm.controls['RP_firstName'].hasError('required')">
                                    {{ validationMessages.required('First Name') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_firstName'].touched && billingDetailsForm.controls['RP_firstName'].hasError('pattern')">
                                    {{ validationMessages.alphabeticChar('First Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Middle Name </label>
                                <input class="form-control" type="text" placeholder="Enter Middle Name" formControlName="RP_middleName"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_middleName'].touched && billingDetailsForm.controls['RP_middleName'].hasError('pattern')">
                                    {{ validationMessages.alphabeticChar('Middle Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-4">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Last Name<span class="clr--DF0404 ms-1"> *
                                </span> </label>
                                <input class="form-control" type="text" placeholder="Enter Last Name" formControlName="RP_lastName"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_lastName'].touched && billingDetailsForm.controls['RP_lastName'].hasError('required')">
                                    {{ validationMessages.required('Last Name') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_lastName'].touched && billingDetailsForm.controls['RP_lastName'].hasError('pattern')">
                                    {{ validationMessages.alphabeticChar('Last Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Date of Birth <span class="clr--DF0404 ms-1"> *
                                </span> </label>
                                <div class="input-group">
                                    <!-- <input class="form-control" placeholder="Select Date" name="dp"
                                        [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" />
                                    <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="d.toggle()"
                                        type="button">
                                        <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                    </button> -->
                                    <mat-form-field class="w-100 am--datepicker">
                                        <input formControlName="RP_dob" [max]="todayDate" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="RPDobDatepicker" (focus)="RPDobDatepicker.open()">
                                        <mat-datepicker-toggle matIconSuffix [for]="RPDobDatepicker"></mat-datepicker-toggle>
                                        <mat-datepicker #RPDobDatepicker></mat-datepicker>
                                    </mat-form-field>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_dob'].touched && billingDetailsForm.controls['RP_dob'].hasError('required')">
                                        {{ validationMessages.required('Date of Birth') }}
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Marital Status</label>
                                <select class="form-select form-control" aria-label="Default select example" formControlName="RP_maritalStatus">
                                    <option value="" selected>Select</option>
                                    <option value="Married">Married</option>
                                    <option value="Unmarried">Unmarried</option>
                                </select>
                            </div>
                            <!-- <div class="form-group" *ngIf="">
                                <input class="form-control" type="text" placeholder="Enter other relation" />
                            </div> -->
                        </div>
                        <div class="col-12 col-sm-6 col-lg-6 col-xl-12 d-flex align-items-center">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Gender <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="RP_gender">
                                    <mat-radio-button value="Male" class="me-3" checked>Male</mat-radio-button>
                                    <mat-radio-button value="Female">Female</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_gender'].touched && billingDetailsForm.controls['RP_gender'].hasError('required')">
                                    {{ validationMessages.required('Gender') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Email<span class="clr--DF0404 ms-1"> *
                                </span> </label>
                                <input class="form-control" type="text" placeholder="Enter Email Address" (input)="onEmailInput($event,'RP_email')" formControlName="RP_email"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_email'].touched && billingDetailsForm.controls['RP_email'].hasError('required')">
                                    {{ validationMessages.required('Email') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_email'].touched && billingDetailsForm.controls['RP_email'].hasError('email')">
                                    {{ validationMessages.validEmail }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Phone Number<span class="clr--DF0404 ms-1"> *
                                </span> </label>
                                <input class="form-control" type="text" placeholder="Enter Phone Number" formControlName="RP_phoneNo" (input)="RPPhoneNumberInputChange($event)" [value]="RPPhoneNumber" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_phoneNo'].touched && billingDetailsForm.controls['RP_phoneNo'].hasError('required')">
                                    {{ validationMessages.required('Phone Number') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_phoneNo'].touched && billingDetailsForm.controls['RP_phoneNo'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Cell Phone Number</label>
                                <input class="form-control" type="text" placeholder="Enter Cell Phone Number" formControlName="RP_cellPhoneNo" (input)="RPCellPhoneNumberInputChange($event)" [value]="RPCellPhoneNumber" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_cellPhoneNo'].touched && billingDetailsForm.controls['RP_cellPhoneNo'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Work Extension</label>
                                <input class="form-control" type="text" placeholder="Enter Work Extension" formControlName="RP_workExtension" (input)="RPWorkExtensionInputChange($event)" [value]="RPWorkExtension" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_workExtension'].touched && billingDetailsForm.controls['RP_workExtension'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Is your injury related to</label>
                                <mat-radio-group aria-label="Select an option" formControlName="RP_injuryRelatedTo" (change)="onChangeInjuryRelated($event)">
                                    <mat-radio-button value="Worker's Compensation (WCOMP)" class="me-3">Worker's Compensation (WCOMP)</mat-radio-button>
                                    <mat-radio-button value="Motar Vehicle Accident (MVA)" class="me-3">Motor Vehicle Accident (MVA)</mat-radio-button>
                                    <div class="d-inline-flex flex-column">
                                        <mat-radio-button value="Other Personal Injury">Other Personal Injury</mat-radio-button>
                                        <!-- <div class="form-group" *ngIf="">
                                            <input class="form-control" type="text" placeholder="Enter Other Injury" />
                                        </div> -->
                                    </div>
                                </mat-radio-group>
                            </div>
                        </div>
                        <ng-container *ngIf="isWorkerCompensationInjury">
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Carrier Name <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <select class="form-select form-control" aria-label="Default select example" formControlName="RP_carrierName">
                                        <option value="" selected>Select</option>
                                        <option value="{{element}}" *ngFor="let element of carrierNameList;">{{element}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_carrierName'].touched && billingDetailsForm.controls['RP_carrierName'].hasError('required')">
                                        {{ validationMessages.required('Carrier Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Date of Injury <span class="clr--DF0404 ms-1"> *
                                        </span> </label>
                                    <div class="input-group">
                                        <!-- <input class="form-control  " placeholder="Select Date" name="dp" [(ngModel)]="model"
                                            ngbDatepicker #de="ngbDatepicker" />
                                        <button class="btn btn-outline-primary py-0 px-3 calender--btn" (click)="de.toggle()"
                                            type="button">
                                            <i class="fa fa-calendar-o clr--fff" aria-hidden="true"></i>
                                        </button> -->
                                        <mat-form-field class="w-100 am--datepicker">
                                            <input formControlName="RP_dateOfInjury" readonly placeholder="MM-DD-YYYY" matInput [matDatepicker]="RPDateOfInjuryPicker" (focus)="RPDateOfInjuryPicker.open()">
                                            <mat-datepicker-toggle matIconSuffix [for]="RPDateOfInjuryPicker"></mat-datepicker-toggle>
                                            <mat-datepicker #RPDateOfInjuryPicker></mat-datepicker>
                                        </mat-form-field>
                                        <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_dateOfInjury'].touched && billingDetailsForm.controls['RP_dateOfInjury'].hasError('required')">
                                            {{ validationMessages.required('Date of Injury') }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">State <span class="clr--DF0404 ms-1"> * </span></label>
                                    <select class="form-select form-control" aria-label="Default select example" formControlName="RP_state">
                                        <option value="" selected>Select State</option>
                                        <option *ngFor="let item of states" value="{{item.state}}">
                                            {{item.state}}
                                        </option>
                                    </select>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_state'].touched && billingDetailsForm.controls['RP_state'].hasError('required')">
                                        {{ validationMessages.required('State') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Claim # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input class="form-control" type="text" placeholder="Enter Claim #" formControlName="RP_claim"/>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_claim'].touched && billingDetailsForm.controls['RP_claim'].hasError('required')">
                                        {{ validationMessages.required('Claim') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Adjuster Name # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input class="form-control" type="text" placeholder="Enter Adjuster Name" formControlName="RP_adjusterName"/>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_adjusterName'].touched && billingDetailsForm.controls['RP_adjusterName'].hasError('required')">
                                        {{ validationMessages.required('Adjuster Name') }}
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_adjusterName'].touched && billingDetailsForm.controls['RP_adjusterName'].hasError('pattern')">
                                        {{ validationMessages.alphabeticChar('Adjuster Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Adjuster Phone # <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input class="form-control" type="text" placeholder="Enter Adjuster Phone" formControlName="RP_adjusterPhone" (input)="RPAdjusterPhoneInputChange($event)" [value]="RPAdjusterPhone" maxlength="14"/>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_adjusterPhone'].touched && billingDetailsForm.controls['RP_adjusterPhone'].hasError('required')">
                                        {{ validationMessages.required('Adjuster Phone') }}
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['RP_adjusterPhone'].touched && billingDetailsForm.controls['RP_adjusterPhone'].hasError('pattern')">
                                        {{ validationMessages.invalidPhoneNumber }}
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>

                    <!-- Employers Information -->
                    <div class="row">
                        <div class="col-12">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Was this reported to your employer?</label>
                                <mat-radio-group aria-label="Select an option" formControlName="RP_reportedToEmployer" (change)="onChangeReportedToEmployer($event)">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No">No</mat-radio-button>
                                </mat-radio-group>
                            </div>
                        </div>
                        <ng-container *ngIf="isReportedToEmployer">
                            <div class="col-12">
                                <h2 class="mb-2 mt-1 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Employers Information </h2>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Employer Name <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input class="form-control" type="text" placeholder="Enter Employer Name" formControlName="EI_employerName"/>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['EI_employerName'].touched && billingDetailsForm.controls['EI_employerName'].hasError('required')">
                                        {{ validationMessages.required('Employer Name') }}
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['EI_employerName'].touched && billingDetailsForm.controls['EI_employerName'].hasError('pattern')">
                                        {{ validationMessages.alphabeticChar('Employer Name') }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Employer Phone <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <input class="form-control" type="text" placeholder="Enter Employer Phone" formControlName="EI_employerPhone" (input)="EIEmployerPhoneInputChange($event)" [value]="EIEmployerPhone" maxlength="14"/>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['EI_employerPhone'].touched && billingDetailsForm.controls['EI_employerPhone'].hasError('required')">
                                        {{ validationMessages.required('Employer Phone') }}
                                    </div>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['EI_employerPhone'].touched && billingDetailsForm.controls['EI_employerPhone'].hasError('pattern')">
                                        {{ validationMessages.invalidPhoneNumber }}
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group">
                                    <label class="col-form-label fw-600">Employer Address <span class="clr--DF0404 ms-1"> *
                                        </span></label>
                                    <textarea class="form-control " type="text" placeholder="Enetr Address" rows="4" formControlName="EI_employerAddress"></textarea>
                                    <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['EI_employerAddress'].touched && billingDetailsForm.controls['EI_employerAddress'].hasError('required')">
                                        {{ validationMessages.required('Employer Address') }}
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>

                    <!-- Attorney Information -->
                    <div class="row"> 
                        <div class="col-12">
                            <h2 class="mb-2 mt-2 clr--1F2F3E fw-700 d-flex flex-wrap font-16">Attorney Information </h2>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Attorney Name <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <input class="form-control" type="text" placeholder="Enter Attorney Name" formControlName="AI_attorneyName"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['AI_attorneyName'].touched && billingDetailsForm.controls['AI_attorneyName'].hasError('required')">
                                    {{ validationMessages.required('Attorney Name') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['AI_attorneyName'].touched && billingDetailsForm.controls['AI_attorneyName'].hasError('pattern')">
                                    {{ validationMessages.alphabeticChar('Attorney Name') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-6 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Attorney Phone  <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <input class="form-control" type="text" placeholder="Enter Attorney Phone" formControlName="AI_attorneyPhone" (input)="AIAttorneyPhoneInputChange($event)" [value]="AIAttorneyPhone" maxlength="14"/>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['AI_attorneyPhone'].touched && billingDetailsForm.controls['AI_attorneyPhone'].hasError('required')">
                                    {{ validationMessages.required('Attorney Phone') }}
                                </div>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['AI_attorneyPhone'].touched && billingDetailsForm.controls['AI_attorneyPhone'].hasError('pattern')">
                                    {{ validationMessages.invalidPhoneNumber }}
                                </div>
                            </div>
                        </div> 
                        <div class="col-12">
                            <div class="form-group">
                                <label class="col-form-label fw-600">Attorney Address  <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <textarea class="form-control " type="text" placeholder="Enter Address" rows="4" formControlName="AI_attorneyAddress"></textarea>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['AI_attorneyAddress'].touched && billingDetailsForm.controls['AI_attorneyAddress'].hasError('required')">
                                    {{ validationMessages.required('Attorney Address') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-5 col-xl-6">
                            <div class="form-group">
                                <label class="col-form-label fw-600">In Collection <span class="clr--DF0404 ms-1"> *
                                </span></label>
                                <mat-radio-group aria-label="Select an option" formControlName="inCollection">
                                    <mat-radio-button value="Yes" class="me-3">Yes</mat-radio-button>
                                    <mat-radio-button value="No">No</mat-radio-button>
                                </mat-radio-group>
                                <div class="text text-danger mt-1" *ngIf="billingDetailsForm.controls['inCollection'].touched && billingDetailsForm.controls['inCollection'].hasError('required')">
                                    {{ validationMessages.required('In Collection') }}
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6 col-md-7 col-xl-6" *ngIf="insuranceInfo?.insuranceFiles && insuranceInfo?.insuranceFiles.length">
                            <div class="d-flex flex-row align-items-center justify-content-md-end pt-1" *ngFor="let file of insuranceInfo.insuranceFiles;">
                                <label class="mb-0 font-14 fw-700 pt-0">Uploaded Insurance Card:</label>
                                <p class="mb-0 text-primary font-14 fw-600 ms-3 cursor-pointer" (click)="download(file)">{{file}}</p>
                            </div>
                        </div>
                        <div class="col-12 mt-3" *ngIf="userType=='billing_team'">
                            <div class="d-flex flex-row justify-content-end">
                                <button class="flex-shrink-0" mat-raised-button color="primary" [disabled]="!billingDetailsForm.valid" (click)="saveBillingDetails()">
                                    Save
                                </button>
                            </div>
                        </div> 
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>