<div class="col-12 app--details--wrapper profile--right--wrapper">
    <div class="card">
        <div class="card-header pb-0">
            <div class="col-12 d-flex align-items-center">
                <button mat-stroked-button color="primary" class="me-3 back--btn" [routerLink]="getPreviousPageLink()">
                    <mat-icon class="material-symbols-outlined flex-shrink-0 m-0"> keyboard_backspace </mat-icon> 
                </button>
                <h3 class="mb-0 clr--1F2F3E fw-600">Appointment Details</h3>
                
            </div> 
        </div>
        <div class="card-body d-flex flex-column flex-sm-row" *ngIf="appointment_flag">
            <div class="profile--left d-flex flex-column position-relative flex-shrink-0">
                <div class="head--sec w-100"> 
                </div> 
                <div class="profile--round position-relative">
                    <div class="user--name d-flex align-items-center justify-content-center">
                        <span class="text-primary fw-700 text-uppercase">{{initialName}}</span>
                    </div> 
                </div>
               <div class="d-flex flex-column align-items-center justify-content-center w-100 body--sec">
                 <h3 class="font-18 fw-700">{{appointmentData.patientId.firstName ? appointmentData.patientId.firstName : ''}} {{appointmentData.patientId.lastName ? appointmentData.patientId.lastName : ''}}</h3>
                 <div class="d-flex align-items-center user--email"> 
                    <mat-icon class="material-symbols-outlined flex-shrink-0 m-0 text-primary">mail </mat-icon>
                    <p class="my-2 font-15">{{appointmentData.patientId.email}}</p> 
                 </div>
                 <div class="d-flex align-items-center user--email"> 
                    <mat-icon class="material-symbols-outlined flex-shrink-0 m-0 text-primary">call </mat-icon>
                    <p class="my-2 font-15">+1 {{appointmentData.patientId.phoneNumber}}</p> 
                 </div> 
                 <button mat-stroked-button color="primary" class="mp--btn" (click)="navigateTopatientDetails(appointmentData.patientId._id)"> 
                    View Patient Profile
                </button>
                <!-- <button mat-stroked-button color="primary" class="mp--btn" (click)="systemFollowup()"> 
                    System Followup History
                </button> -->
                <button mat-stroked-button color="primary" class="mp--btn" (click)="systemFollowup()"> 
                    Appointment Reminders
                </button>
               </div>
            </div>
            <div class="profile--right d-flex flex-column w-100">
                <div class="card w-100 mb-0">
                    <div class="card-header pb-0">
                        <div class="col-12 d-flex align-items-center align-items-sm-start flex-sm-column flex-lg-row justify-content-between"> 
                            <h3 class="mb-0 clr--1F2F3E fw-600">Basic Information</h3> 
                            <button mat-raised-button color="primary"> 
                                View Intake Form
                            </button>
                        </div> 
                    </div>
                    <div class="card-body mt-4">
                        <div class="col-12"> 
                            <div class="row">
                                <div class="col-12 col-xl-6 col-md-12">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="d-flex align-items-start mb-4">
                                                <div class="indicate--round flex-shrink-0 d-flex align-items-center justify-content-center">
                                                    <mat-icon class="material-symbols-outlined text-primary">location_on</mat-icon> 
                                                </div>
                                                <div class="d-flex flex-column">
                                                    <h3 class="m-0 clr--1F2F3E font-16 fw-700">Practice Location</h3>
                                                    <p class="mb-0 clr--1F2F3E font-16 fw-400">{{appointmentData.practiceLocation}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="d-flex align-items-start mb-4">
                                                <div class="indicate--round flex-shrink-0 d-flex align-items-center justify-content-center">
                                                    <mat-icon class="material-symbols-outlined text-primary">call</mat-icon> 
                                                </div> 
                                                <div class="d-flex flex-column">
                                                    <h3 class="m-0 clr--1F2F3E font-16 fw-700">Appointment #</h3>
                                                    <p class="mb-0 clr--1F2F3E font-16 fw-400">{{appointmentData.appointmentId ? appointmentData.appointmentId : ''}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="d-flex align-items-start mb-4">
                                                <div class="indicate--round flex-shrink-0 d-flex align-items-center justify-content-center">
                                                    <mat-icon class="material-symbols-outlined text-primary">calendar_today</mat-icon> 
                                                </div> 
                                                <div class="d-flex flex-column flex-sm-column flex-lg-row">
                                                    <div class="d-flex flex-column me-3">
                                                        <h3 class="m-0 clr--1F2F3E font-16 fw-700">Appointment Date and Time</h3>
                                                        <p class="mb-0 clr--1F2F3E font-16 fw-400">{{appointmentData.appointmentDate | date:'EEE, MMM d, y h:mm a' }}</p>
                                                    </div>
                                                    <button mat-stroked-button color="primary" class="flex-shrink-0" (click)="rescheduleModal(appointmentData._id)"> 
                                                        <mat-icon class="material-symbols-outlined flex-shrink-0 me-1"> replay </mat-icon> 
                                                        Reschedule
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="d-flex align-items-start mb-4">
                                                <div class="indicate--round flex-shrink-0 d-flex align-items-center justify-content-center">
                                                    <mat-icon class="material-symbols-outlined text-primary">published_with_changes</mat-icon> 
                                                </div> 
                                                <div class="d-flex flex-column">
                                                    <h3 class="m-0 clr--1F2F3E font-16 fw-700">Appointment Status</h3>
                                                    <p class="mb-0 font-16 fw-400 status {{statusFlag}}">{{appointmentData.status}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="d-flex align-items-start mb-4">
                                                <div class="indicate--round flex-shrink-0 d-flex align-items-center justify-content-center">
                                                    <mat-icon class="material-symbols-outlined text-primary">paid</mat-icon> 
                                                </div> 
                                                <div class="d-flex flex-column flex-sm-column flex-lg-row">
                                                    <div class="d-flex flex-column me-3">
                                                        <h3 class="m-0 clr--1F2F3E font-16 fw-700">Payment Mode</h3>
                                                        <p class="mb-0 clr--1F2F3E font-16 fw-400">Insurance/Self Pay</p>
                                                    </div>
                                                    <button class="flex-shrink-0" mat-stroked-button color="primary"> 
                                                        <mat-icon class="material-symbols-outlined flex-shrink-0 me-1 ms-1"> visibility </mat-icon> 
                                                        View Insurance
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                                <div class="col-12 col-xl-6 col-md-12">
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="col-form-label fw-600">Assign Therapist <span class="clr--DF0404 ms-1"> * </span></label>
                                                <input class="form-control form-control-md" type="text" placeholder="Enter Assign Therapist" value="{{appointmentData.therapistId.firstName}} {{appointmentData.therapistId.lastName}}" />
                                                <!-- <div class="text text-danger mt-1">Error here</div> -->
                                              </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="col-form-label fw-600">Case Name</label>
                                                <input class="form-control form-control-md" type="text" placeholder="Search Case Name" value="{{appointmentData.caseName ? appointmentData.caseName : ''}}" />
                                                <!-- <div class="text text-danger mt-1">Error here</div> -->
                                              </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="col-form-label fw-600">Copay Amount</label>
                                                <input class="form-control form-control-md" type="number" placeholder="$" />
                                                <!-- <div class="text text-danger mt-1">Error here</div> -->
                                              </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label class="col-form-label fw-600">High Deductibles</label>
                                                <input class="form-control form-control-md" type="number" placeholder="$" />
                                                <!-- <div class="text text-danger mt-1">Error here</div> -->
                                              </div>
                                              <mat-checkbox class="" (change)="patientCheckIn($event, appointmentData)" [(ngModel)]="appointmentData.checkIn">Patient Checked-In</mat-checkbox>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
        <!-- <div class="card-body d-flex  w-100 mb-3 mt-0">
            <div class="medical--edu--video d-flex flex-column w-100">
                <h2 class="mb-3 clr--1F2F3E fw-600">Medical Educational Videos</h2>
                <div class="d-flex align-items-center w-100 v--outer">
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                    <div class="v--box flex-shrink-0">
                        <iframe width="300" height="200" src="https://www.youtube.com/embed/CmzKQ3PSrow?si=NqmvzScRVRCJeEli" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
            </div> 
        </div> -->
        <div class="d-flex align-items-center justify-content-center w-100 footer--btns">
            <button mat-raised-button color="green--btn" class="m-1" (click)="acceptAppointment(appointmentData._id)"  [disabled]="appointmentData.status =='Accepted' || appointmentData.status =='Cancelled'"> 
                {{appointmentData.status =='Accepted' ? 'Accepted' : 'Accept Appointment'}}
            </button>
            <button mat-raised-button color="warn" class="m-1" (click)="writeComment(appointmentData._id)" [disabled]="appointmentData.status =='Cancelled' || appointmentData.status =='Accepted'">                
                {{appointmentData.status =='Cancelled' ? 'Cancelled' : 'Cancel Appointment'}}
            </button>
        </div>
    </div>
</div> 
    