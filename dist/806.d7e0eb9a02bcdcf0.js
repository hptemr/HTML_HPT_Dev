"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[806],{2806:(f,p,r)=>{r.d(p,{s:()=>$});var _=r(8834),d=r(4006),w=r(9213),n=r(7278),t=r(9417),m=r(177),l=r(9039),i=r(5802),s=r(4438),h=r(3390),P=r(758);function v(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showCurrentPassword())}),s.nrm(1,"span",18),s.k0s()}}function C(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showCurrentPassword())}),s.nrm(1,"span",19),s.k0s()}}function E(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.required("Current password")," ")}}function M(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.password," ")}}function F(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showNewPassword())}),s.nrm(1,"span",18),s.k0s()}}function R(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showNewPassword())}),s.nrm(1,"span",19),s.k0s()}}function D(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.required("New password")," ")}}function k(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.password," ")}}function I(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showConfirmPassword())}),s.nrm(1,"span",18),s.k0s()}}function j(a,u){if(1&a){const e=s.RV6();s.j41(0,"div",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showConfirmPassword())}),s.nrm(1,"span",19),s.k0s()}}function O(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.confirmPassword," ")}}function T(a,u){if(1&a&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&a){const e=s.XpG();s.R7$(),s.SpI(" ",e.validationMessages.passwordMismatch," ")}}let $=(()=>{class a{constructor(e,c,o,g,N,U){this.dialog=e,this.fb=c,this.commonService=o,this.changePassDialogRef=g,this.adminService=N,this.data=U,this.validationMessages=i.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({currentPassword:["",[t.k0.required,t.k0.pattern(l.y.password)]],newPassword:["",[t.k0.required,t.k0.pattern(l.y.password)]],confirmPassword:["",t.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(e){const c=e.get("newPassword"),o=e.get("confirmPassword");return o.value&&c.value!==o.value?{passwordMismatch:!0}:null}changePassword(){this.changePasswordForm.valid&&this.adminService.changePassword({currentPassword:this.changePasswordForm.value.currentPassword,confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId}).subscribe({next:c=>{c&&!c.error&&this.successModal(c)},error:c=>{c.error?.error&&this.commonService.openSnackBar(c.error?.message,"ERROR")}})}successModal(e){this.dialog.open(n.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:e.message}}).afterClosed().subscribe(o=>{o&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}static#s=this.\u0275fac=function(c){return new(c||a)(s.rXU(d.bZ),s.rXU(t.ok),s.rXU(h.h),s.rXU(d.CP),s.rXU(P.z),s.rXU(d.Vh))};static#o=this.\u0275cmp=s.VBU({type:a,selectors:[["app-change-password-modal"]],standalone:!0,features:[s.aNF],decls:45,vars:14,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","*********","formControlName","currentPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","*********","formControlName","newPassword",1,"form-control",3,"type"],["placeholder","*********","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(c,o){1&c&&(s.j41(0,"div",0)(1,"div",1)(2,"h1"),s.EFF(3,"Change Password"),s.k0s()(),s.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),s.EFF(9,"Current Password "),s.j41(10,"span",7),s.EFF(11," * "),s.k0s()(),s.j41(12,"div",8),s.nrm(13,"input",9),s.DNE(14,v,2,0,"div",10)(15,C,2,0),s.k0s(),s.DNE(16,E,2,1,"div",11)(17,M,2,1,"div",11),s.k0s(),s.j41(18,"div",5)(19,"label",6),s.EFF(20,"New Password "),s.j41(21,"span",7),s.EFF(22," * "),s.k0s()(),s.j41(23,"div",8),s.nrm(24,"input",12),s.DNE(25,F,2,0,"div",10)(26,R,2,0),s.k0s(),s.DNE(27,D,2,1,"div",11)(28,k,2,1,"div",11),s.k0s(),s.j41(29,"div",5)(30,"label",6),s.EFF(31,"Confirm Password "),s.j41(32,"span",7),s.EFF(33," * "),s.k0s()(),s.j41(34,"div",8),s.nrm(35,"input",13),s.DNE(36,I,2,0,"div",10)(37,j,2,0),s.k0s(),s.DNE(38,O,2,1,"div",11)(39,T,2,1,"div",11),s.k0s()()()(),s.j41(40,"div",14)(41,"button",15),s.EFF(42,"Cancel"),s.k0s(),s.j41(43,"button",16),s.bIt("click",function(){return o.changePassword()}),s.EFF(44,"Submit"),s.k0s()()()),2&c&&(s.R7$(5),s.Y8G("formGroup",o.changePasswordForm),s.R7$(8),s.Y8G("type",o.showCurrPass?"text":"password"),s.R7$(),s.vxM(14,o.showCurrPass?15:14),s.R7$(2),s.Y8G("ngIf",o.changePasswordForm.controls.currentPassword.touched&&o.changePasswordForm.controls.currentPassword.hasError("required")),s.R7$(),s.Y8G("ngIf",o.changePasswordForm.controls.currentPassword.touched&&o.changePasswordForm.controls.currentPassword.hasError("pattern")),s.R7$(7),s.Y8G("type",o.showNewPass?"text":"password"),s.R7$(),s.vxM(25,o.showNewPass?26:25),s.R7$(2),s.Y8G("ngIf",o.changePasswordForm.controls.newPassword.touched&&o.changePasswordForm.controls.newPassword.hasError("required")),s.R7$(),s.Y8G("ngIf",o.changePasswordForm.controls.newPassword.touched&&o.changePasswordForm.controls.newPassword.hasError("pattern")),s.R7$(7),s.Y8G("type",o.showConfPass?"text":"password"),s.R7$(),s.vxM(36,o.showConfPass?37:36),s.R7$(2),s.Y8G("ngIf",o.changePasswordForm.controls.confirmPassword.touched&&o.changePasswordForm.controls.confirmPassword.hasError("required")),s.R7$(),s.Y8G("ngIf",o.changePasswordForm.hasError("passwordMismatch")&&o.changePasswordForm.controls.confirmPassword.touched),s.R7$(4),s.Y8G("disabled",!o.changePasswordForm.valid))},dependencies:[w.m_,_.Hl,_.$z,d.hM,d.tx,m.MD,m.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return a})()},7278:(f,p,r)=>{r.d(p,{c:()=>m});var _=r(8834),d=r(4006),w=r(9213),n=r(4438),t=r(9417);let m=(()=>{class l{constructor(s,h,P){this.fb=s,this.dialogRef=h,this.data=P,this.successNote="",this.successNote=null!=P.successNote?P.successNote:this.successNote}static#s=this.\u0275fac=function(h){return new(h||l)(n.rXU(t.ok),n.rXU(d.CP),n.rXU(d.Vh))};static#o=this.\u0275cmp=n.VBU({type:l,selectors:[["app-success-modal"]],standalone:!0,features:[n.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(h,P){1&h&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"p",3),n.EFF(4),n.k0s(),n.j41(5,"div",4)(6,"button",5),n.EFF(7,"Okay "),n.k0s()()()()),2&h&&(n.R7$(4),n.JRh(P.successNote),n.R7$(2),n.Y8G("mat-dialog-close",!0))},dependencies:[w.m_,_.Hl,_.$z,d.hM,d.tx]})}return l})()},758:(f,p,r)=>{r.d(p,{z:()=>n});var _=r(1626),d=r(5312),w=r(4438);let n=(()=>{class t{constructor(l){this.http=l}invite(l){return this.http.post(`${d.c.apiUrl}/admin/invite`,l).pipe()}changePassword(l){return this.http.post(`${d.c.apiUrl}/admin/changePassword`,l).pipe()}adminUsers(l,i){let s=(new _.Nl).set("searchQuery",l).set("userRole",i);return this.http.get(`${d.c.apiUrl}/admin/users`,{params:s}).pipe()}profile(l){return this.http.post(`${d.c.apiUrl}/admin/profile`,l).pipe()}updateProfile(l){return this.http.post(`${d.c.apiUrl}/admin/updateProfile`,l).pipe()}static#s=this.\u0275fac=function(i){return new(i||t)(w.KVO(_.Qq))};static#o=this.\u0275prov=w.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},3390:(f,p,r)=>{r.d(p,{h:()=>t});var _=r(4438),d=r(5416),w=r(1626);let n=(()=>{class m{constructor(i){this.http=i}static#s=this.\u0275fac=function(s){return new(s||m)(_.KVO(w.Qq))};static#o=this.\u0275prov=_.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})(),t=(()=>{class m{constructor(i,s){this.snackBar=i,this.generalService=s}openSnackBar(i,s){this.snackBar.open(i,s,{duration:4e3})}formatPhoneNumber(i){const s=i.replace(/\D/g,"");let h="";return s.length>=3&&(h+=`(${s.slice(0,3)})`,s.length>3&&(h+=` ${s.slice(3,6)}`,s.length>6&&(h+=`-${s.slice(6,10)}`))),h}static#s=this.\u0275fac=function(s){return new(s||m)(_.KVO(d.UG),_.KVO(n))};static#o=this.\u0275prov=_.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},9039:(f,p,r)=>{r.d(p,{y:()=>_});const _={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-@$!%*?&#^()+=_<>,./;:'"|\`~])[A-Za-z\d-@$!%*?&#^()+=_<>,./;:'"|\`~]{8,16}$/,usPhoneNumber:/^\(\d{3}\) \d{3}-\d{4}$/,alphabetic:/^[a-zA-Z]*$/,onlyNumeric:/^[0-9]+$/,numericAndSpecialCharacter:/^[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/}},5802:(f,p,r)=>{r.d(p,{q:()=>_});const _={required:d=>`Please enter ${d}`,validEmail:"The email address seems to be incorrect",password:"Minimum 8 and maximum 16 character, atleast one special character, one numeric & 1 uppercase and lowercase letter",passwordMismatch:"The passwords do not match. Please try again",confirmPassword:"Please confirm your password",invalidPhoneNumber:"Invalid phone number format",alphabeticChar:d=>`Please enter a valid ${d}`,newPasswordRequired:"Please set a password for your account"}}}]);