"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[939],{8920:(z,V,n)=>{n.d(V,{e:()=>L});var R=n(4523),m=n(177),_=n(9417),M=n(8834),e=n(4006),B=n(9213),a=n(3787),u=n(6911),t=n(5802),l=n(4438),k=n(3390),r=n(6992),I=n(5084),W=n(2102),S=n(9631);function O(p,G){if(1&p&&(l.j41(0,"div",19),l.EFF(1),l.k0s()),2&p){const C=l.XpG();l.R7$(),l.SpI(" ",C.validationMessages.requiredDropdown("Appointment Date")," ")}}function F(p,G){if(1&p&&(l.j41(0,"div",19),l.EFF(1),l.k0s()),2&p){const C=l.XpG();l.R7$(),l.SpI(" ",C.validationMessages.required("your comment")," ")}}let L=(()=>{class p{constructor(C,b,N,P,x){this.commonService=C,this.authService=b,this.fb=N,this.dialogRef=P,this.data=x,this.validationMessages=t.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.todayDate=new Date,this.maxAppntDate=this.commonService.getMaxAppoinmentFutureMonths(),this.appointmentId=null!=x.appointmentId?x.appointmentId:"",this.userRole=null!=x.userRole?x.userRole:"",this.userId=null!=x.userId?x.userId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rescheduleForm=this.fb.group({appointmentDate:["",[_.k0.required]],comment:["",[_.k0.required,_.k0.minLength(1),_.k0.maxLength(100)]]})}trimInput(){0!==(this.rescheduleForm.controls.comment.value||"").trim().length||this.rescheduleForm.controls.comment.setValue("")}submitForm(C){var b=this;return(0,R.A)(function*(){if(b.appointmentId){let N={query:{_id:b.appointmentId},updateInfo:{status:"Rescheduled",appointmentDate:C.appointmentDate,rescheduleInfo:{fromPatientId:b.userId,fromAdminId:b.userId,userRole:b.userRole,comment:C.comment}},email:b.authService.getLoggedInInfo("email"),firstName:b.authService.getLoggedInInfo("firstName")};yield b.authService.apiRequest("post","appointment/rescheduleAppointment",N).subscribe(function(){var P=(0,R.A)(function*(x){b.dialogRef.close(x)});return function(x){return P.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(b){return new(b||p)(l.rXU(k.h),l.rXU(r.u),l.rXU(_.ok),l.rXU(e.CP),l.rXU(e.Vh))};static#t=this.\u0275cmp=l.VBU({type:p,selectors:[["app-reschedule-appointment-modal"]],standalone:!0,features:[l.aNF],decls:29,vars:8,consts:[["picker",""],[1,"reschedule--app--modal","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600"],[1,"row",3,"ngSubmit","formGroup"],[1,"ra--body","w-100"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"input-group"],[1,"w-100","am--datepicker"],["formControlName","appointmentDate","readonly","","placeholder","MM-DD-YYYY","matInput","",3,"focus","min","max","matDatepicker"],["matIconSuffix","",3,"for"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Write your comment here","formControlName","comment","rows","4",1,"form-control",3,"blur"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(b,N){if(1&b){const P=l.RV6();l.j41(0,"div",1)(1,"header",2)(2,"h1",3),l.EFF(3,"Reschedule an Appointment"),l.k0s()(),l.j41(4,"form",4),l.bIt("ngSubmit",function(){return l.eBV(P),l.Njj(N.submitForm(N.rescheduleForm.value))}),l.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),l.EFF(10,"Select Date"),l.k0s(),l.j41(11,"div",10)(12,"mat-form-field",11)(13,"input",12),l.bIt("focus",function(){l.eBV(P);const g=l.sdS(16);return l.Njj(g.open())}),l.k0s(),l.nrm(14,"mat-datepicker-toggle",13)(15,"mat-datepicker",null,0),l.k0s()(),l.DNE(17,O,2,1,"div",14),l.k0s()(),l.j41(18,"div",7)(19,"div",8)(20,"label",9),l.EFF(21,"Mention the cause "),l.k0s(),l.j41(22,"textarea",15),l.bIt("blur",function(){return l.eBV(P),l.Njj(N.trimInput())}),l.k0s(),l.DNE(23,F,2,1,"div",14),l.k0s()()()(),l.j41(24,"div",16)(25,"button",17),l.EFF(26,"Cancel"),l.k0s(),l.j41(27,"button",18),l.EFF(28,"Submit"),l.k0s()()()()}if(2&b){const P=l.sdS(16);l.R7$(4),l.Y8G("formGroup",N.rescheduleForm),l.R7$(9),l.Y8G("min",N.todayDate)("max",N.maxAppntDate)("matDatepicker",P),l.R7$(),l.Y8G("for",P),l.R7$(3),l.Y8G("ngIf",N.rescheduleForm.controls.appointmentDate.touched&&N.rescheduleForm.controls.appointmentDate.hasError("required")),l.R7$(6),l.Y8G("ngIf",N.rescheduleForm.controls.comment.touched&&N.rescheduleForm.controls.comment.hasError("required")),l.R7$(4),l.Y8G("disabled",N.rescheduleForm.invalid)}},dependencies:[B.m_,M.Hl,M.$z,e.hM,e.tx,m.MD,m.bT,_.YN,_.qT,_.me,_.BC,_.cb,_.X1,_.j4,_.JD,u.UN,a.G,I.Vh,I.bZ,I.bU,W.rl,W.yw,S.fg],styles:[".reschedule--app--modal[_ngcontent-%COMP%]{padding:20px}.reschedule--app--modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2f3e;font-size:18px;margin-bottom:20px}"]})}return p})()},1904:(z,V,n)=>{n.d(V,{b:()=>r});var R=n(4523),m=n(177),_=n(9417),M=n(8834),e=n(4006),B=n(9213),a=n(5802),u=n(4438),t=n(3390),l=n(6992);function k(I,W){if(1&I&&(u.j41(0,"div",14),u.EFF(1),u.k0s()),2&I){const S=u.XpG();u.R7$(),u.SpI(" ",S.validationMessages.required("your comment")," ")}}let r=(()=>{class I{constructor(S,O,F,L,p){this.commonService=S,this.authService=O,this.fb=F,this.dialogRef=L,this.data=p,this.validationMessages=a.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.appointmentId=null!=p.appointmentId?p.appointmentId:"",this.userRole=null!=p.userRole?p.userRole:"",this.userId=null!=p.userId?p.userId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rejectCommentForm=this.fb.group({rejectComment:["",[_.k0.required,_.k0.minLength(1),_.k0.maxLength(100)]]})}trimInput(){0!==(this.rejectCommentForm.controls.rejectComment.value||"").trim().length||this.rejectCommentForm.controls.rejectComment.setValue("")}submitForm(S){var O=this;return(0,R.A)(function*(){if(O.appointmentId){let F={query:{_id:O.appointmentId},updateInfo:{status:"Cancelled",rejectInfo:{fromPatientId:O.userId,fromAdminId:O.userId,userRole:O.userRole,comment:S.rejectComment,rejectedDate:new Date}}};yield O.authService.apiRequest("post","appointment/cancelAppointment",F).subscribe(function(){var L=(0,R.A)(function*(p){O.dialogRef.close(p)});return function(p){return L.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(O){return new(O||I)(u.rXU(t.h),u.rXU(l.u),u.rXU(_.ok),u.rXU(e.CP),u.rXU(e.Vh))};static#t=this.\u0275cmp=u.VBU({type:I,selectors:[["app-write-comment-modal"]],standalone:!0,features:[u.aNF],decls:20,vars:3,consts:[[1,"alert--wrapper","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600","font-18","mb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-3"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(O,F){1&O&&(u.j41(0,"div",0)(1,"header",1)(2,"h1",2),u.EFF(3,"Write a Comment"),u.k0s()(),u.j41(4,"form",3),u.bIt("ngSubmit",function(){return F.submitForm(F.rejectCommentForm.value)}),u.j41(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),u.EFF(10," Mention the cause "),u.j41(11,"span",8),u.EFF(12," *"),u.k0s()(),u.j41(13,"textarea",9),u.bIt("blur",function(){return F.trimInput()}),u.k0s(),u.DNE(14,k,2,1,"div",10),u.k0s()()()(),u.j41(15,"div",11)(16,"button",12),u.EFF(17,"Cancel"),u.k0s(),u.j41(18,"button",13),u.EFF(19,"Submit"),u.k0s()()()()),2&O&&(u.R7$(4),u.Y8G("formGroup",F.rejectCommentForm),u.R7$(10),u.Y8G("ngIf",F.rejectCommentForm.controls.rejectComment.touched&&F.rejectCommentForm.controls.rejectComment.hasError("required")),u.R7$(4),u.Y8G("disabled",F.rejectCommentForm.invalid))},dependencies:[B.m_,M.Hl,M.$z,e.hM,e.tx,m.MD,m.bT,_.YN,_.qT,_.me,_.BC,_.cb,_.X1,_.j4,_.JD]})}return I})()},4923:(z,V,n)=>{n.d(V,{S:()=>N});var R=n(4800),m=n(4523),_=n(9417),M=n(4006),e=n(8834),B=n(9213),a=n(5802),u=n(177),t=n(1796),l=n(5946),k=n(6288),r=n(4438),I=n(6992),W=n(8639),S=n(3390);function O(P,x){if(1&P&&(r.j41(0,"div",15),r.EFF(1),r.k0s()),2&P){const g=r.XpG(2);r.R7$(),r.SpI(" ",g.validationMessages.required("Group Name")," ")}}function F(P,x){if(1&P&&(r.j41(0,"div",15),r.EFF(1),r.k0s()),2&P){const g=r.XpG(2);r.R7$(),r.SpI(" ",g.validationMessages.minlength("Group Name",3)," ")}}function L(P,x){if(1&P){const g=r.RV6();r.j41(0,"div",2)(1,"div",3)(2,"h1"),r.EFF(3),r.k0s()(),r.j41(4,"div",4)(5,"form",5)(6,"div",6)(7,"div",7)(8,"label",8),r.EFF(9,"Group Name "),r.j41(10,"span",9),r.EFF(11," * "),r.k0s()(),r.nrm(12,"input",10),r.DNE(13,O,2,1,"div",11)(14,F,2,1,"div",11),r.k0s()()()(),r.j41(15,"div",12)(16,"button",13),r.bIt("click",function(){r.eBV(g);const U=r.XpG();return r.Njj(U.cancelPopup())}),r.EFF(17,"Cancel"),r.k0s(),r.j41(18,"button",14),r.bIt("click",function(){r.eBV(g);const U=r.XpG();return r.Njj(U.createGroup())}),r.EFF(19,"Create Group"),r.k0s()()()}if(2&P){const g=r.XpG();r.R7$(3),r.JRh(g.heading),r.R7$(2),r.Y8G("formGroup",g.createGroupForm),r.R7$(8),r.Y8G("ngIf",g.createGroupForm.controls.groupName.touched&&g.createGroupForm.controls.groupName.hasError("required")),r.R7$(),r.Y8G("ngIf",g.createGroupForm.controls.groupName.touched&&g.createGroupForm.controls.groupName.hasError("minlength")),r.R7$(4),r.Y8G("disabled",!g.createGroupForm.valid)}}function p(P,x){if(1&P&&r.nrm(0,"cometchat-add-members",18),2&P){const g=r.XpG(2);r.Y8G("group",g.groupObject)("onAddMembersButtonClick",g.handleOnAddMembersButtonClick)}}function G(P,x){if(1&P&&(r.j41(0,"div",16),r.DNE(1,p,1,2,"cometchat-add-members",17),r.k0s()),2&P){const g=r.XpG();r.R7$(),r.Y8G("ngIf",g.groupObject)}}let C=(()=>{class P{constructor(g,j,U,K,X,v){var w=this;this.authService=g,this.userService=j,this.commonService=U,this.fb=K,this.dialogRef=X,this.data=v,this.validationMessages=a.q,this.heading="",this.loginUserId="",this.isGroupCreate=!1,this.handleOnAddMembersButtonClick=function(){var D=(0,m.A)(function*(y,T){let $=T;(yield w.userService.addMemberToGroup(y,$).catch(()=>!1))?w.dialogRef.close({error:!1,message:"Group is created successfully."}):w.dialogRef.close({error:!1,message:"Group is not created. Try after sometimes."})});return function(y,T){return D.apply(this,arguments)}}(),this.heading=null!=v.heading?v.heading:this.heading,this.loginUserId=this.authService.getLoggedInInfo("_id")}ngOnInit(){this.createGroupForm=this.fb.group({groupName:["",[_.k0.required,_.k0.minLength(3)]]})}createGroup(){var g=this;return(0,m.A)(function*(){if(g.createGroupForm.valid){let U=`group__${g.commonService.generateRandomId(13)}`,K=g.createGroupForm.value.groupName,X=yield g.userService.createGroup(U,K).catch(()=>!1);X&&(g.isGroupCreate=!0,l.CometChat.getGroup(X.guid).then(w=>{g.groupObject=w}))}})()}cancelPopup(){this.dialogRef.close()}static#e=this.\u0275fac=function(j){return new(j||P)(r.rXU(I.u),r.rXU(W.D),r.rXU(S.h),r.rXU(_.ok),r.rXU(M.CP),r.rXU(M.Vh))};static#t=this.\u0275cmp=r.VBU({type:P,selectors:[["app-create-chat-group"]],standalone:!0,features:[r.aNF],decls:2,vars:2,consts:[["class","inivite--wrapper d-flex flex-column",4,"ngIf"],["class","inivite--wrapper d-flex flex-column fullwidth",4,"ngIf"],[1,"inivite--wrapper","d-flex","flex-column"],[1,"inivite--header","w-100"],[1,"inivite--body","w-100"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-400"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Group Name","formControlName","groupName","maxlength","50",1,"form-control","form-control-md"],["class","text text-danger mt-1",4,"ngIf"],[1,"inivite--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary",1,"me-2",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text","text-danger","mt-1"],[1,"inivite--wrapper","d-flex","flex-column","fullwidth"],["class","w-100",3,"group","onAddMembersButtonClick",4,"ngIf"],[1,"w-100",3,"group","onAddMembersButtonClick"]],template:function(j,U){1&j&&r.DNE(0,L,20,5,"div",0)(1,G,2,1,"div",1),2&j&&(r.Y8G("ngIf",!U.isGroupCreate),r.R7$(),r.Y8G("ngIf",U.isGroupCreate))},dependencies:[B.m_,e.Hl,e.$z,M.hM,_.X1,_.qT,_.me,_.BC,_.cb,_.tU,_.j4,_.JD,u.MD,u.bT,t.Fte,t.Uon],styles:[".inivite--modal .mat-mdc-dialog-container{width:423px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper{padding:15px 24px 20px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--footer{margin-top:17px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .list__header .list__title{margin-bottom:15px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .cc-close-button,   .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .cc-back-button{top:5px!important;display:none!important}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .cc-add-members__wrapper{padding:0!important}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .cc-users__selection--multiple{width:40px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .cc-add-members .cc-users{margin-bottom:21px}"]})}return P})();var b=n(2168);let N=(()=>{class P{constructor(g,j,U,K,X,v){this.router=g,this.route=j,this.themeService=U,this.location=K,this.dialog=X,this.commonService=v,this.withMessagesStyle={width:"100%",height:"100%",background:"linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)",borderRadius:"none",border:"none",messageTextColor:"rgba(20, 20, 20, 0.33)",textFont:"Nunito Sans, sans-serif"},this.bStyle=new k.BaseStyle({background:"linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%)"}),this.replaceTheme=!1,this.isMobileView=!1,this.route.queryParams.subscribe(w=>{this.router.getCurrentNavigation()?.extras.state&&(this.router.getCurrentNavigation()?.extras.state.pageLanguage&&R.CometChatLocalize.init(this.router.getCurrentNavigation()?.extras.state.pageLanguage),1==this.router.getCurrentNavigation()?.extras.state.customTheme&&(this.replaceTheme=!0))})}ngOnInit(){this.setTheme(),this.onResize()}onResize(){try{this.innerWidth=window.innerWidth,this.isMobileView=this.innerWidth>=320&&this.innerWidth<=760}catch{}return!0}setTheme(){this.withMessagesStyle.background=this.themeService.theme.palette.getBackground(),this.withMessagesStyle.messageTextFont=(0,R.fontHelper)(this.themeService.theme.typography.heading),this.withMessagesStyle.messageTextColor="this.themeService.theme.palette.getAccent400()"}ngOnDestroy(){if(R.CometChatLocalize.init(R.CometChatLocalize.getBrowserLanguage()),this.replaceTheme){let g=this.themeService.theme.palette.mode;this.themeService.theme=new R.CometChatTheme({}),this.themeService.theme.palette.setMode(g)}}createGroup(){this.dialog.open(C,{disableClose:!0,panelClass:"inivite--modal",data:{heading:"Create Group"}}).afterClosed().subscribe(j=>{j&&(this.commonService.openSnackBar(j.message,j.error?"ERROR":"SUCCESS"),setTimeout(function(){location.reload()},2e3))})}static#e=this.\u0275fac=function(j){return new(j||P)(r.rXU(b.Ix),r.rXU(b.nX),r.rXU(t.Z2L),r.rXU(u.aZ),r.rXU(M.bZ),r.rXU(S.h))};static#t=this.\u0275cmp=r.VBU({type:P,selectors:[["app-conversations-chat"]],hostBindings:function(j,U){1&j&&r.bIt("resize",function(){return U.onResize()},!1,r.tSv)},decls:3,vars:3,consts:[["type","submit",1,"btn","btn-primary","font-14","create--group--btn",3,"click"],["backdropStyle","bStyle",3,"isMobileView"]],template:function(j,U){1&j&&(r.j41(0,"button",0),r.bIt("click",function(){return U.createGroup()}),r.EFF(1,"Create Group"),r.k0s(),r.nrm(2,"cometchat-conversations-with-messages",1)),2&j&&(r.R7$(2),r.Aen(U.withMessagesStyle),r.Y8G("isMobileView",U.isMobileView))},dependencies:[t.K9T],styles:[".create--group--btn[_ngcontent-%COMP%]{float:right;margin-bottom:5px}  .cc-with-messages__wrapper{border:none!important;background:transparent!important}  .cc-with-messages__wrapper .cc-with-messages__sidebar{height:calc(100vh - 179px)!important;border-right:0!important;box-shadow:0 0 5px #ddd;margin:10px 30px 10px 10px}  .cc-with-messages__wrapper .cc-with-messages__sidebar .cc-conversations .cc-conversations__menus{right:8px;top:8px}  .cc-with-messages__wrapper .cc-with-messages__sidebar .cc-conversations .cc-list__wrapper .list__header{margin-bottom:0!important}  .cc-with-messages__wrapper .cc-with-messages__sidebar .cc-conversations .cc-list__wrapper .list__header .list__title{margin-bottom:6px;margin-top:16px;margin-left:10px;border-bottom:1px solid #ddd;padding-bottom:13px;font-size:16px!important;font-family:Nunito Sans,sans-serif!important;font-weight:700!important}  .cc-with-messages__wrapper .cc-with-messages__sidebar .cc-conversations .cc-list__wrapper .cc-list .listitem__view{padding:10px 0}  .cc-with-messages__wrapper .cc-with-messages__sidebar .cc-conversations .cc__backdrop{width:100%!important;height:100%!important}  .cc-with-messages__wrapper .cc-decorator__message--empty{height:auto!important;margin-top:10px}  .cc-with-messages__wrapper .cc-decorator__message--empty .cc__label{color:red!important}  .cc-with-messages__wrapper .cc-with-messages__main{margin-top:11px}  .cc-with-messages__wrapper .cc-with-messages__main .cc-messages__wrapper .cc-messages .cc-messages__header .cc-message-header__wrapper{height:70px!important;border-bottom:1px solid #ddd!important}  .cc-with-messages__wrapper .cc-with-messages__main .cc-messages__wrapper .cc-messages .cc-messages__list .cc-message-list__wrapper .cc-message-list{height:calc(100vh - 359px)!important}  .cc-with-messages__wrapper .cc-with-messages__main .cc-messages__wrapper .cc-messages .cc-messages__composer .cc-message-composer__wrapper .cc-message-composer__input .messageinput{border-radius:4px!important;background:#e5f4f4!important}  .cc-with-messages__wrapper .cc-with-messages__main .cc-messages__wrapper .cc-messages .cc-messages__composer .cc-message-composer__wrapper .cc-message-composer__input .messageinput .messageinput-input{padding:15px 12px!important}  .cc-with-messages__wrapper .cc-close-button{right:30px!important}  .cc-message-information__wrapper{height:auto!important}  .cc-message-information__wrapper .cc-message-information__list-item{max-height:300px;overflow:auto}  cometchat-audio-bubble .cc__audio__bubble{background-color:red!important}@media only screen and (max-width: 599px){  .cc-with-messages__wrapper .cc-with-messages__sidebar{margin:0!important}  .cc-message-information__wrapper{width:320px!important}.create--group--btn[_ngcontent-%COMP%]{margin-right:10px}}"]})}return P})()},7126:(z,V,n)=>{n.d(V,{M:()=>r});var R=n(4523),m=n(4438),_=n(6992),M=n(2168),e=n(3390),B=n(177),a=n(6144);function u(I,W){if(1&I&&m.nrm(0,"ngx-doc-viewer",4),2&I){const S=m.XpG();m.Y8G("url",S.previewUrl)}}function t(I,W){if(1&I&&(m.j41(0,"audio",5),m.nrm(1,"source",6)(2,"source",7),m.k0s()),2&I){const S=m.XpG();m.R7$(),m.Y8G("src",S.previewUrl,m.B4B),m.R7$(),m.Y8G("src",S.previewUrl,m.B4B)}}function l(I,W){if(1&I&&m.nrm(0,"img",8),2&I){const S=m.XpG();m.Y8G("src",S.previewUrl,m.B4B)}}function k(I,W){if(1&I&&m.nrm(0,"video",9),2&I){const S=m.XpG();m.Y8G("src",S.previewUrl,m.B4B)}}let r=(()=>{class I{constructor(S,O,F){var L=this;this.authService=S,this.route=O,this.commonService=F,this.previewUrl="",this.fileType="",this.commonService.showLoader(),this.fileId=this.route.snapshot.paramMap.get("file"),this.authService.apiRequest("post","admin/previewDocumentFile",{fileId:this.fileId}).subscribe(function(){var G=(0,R.A)(function*(C){var b=C.data.fileName.substring(C.data.fileName.lastIndexOf(".")+1);console.log("prev doc",b),L.fileType="png"==b||"jpg"==b||"jpeg"==b?"image":"mp4"==b||"webm"==b?"video":"mpeg"==b||"mp3"==b?"audio":"doc",L.previewUrl=C.data.previewUrl,L.commonService.hideLoader()});return function(C){return G.apply(this,arguments)}}())}ngAfterViewInit(){}static#e=this.\u0275fac=function(O){return new(O||I)(m.rXU(_.u),m.rXU(M.nX),m.rXU(e.h))};static#t=this.\u0275cmp=m.VBU({type:I,selectors:[["app-preview"]],decls:4,vars:4,consts:[["viewer","google","style","width:100%;height:90vh;",3,"url",4,"ngIf"],["controls","","class","w-100","controlsList","nodownload",4,"ngIf"],["class","img-fluid","alt","",3,"src",4,"ngIf"],["width","300","height","200","controls","","controlsList","nodownload","style","height: auto;width: 100%;",3,"src",4,"ngIf"],["viewer","google",2,"width","100%","height","90vh",3,"url"],["controls","","controlsList","nodownload",1,"w-100"],["type","audio/ogg",3,"src"],["type","audio/mpeg",3,"src"],["alt","",1,"img-fluid",3,"src"],["width","300","height","200","controls","","controlsList","nodownload",2,"height","auto","width","100%",3,"src"]],template:function(O,F){1&O&&m.DNE(0,u,1,1,"ngx-doc-viewer",0)(1,t,3,2,"audio",1)(2,l,1,1,"img",2)(3,k,1,1,"video",3),2&O&&(m.Y8G("ngIf",""!=F.previewUrl&&"doc"==F.fileType),m.R7$(),m.Y8G("ngIf","audio"==F.fileType),m.R7$(),m.Y8G("ngIf","image"==F.fileType),m.R7$(),m.Y8G("ngIf","video"==F.fileType))},dependencies:[B.bT,a.$j],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return I})()},3716:(z,V,n)=>{n.d(V,{O:()=>h});var R=n(4523),m=n(4494),_=n(2806),M=n(9417),e=n(5802),B=n(9039),a=n(1792),u=n(446),t=n(4438),l=n(4006),k=n(3390),r=n(6992),I=n(758),W=n(8639),S=n(4130),O=n(177),F=n(8834),L=n(9213),p=n(3902),G=n(2168);const C=()=>["/support-team/dashboard"];function b(s,c){if(1&s){const i=t.RV6();t.j41(0,"mat-list-item",37),t.bIt("click",function(){t.eBV(i);const d=t.XpG(2);return t.Njj(d.removePhoto())}),t.EFF(1,"Remove Photo "),t.k0s()}}function N(s,c){if(1&s){const i=t.RV6();t.j41(0,"mat-list")(1,"mat-list-item",37),t.bIt("click",function(){t.eBV(i);const d=t.XpG();return t.Njj(d.changePhoto())}),t.EFF(2,"Change Photo "),t.k0s(),t.DNE(3,b,2,0,"mat-list-item",38),t.k0s()}if(2&s){const i=t.XpG();t.R7$(3),t.Y8G("ngIf",i.isDefaultImage)}}function P(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG();t.R7$(),t.SpI(" ",i.validationMessages.required("your First Name")," ")}}function x(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG();t.R7$(),t.SpI(" ",i.validationMessages.alphabeticChar("First Name")," ")}}function g(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG();t.R7$(),t.SpI(" ",i.validationMessages.required("your Last Name")," ")}}function j(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG();t.R7$(),t.SpI(" ",i.validationMessages.alphabeticChar("Last Name")," ")}}function U(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.validationMessages.required("a valid phone number")," ")}}function K(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.validationMessages.invalidPhoneNumber," ")}}function X(s,c){if(1&s){const i=t.RV6();t.j41(0,"div",22)(1,"div",23)(2,"label",24),t.EFF(3,"Phone "),t.j41(4,"span",25),t.EFF(5," * "),t.k0s()(),t.j41(6,"input",40),t.bIt("input",function(d){t.eBV(i);const E=t.XpG();return t.Njj(E.onPhoneInputChange(d))}),t.k0s(),t.DNE(7,U,2,1,"div",27)(8,K,2,1,"div",27),t.k0s()()}if(2&s){const i=t.XpG();t.R7$(6),t.Y8G("value",i.convertPhoneNumber),t.R7$(),t.Y8G("ngIf",i.updateProfileForm.controls.phoneNumber.touched&&i.updateProfileForm.controls.phoneNumber.hasError("required")),t.R7$(),t.Y8G("ngIf",i.updateProfileForm.controls.phoneNumber.touched&&i.updateProfileForm.controls.phoneNumber.hasError("pattern"))}}function v(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.validationMessages.required("a valid NPI number")," ")}}function w(s,c){if(1&s&&(t.j41(0,"div",22)(1,"div",23)(2,"label",24),t.EFF(3,"NPI "),t.j41(4,"span",25),t.EFF(5," *"),t.k0s()(),t.nrm(6,"input",41),t.DNE(7,v,2,1,"div",27),t.k0s()()),2&s){const i=t.XpG();t.R7$(7),t.Y8G("ngIf",i.updateProfileForm.controls.NPI.touched&&(i.updateProfileForm.controls.NPI.hasError("required")||i.updateProfileForm.controls.NPI.hasError("pattern")))}}function D(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.validationMessages.required("a valid SSN")," ")}}function y(s,c){if(1&s&&(t.j41(0,"div",22)(1,"div",23)(2,"label",24),t.EFF(3,"SSN "),t.j41(4,"span",25),t.EFF(5," *"),t.k0s()(),t.nrm(6,"input",42),t.DNE(7,D,2,1,"div",27),t.k0s()()),2&s){const i=t.XpG();t.R7$(7),t.Y8G("ngIf",i.updateProfileForm.controls.SSN.touched&&(i.updateProfileForm.controls.SSN.hasError("required")||i.updateProfileForm.controls.SSN.hasError("pattern")))}}function T(s,c){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.k0s()),2&s){const i=t.XpG(2);t.R7$(),t.SpI(" ",i.validationMessages.required("a valid Licence number")," ")}}function $(s,c){if(1&s&&(t.j41(0,"div",22)(1,"div",23)(2,"label",24),t.EFF(3,"Licence Number "),t.j41(4,"span",25),t.EFF(5," *"),t.k0s()(),t.nrm(6,"input",43),t.DNE(7,T,2,1,"div",27),t.k0s()()),2&s){const i=t.XpG();t.R7$(7),t.Y8G("ngIf",i.updateProfileForm.controls.licenceNumber.touched&&i.updateProfileForm.controls.licenceNumber.hasError("required"))}}let h=(()=>{class s{constructor(i,o,d,E,f,A,Y){this.dialog=i,this.fb=o,this.commonService=d,this.authService=E,this.adminService=f,this.userService=A,this.picService=Y,this.validationMessages=e.q,this.editOptions=!1,this.isTherapist=!1,this.convertPhoneNumber="",this.isDefaultImage=!0}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role"),this.profileImage=u.ns.awsS3Url+u.ns.userProfileFolderPath+this.authService.getLoggedInInfo("profileImage"),this.picService.itemValue.subscribe(i=>{i&&(this.profileImage=i)}),this.isDefaultImage="default.png"!=this.authService.getLoggedInInfo("profileImage"),this.initializeUpdateProfileForm(),this.getProfile(),"therapist"==this.userType&&(this.initializeTherapistFields(),this.isTherapist=!0)}initializeUpdateProfileForm(){this.updateProfileForm=this.fb.group({firstName:["",[M.k0.required,M.k0.pattern(B.y.alphabetic)]],lastName:["",[M.k0.required,M.k0.pattern(B.y.alphabetic)]],email:[{value:"",disabled:!0}]})}initializeTherapistFields(){this.updateProfileForm.addControl("phoneNumber",this.fb.control("",[M.k0.required,M.k0.pattern(B.y.usPhoneNumber)])),this.updateProfileForm.addControl("NPI",this.fb.control("",[M.k0.required,M.k0.pattern(B.y.onlyNumeric)])),this.updateProfileForm.addControl("SSN",this.fb.control("",[M.k0.required,M.k0.pattern(B.y.numericAndSpecialCharacter)])),this.updateProfileForm.addControl("licenceNumber",this.fb.control("",[]))}getProfile(){this.adminService.profile({query:{_id:this.userId},params:{firstName:1,lastName:1,email:1,phoneNumber:1,status:1,practiceLocation:1,NPI:1,SSN:1,licenceNumber:1}}).subscribe({next:o=>{o&&!o.error&&(this.updateProfileForm.controls.firstName.setValue(o.data?o.data.firstName:""),this.updateProfileForm.controls.lastName.setValue(o.data?o.data.lastName:""),this.updateProfileForm.controls.email.setValue(o.data?o.data.email:""),"therapist"==this.userType&&(this.updateProfileForm.controls.phoneNumber.setValue(o.data&&o.data.phoneNumber?o.data.phoneNumber:""),this.updateProfileForm.controls.NPI.setValue(o.data&&o.data.NPI?o.data.NPI:""),this.updateProfileForm.controls.SSN.setValue(o.data&&o.data.SSN?o.data.SSN:""),this.updateProfileForm.controls.licenceNumber.setValue(o.data&&o.data.licenceNumber?o.data.licenceNumber:"")))},error:o=>{o.error?.error&&this.commonService.openSnackBar(o.error?.message,"ERROR")}})}updateProfile(){this.updateProfileForm.valid&&(this.updateProfileForm.value.userId=this.userId,this.updateProfileForm.value.clickAction="update",this.adminService.updateProfile(this.updateProfileForm.value).subscribe({next:i=>{i&&!i.error&&(this.updateAdminInLocalStorage(i.data),this.commonService.openSnackBar(i.message,"SUCCESS"))},error:i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")}}))}updateAdminInLocalStorage(i){var o=this;return(0,R.A)(function*(){let d=o.authService.getLoggedInInfo("all");d.firstName=i.firstName,d.lastName=i.lastName,localStorage.setItem("user",JSON.stringify(d));let E=`${i.firstName} ${i.lastName}`;yield o.userService.updateUser(i._id,E).catch(f=>!1),window.location.reload()})()}changePhoto(){var i=this;return(0,R.A)(function*(){i.editOptions=!1,i.dialog.open(a.m,{width:"600px",disableClose:!0,data:{cropperFor:"Profile Picture"}}).afterClosed().subscribe(function(){var d=(0,R.A)(function*(E){if(i.commonService.showLoader(),!1!==E&&null!=E.image){let f=i.authService.getLoggedInInfo("_id").toString()+"_"+i.commonService.getRandomInteger(1,900),A=f+".png",Y={userId:i.authService.getLoggedInInfo("_id"),imageName:f,profileImage:E.image.base64};yield i.authService.apiRequest("post","admin/changeProfileImage",Y).subscribe(function(){var H=(0,R.A)(function*(Z){let J;i.commonService.hideLoader(),J=i.authService.getLoggedInInfo(),J.profileImage=A,i.picService.setProfilePic=A,localStorage.setItem("user",JSON.stringify(J)),i.commonService.openSnackBar(Z.message,"SUCCESS"),setTimeout(()=>{i.updateProfilePicInCometChat(A)},3e3)});return function(Z){return H.apply(this,arguments)}}())}else i.commonService.hideLoader()});return function(E){return d.apply(this,arguments)}}())})()}editProfile(){this.editOptions=!this.editOptions}removePhoto(){var i=this;this.editOptions=!1,this.dialog.open(m.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to remove this image?"}}).afterClosed().subscribe(function(){var d=(0,R.A)(function*(E){if(E){let f={userId:i.authService.getLoggedInInfo("_id")};yield i.authService.apiRequest("post","admin/deleteProfileImage",f).subscribe(function(){var A=(0,R.A)(function*(Y){let H;H=i.authService.getLoggedInInfo(),H.profileImage=Y.data,localStorage.setItem("user",JSON.stringify(H)),i.removeProfilePicInCometChat(Y.data),i.commonService.openSnackBar(Y.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(Y){return A.apply(this,arguments)}}())}});return function(E){return d.apply(this,arguments)}}())}changePassword(){var i=this;this.dialog.open(_.s,{disableClose:!0,panelClass:"change--password--modal",data:{userId:this.userId,userRole:this.userType}}).afterClosed().subscribe(function(){var d=(0,R.A)(function*(E){E&&i.authService.logout(i.userType)});return function(E){return d.apply(this,arguments)}}())}checkSpace(i,o){this.updateProfileForm.controls[i].setValue(this.commonService.capitalize(o.target.value.trim()))}onPhoneInputChange(i){this.convertPhoneNumber=this.commonService.formatPhoneNumber(i.target.value)}updateUserInCometChat(i){console.log("updateUserInCometChat>>>",i),this.userService.updateUser(i._id,`${i.firstName} ${i.lastName}`)}updateProfilePicInCometChat(i){var o=this;return(0,R.A)(function*(){let d=u.ns.awsS3Url+u.ns.userProfileFolderPath+i;yield o.userService.updateUserProfilePic(o.userId,d).catch(E=>!1)})()}removeProfilePicInCometChat(i){var o=this;return(0,R.A)(function*(){let d=u.ns.awsS3Url+u.ns.userProfileFolderPath+i;yield o.userService.updateUserProfilePic(o.userId,d).catch(E=>!1)})()}static#e=this.\u0275fac=function(o){return new(o||s)(t.rXU(l.bZ),t.rXU(M.ok),t.rXU(k.h),t.rXU(r.u),t.rXU(I.z),t.rXU(W.D),t.rXU(S.d))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-manage-profile"]],decls:69,vars:17,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center",3,"routerLink"],["mat-stroked-button","","color","primary",1,"me-3","back--btn"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[4,"ngIf"],[1,"profile--round","position-relative"],["alt","Profile Picture",1,"img-fluid","user--img",3,"src"],["mat-raised-button","","color","primary",1,"edit--btn",3,"click"],[1,"d-flex","flex-column","w-100","body--sec"],["mat-stroked-button","","color","primary",1,"w-100","mb-3",3,"click"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-12","col-lg-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","First name","formControlName","firstName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Last name","formControlName","lastName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["type","text","placeholder","Email ","formControlName","email",1,"form-control","form-control-md","text-lowercase"],["class","col-12 col-lg-6",4,"ngIf"],[1,"col-12","my-2","d-flex","align-items:","center","justify-content-between","mt-3"],[1,"d-flex","align-items-center"],[1,"signature--box","d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary",1,"flex-shrink-0","ms-3"],[1,"material-symbols-outlined","flex-shrink-0"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"click"],[3,"click",4,"ngIf"],[1,"text","text-danger","mt-1"],["type","text","placeholder","Phone ","formControlName","phoneNumber","maxlength","15",1,"form-control","form-control-md",3,"input","value"],["type","text","placeholder","NPI ","formControlName","NPI","maxlength","10",1,"form-control","form-control-md"],["type","text","placeholder","SSN ","formControlName","SSN","maxlength","9",1,"form-control","form-control-md"],["type","text","placeholder","Licence Number ","formControlName","licenceNumber","maxlength","15",1,"form-control","form-control-md"]],template:function(o,d){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"mat-icon",5),t.EFF(6," keyboard_backspace "),t.k0s()(),t.j41(7,"h3",6),t.EFF(8,"Manage Profile"),t.k0s()()(),t.j41(9,"div",7)(10,"div",8)(11,"div",9),t.DNE(12,N,4,1,"mat-list",10),t.k0s(),t.j41(13,"div",11),t.nrm(14,"img",12),t.j41(15,"button",13),t.bIt("click",function(){return d.editProfile()}),t.j41(16,"mat-icon",5),t.EFF(17," edit "),t.k0s()()(),t.j41(18,"div",14)(19,"button",15),t.bIt("click",function(){return d.changePassword()}),t.EFF(20,"Change Password"),t.k0s()()(),t.j41(21,"div",16)(22,"div",17)(23,"div",2)(24,"div",18)(25,"h3",6),t.EFF(26,"Basic Information"),t.k0s()()(),t.j41(27,"div",19)(28,"div",20)(29,"form",21)(30,"div",22)(31,"div",23)(32,"label",24),t.EFF(33,"First Name "),t.j41(34,"span",25),t.EFF(35," * "),t.k0s()(),t.j41(36,"input",26),t.bIt("blur",function(f){return d.checkSpace("firstName",f)}),t.k0s(),t.DNE(37,P,2,1,"div",27)(38,x,2,1,"div",27),t.k0s()(),t.j41(39,"div",22)(40,"div",23)(41,"label",24),t.EFF(42,"Last Name"),t.j41(43,"span",25),t.EFF(44," * "),t.k0s()(),t.j41(45,"input",28),t.bIt("blur",function(f){return d.checkSpace("lastName",f)}),t.k0s(),t.DNE(46,g,2,1,"div",27)(47,j,2,1,"div",27),t.k0s()(),t.j41(48,"div")(49,"div",23)(50,"label",24),t.EFF(51,"Email "),t.j41(52,"span",25),t.EFF(53," * "),t.k0s()(),t.nrm(54,"input",29),t.k0s()(),t.DNE(55,X,9,3,"div",30)(56,w,8,1,"div",30)(57,y,8,1,"div",30)(58,$,8,1,"div",30),t.j41(59,"div",31)(60,"div",32)(61,"div",33),t.EFF(62," prashantthorat "),t.k0s(),t.j41(63,"button",34)(64,"mat-icon",35),t.EFF(65," upload "),t.k0s(),t.EFF(66," Update Signature "),t.k0s()(),t.j41(67,"button",36),t.bIt("click",function(){return d.updateProfile()}),t.EFF(68,"Save"),t.k0s()()()()()()()()()()),2&o&&(t.R7$(3),t.Y8G("routerLink",t.lJ4(16,C)),t.R7$(9),t.Y8G("ngIf",d.editOptions),t.R7$(2),t.FS9("src",d.profileImage,t.B4B),t.R7$(15),t.Y8G("formGroup",d.updateProfileForm),t.R7$(8),t.Y8G("ngIf",d.updateProfileForm.controls.firstName.touched&&d.updateProfileForm.controls.firstName.hasError("required")),t.R7$(),t.Y8G("ngIf",d.updateProfileForm.controls.firstName.touched&&d.updateProfileForm.controls.firstName.hasError("pattern")),t.R7$(8),t.Y8G("ngIf",d.updateProfileForm.controls.lastName.touched&&d.updateProfileForm.controls.lastName.hasError("required")),t.R7$(),t.Y8G("ngIf",d.updateProfileForm.controls.lastName.touched&&d.updateProfileForm.controls.lastName.hasError("pattern")),t.R7$(),t.ZvI("col-12 ",d.isTherapist?"col-lg-6":"",""),t.R7$(7),t.Y8G("ngIf",d.isTherapist),t.R7$(),t.Y8G("ngIf",d.isTherapist),t.R7$(),t.Y8G("ngIf",d.isTherapist),t.R7$(),t.Y8G("ngIf",d.isTherapist),t.R7$(9),t.Y8G("disabled",!d.updateProfileForm.valid))},dependencies:[O.bT,M.qT,M.me,M.BC,M.cb,M.tU,F.$z,L.An,p.jt,p.YE,G.Wk,M.j4,M.JD],styles:[".signature--box[_ngcontent-%COMP%]{width:200px;height:72px;border-radius:6px;border:1px solid rgba(49,183,183,.4);background:#fff;box-shadow:0 6.879px 14px #1212121a;overflow:hidden;padding:5px;font-size:21px;font-family:Great Vibes,cursive;font-weight:600}"]})}return s})()},7785:(z,V,n)=>{n.d(V,{H:()=>$});var R=n(4523),m=n(9159),_=n(446),M=n(5802),e=n(4438),B=n(4006),a=n(6992),u=n(3390),t=n(2168),l=n(177),k=n(9417),r=n(8834),I=n(5084),W=n(2102),S=n(9213),O=n(9631),F=n(6695),L=n(2042);const p=(h,s)=>["/",h,"patients","patient-profile",s],G=(h,s)=>["/",h,"case-details",s];function C(h,s){if(1&h&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&h){const c=s.$implicit;e.FS9("value",c),e.R7$(),e.SpI("",c," ")}}function b(h,s){if(1&h&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&h){const c=s.$implicit;e.FS9("value",c),e.R7$(),e.SpI("",c," ")}}function N(h,s){1&h&&(e.j41(0,"th",44),e.EFF(1," Appointment # "),e.k0s())}function P(h,s){if(1&h&&(e.j41(0,"p",51)(1,"span",52),e.EFF(2,"Therapist"),e.k0s(),e.EFF(3),e.k0s()),2&h){const c=e.XpG().$implicit;e.R7$(3),e.SpI(" ",c.info.fullName," ")}}function x(h,s){if(1&h&&(e.j41(0,"td",45)(1,"div",46)(2,"div",47),e.nrm(3,"img",48),e.k0s(),e.j41(4,"div")(5,"p",49),e.EFF(6),e.k0s(),e.DNE(7,P,4,1,"p",50),e.j41(8,"p",51)(9,"span",52),e.EFF(10,"Appointment #"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"p",51)(13,"span",52),e.EFF(14,"Case Name"),e.k0s(),e.EFF(15),e.k0s()()()()),2&h){const c=s.$implicit;e.R7$(3),e.FS9("src",c.info.profileImage,e.B4B),e.R7$(3),e.SpI(" ",c.practiceLocation," "),e.R7$(),e.Y8G("ngIf",""!=c.info.fullName),e.R7$(4),e.SpI(" ",c.appointmentId," "),e.R7$(4),e.SpI(" ",c.caseName?c.caseName:"N/A"," ")}}function g(h,s){1&h&&(e.j41(0,"th",53),e.EFF(1," Appointment Date "),e.k0s())}function j(h,s){if(1&h&&(e.j41(0,"td",45),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&h){const c=s.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,c.appointmentDate,"mediumDate")," ")}}function U(h,s){1&h&&(e.j41(0,"th",54),e.EFF(1," Status "),e.k0s())}function K(h,s){if(1&h&&(e.j41(0,"td",45)(1,"p"),e.EFF(2),e.k0s()()),2&h){const c=s.$implicit;e.R7$(),e.ZvI("status ",c.statusClass,""),e.R7$(),e.JRh(c.statusClass)}}function X(h,s){1&h&&(e.j41(0,"th",55),e.EFF(1," Action "),e.k0s())}function v(h,s){if(1&h&&(e.j41(0,"td",45)(1,"div",56)(2,"button",57)(3,"mat-icon",58),e.EFF(4,"visibility "),e.k0s()()()()),2&h){const c=s.$implicit,i=e.XpG();e.R7$(2),e.Y8G("routerLink",e.l_i(1,G,i.activeUserRoute,c.id))}}function w(h,s){1&h&&e.nrm(0,"tr",59)}function D(h,s){1&h&&e.nrm(0,"tr",60)}function y(h,s){if(1&h&&(e.j41(0,"div",61)(1,"div",62),e.nrm(2,"img",63),e.j41(3,"p",64),e.EFF(4),e.k0s()()()),2&h){const c=e.XpG();e.R7$(4),e.JRh(c.validationMessages.noRecords)}}const T=[];let $=(()=>{class h{constructor(c,i,o,d){this.dialog=c,this.authService=i,this.commonService=o,this.route=d,this.displayedColumns=["info","appointmentDate","status","action"],this.dataSource=new m.I6(T),this.appointmentStatus=_.K0,this.practiceLocations=_.WM,this.validationMessages=M.q,this.orderBy={createdAt:-1},this.whereCond={},this.userQuery={},this.totalCount=0,this.pageIndex=0,this.pageSize=_.T0,this.pageSizeOptions=_.Xe,this.seachByName="",this.appStatusVal="",this.practiceLocVal="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe(E=>{this.patientId=E.userId})}ngOnInit(){let c=this.commonService.getMaxAppoinmentFutureMonths();this.maxFromDate=c,this.maxToDate=c,this.whereCond={patientId:this.patientId},this.getPatientDetail(),this.getAppointmentList()}getPatientDetail(){var c=this;return(0,R.A)(function*(){let i={query:{_id:c.patientId},fields:{firstName:1,lastName:1}};yield c.authService.apiRequest("post","patients/getPatientData",i).subscribe(function(){var o=(0,R.A)(function*(d){c.patientName=d.data.patientData.firstName+" "+d.data.patientData.lastName});return function(d){return o.apply(this,arguments)}}())})()}getAppointmentList(c=""){var i=this;return(0,R.A)(function*(){""==c&&i.commonService.showLoader();let o={query:i.whereCond,userQuery:i.userQuery,fields:{practiceLocation:1,appointmentId:1,appointmentDate:1,status:1,caseName:1},patientFields:{firstName:1,lastName:1},therapistFields:{firstName:1,lastName:1,profileImage:1},order:i.orderBy,limit:i.pageSize,offset:i.pageIndex*i.pageSize};yield i.authService.apiRequest("post","appointment/getAppointmentList",o).subscribe(function(){var d=(0,R.A)(function*(E){i.commonService.hideLoader(),i.totalCount=E.data.totalCount;let f=[];yield E.data.appointmentList.map(A=>{let Y={fullName:"",profileImage:_.ns.awsS3Url+_.ns.userProfileFolderPath+"default.png"};A.therapistId&&(Y.profileImage=_.ns.awsS3Url+_.ns.userProfileFolderPath+A.therapistId.profileImage,Y.fullName=A.therapistId.firstName+" "+A.therapistId.lastName),i.patientName=A.patientId.firstName+" "+A.patientId.lastName;let H={id:A._id,info:Y,appointmentId:A.appointmentId,appointmentDate:A.appointmentDate,status:A.status,caseName:A.caseName,statusClass:A.status.toLowerCase(),practiceLocation:A.practiceLocation};f.push(H)}),i.appointmentList=new m.I6(f)});return function(E){return d.apply(this,arguments)}}())})()}onDateChange(c,i){let o;"fromDate"==i&&(this.minToDate=new Date(c.target.value)),o=this.fromDate&&this.toDate?{appointmentDate:{$gte:this.fromDate,$lte:this.toDate}}:this.fromDate?{appointmentDate:{$gte:this.fromDate}}:{appointmentDate:{$lte:this.toDate}},Object.assign(this.whereCond,o),this.getAppointmentList("search")}announceSortChange(c){let i;i="desc"==c.direction?-1:1,this.orderBy="info"==c.active?{appointmentId:i}:{[c.active]:i},this.getAppointmentList()}searchRecords(c){let i=c.target.value.trim();if(""!=i){i=i.replace("+","\\+");let o={$regex:i,$options:"i"};this.userQuery={status:"Active",role:"therapist",$or:[{firstName:o},{lastName:o},{email:o}]}}else this.userQuery={};this.getAppointmentList("search")}handlePageEvent(c){this.pageSize=c.pageSize,this.pageIndex=c.pageIndex,this.getAppointmentList()}reset(){this.userQuery={},this.whereCond={patientId:this.patientId},this.totalCount=0,this.pageIndex=0,this.pageSize=_.T0,this.pageSizeOptions=_.Xe,this.practiceLocVal="",this.appStatusVal="",this.fromDate="",this.toDate="",this.seachByName="",this.getAppointmentList("reset")}filterDropDown(c,i){""!=c.target.value?Object.assign(this.whereCond,{[i]:c.target.value}):delete this.whereCond[i],this.getAppointmentList("search")}static#e=this.\u0275fac=function(i){return new(i||h)(e.rXU(B.bZ),e.rXU(a.u),e.rXU(u.h),e.rXU(t.nX))};static#t=this.\u0275cmp=e.VBU({type:h,selectors:[["app-patient-details"]],decls:70,vars:28,consts:[["picker",""],["picker2",""],["paginator",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","mb-3","flex-wrap"],[1,"mb-0","clr--1F2F3E","fw-500","me-2"],[1,"mb-0","clr--1F2F3E","me-2"],[1,"mb-0","text-primary","fw-600","font-16",3,"routerLink"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search by Therapist Name",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0"],["value","","selected",""],[1,"input-group"],[1,"w-100","am--datepicker"],["readonly","isReadonly","placeholder","From Date","matInput","",3,"ngModelChange","dateChange","focus","ngModel","max","matDatepicker"],["matIconSuffix","",3,"for"],["readonly","isReadonly","placeholder","To Date","matInput","",3,"ngModelChange","dateChange","focus","ngModel","min","max","matDatepicker"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","info"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["alt","",1,"img-fluid",3,"src"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],["class","mb-0 font-14 text-primary clr--1F2F3E",4,"ngIf"],[1,"mb-0","font-14","text-primary","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],["mat-header-cell","","mat-sort-header",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(i,o){if(1&i){const d=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h3",7),e.EFF(5,"Patient:"),e.k0s(),e.j41(6,"h3",8),e.EFF(7),e.k0s(),e.j41(8,"a",9),e.EFF(9," View Patient Profile "),e.k0s()(),e.j41(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"select",14),e.mxI("ngModelChange",function(f){return e.eBV(d),e.DH7(o.practiceLocVal,f)||(o.practiceLocVal=f),e.Njj(f)}),e.bIt("change",function(f){return e.eBV(d),e.Njj(o.filterDropDown(f,"practiceLocation"))}),e.j41(15,"option",15),e.EFF(16,"Practice Location"),e.k0s(),e.DNE(17,C,2,2,"option",16),e.k0s()()(),e.j41(18,"div",12)(19,"div",13)(20,"input",17),e.mxI("ngModelChange",function(f){return e.eBV(d),e.DH7(o.seachByName,f)||(o.seachByName=f),e.Njj(f)}),e.bIt("keyup",function(f){return e.eBV(d),e.Njj(o.searchRecords(f))}),e.k0s(),e.j41(21,"button",18)(22,"mat-icon",19),e.EFF(23,"search "),e.k0s()()()(),e.j41(24,"div",12)(25,"div",13)(26,"select",14),e.mxI("ngModelChange",function(f){return e.eBV(d),e.DH7(o.appStatusVal,f)||(o.appStatusVal=f),e.Njj(f)}),e.bIt("change",function(f){return e.eBV(d),e.Njj(o.filterDropDown(f,"status"))}),e.j41(27,"option",20),e.EFF(28,"Appointment Status"),e.k0s(),e.DNE(29,b,2,2,"option",16),e.k0s()()(),e.j41(30,"div",12)(31,"div",13)(32,"div",21)(33,"mat-form-field",22)(34,"input",23),e.mxI("ngModelChange",function(f){return e.eBV(d),e.DH7(o.fromDate,f)||(o.fromDate=f),e.Njj(f)}),e.bIt("dateChange",function(f){return e.eBV(d),e.Njj(o.onDateChange(f,"fromDate"))})("focus",function(){e.eBV(d);const f=e.sdS(37);return e.Njj(f.open())}),e.k0s(),e.nrm(35,"mat-datepicker-toggle",24)(36,"mat-datepicker",null,0),e.k0s()()()(),e.j41(38,"div",12)(39,"div",13)(40,"div",21)(41,"mat-form-field",22)(42,"input",25),e.mxI("ngModelChange",function(f){return e.eBV(d),e.DH7(o.toDate,f)||(o.toDate=f),e.Njj(f)}),e.bIt("dateChange",function(f){return e.eBV(d),e.Njj(o.onDateChange(f,"toDate"))})("focus",function(){e.eBV(d);const f=e.sdS(45);return e.Njj(f.open())}),e.k0s(),e.nrm(43,"mat-datepicker-toggle",24)(44,"mat-datepicker",null,1),e.k0s()()()(),e.j41(46,"div",12)(47,"div",13)(48,"button",26),e.bIt("click",function(){return e.eBV(d),e.Njj(o.reset())}),e.EFF(49,"Reset Filter"),e.k0s()()()()()(),e.j41(50,"div",27)(51,"div",28)(52,"table",29),e.bIt("matSortChange",function(f){return e.eBV(d),e.Njj(o.announceSortChange(f))}),e.qex(53,30),e.DNE(54,N,2,0,"th",31)(55,x,16,5,"td",32),e.bVm(),e.qex(56,33),e.DNE(57,g,2,0,"th",34)(58,j,3,4,"td",32),e.bVm(),e.qex(59,35),e.DNE(60,U,2,0,"th",36)(61,K,3,4,"td",32),e.bVm(),e.qex(62,37),e.DNE(63,X,2,0,"th",38)(64,v,5,4,"td",32),e.bVm(),e.DNE(65,w,1,0,"tr",39)(66,D,1,0,"tr",40),e.k0s(),e.DNE(67,y,5,1,"div",41),e.j41(68,"mat-paginator",42,2),e.bIt("page",function(f){return e.eBV(d),e.Njj(o.handlePageEvent(f))}),e.k0s()()()()()}if(2&i){const d=e.sdS(37),E=e.sdS(45);e.R7$(7),e.JRh(o.patientName),e.R7$(),e.Y8G("routerLink",e.l_i(25,p,o.activeUserRoute,o.patientId)),e.R7$(6),e.R50("ngModel",o.practiceLocVal),e.R7$(3),e.Y8G("ngForOf",o.practiceLocations),e.R7$(3),e.R50("ngModel",o.seachByName),e.R7$(6),e.R50("ngModel",o.appStatusVal),e.R7$(3),e.Y8G("ngForOf",o.appointmentStatus),e.R7$(5),e.R50("ngModel",o.fromDate),e.Y8G("max",o.maxFromDate)("matDatepicker",d),e.R7$(),e.Y8G("for",d),e.R7$(7),e.R50("ngModel",o.toDate),e.Y8G("min",o.minToDate)("max",o.maxToDate)("matDatepicker",E),e.R7$(),e.Y8G("for",E),e.R7$(9),e.Y8G("dataSource",o.appointmentList),e.R7$(13),e.Y8G("matHeaderRowDef",o.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.displayedColumns),e.R7$(),e.Y8G("ngIf",o.appointmentList&&0==o.appointmentList.filteredData.length),e.R7$(),e.Y8G("length",o.totalCount)("pageSize",o.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizeOptions)("pageIndex",o.pageIndex)}},dependencies:[l.Sq,l.bT,k.xH,k.y7,k.me,k.wz,k.BC,k.vS,r.$z,I.Vh,I.bZ,I.bU,W.rl,W.yw,S.An,O.fg,F.iy,L.B4,L.aE,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,t.Wk,l.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}"]})}return h})()},1641:(z,V,n)=>{n.d(V,{m:()=>O});var R=n(4523),m=n(2168),_=n(4494),M=n(2806),e=n(446),B=n(177),a=n(4438),u=n(4006),t=n(7664),l=n(6992),k=n(3390),r=n(8834),I=n(9213);function W(F,L){if(1&F&&(a.j41(0,"h3",35),a.EFF(1,"SSN "),a.j41(2,"span",36),a.EFF(3),a.k0s()()),2&F){const p=a.XpG();a.R7$(3),a.JRh(null!=p.patientData&&p.patientData.ssn?p.patientData.ssn:"")}}function S(F,L){if(1&F&&(a.j41(0,"div",37),a.nrm(1,"img",38),a.k0s()),2&F){const p=a.XpG();a.R7$(),a.FS9("src",p.documentsLink,a.B4B),a.FS9("alt",p.patientData.documents_type)}}let O=(()=>{class F{constructor(p,G,C,b,N,P,x,g){this.router=p,this.dialog=G,this.navigationService=C,this.route=b,this.location=N,this.authService=P,this.commonService=x,this.datePipe=g,this.patientId="",this.profileImage="",this.documentsLink="",this.birthdate="",this.patientData="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe(j=>{this.patientId=j.userId})}ngOnInit(){this.currentUrl=this.router.url,this.router.events.subscribe(p=>{p instanceof m.wF&&(this.previousUrl=this.currentUrl,this.currentUrl=p.url)}),this.getPatientDetail()}goBack(){this.location.back()}getPatientDetail(){var p=this;return(0,R.A)(function*(){let G={query:{_id:p.patientId}};yield p.authService.apiRequest("post","patients/getPatientData",G).subscribe(function(){var C=(0,R.A)(function*(b){if(p.patientData=b.data.patientData,p.profileImage=e.ns.awsS3Url+e.ns.userProfileFolderPath+p.patientData.profileImage,p.patientData.dob){let P=p.patientData.dob.split("T");p.birthdate=new Date(P[0])}let N={query:{_id:p.patientId},fileName:p.patientData.document_temp_name};p.commonService.showLoader(),yield p.authService.apiRequest("post","patients/getPreviewDocument",N).subscribe(function(){var P=(0,R.A)(function*(x){p.commonService.hideLoader(),x.error?p.commonService.openSnackBar(x.message,"ERROR"):p.documentsLink=x.data.document});return function(x){return P.apply(this,arguments)}}())});return function(b){return C.apply(this,arguments)}}())})()}deleteAccount(){this.dialog.open(_.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this account?"}})}changePassword(){this.dialog.open(M.s,{panelClass:"change--password--modal"})}navigateToAppointmentDetails(){this.navigationService.getPreviousUrl()?this.router.navigate([this.navigationService.getPreviousUrl()]):this.router.navigate([this.activeUserRoute,"dashboard"])}static#e=this.\u0275fac=function(G){return new(G||F)(a.rXU(m.Ix),a.rXU(u.bZ),a.rXU(t.o),a.rXU(m.nX),a.rXU(B.aZ),a.rXU(l.u),a.rXU(k.h),a.rXU(B.vh))};static#t=this.\u0275cmp=a.VBU({type:F,selectors:[["app-patient-profile"]],features:[a.Jv_([B.vh])],decls:118,vars:18,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[1,"profile--round","position-relative"],[1,"user--name","d-flex","align-items-center","justify-content-center"],[1,"text-primary","fw-600"],[1,"img-fluid","user--img",3,"src"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100","body--sec"],[1,"font-18","fw-700"],[1,"d-flex","align-items-center","user--email"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"my-2","font-16"],["class","font-16 fw-700 my-2",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row"],[1,"col-12","col-lg-6"],[1,"d-flex","align-items-start","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"d-flex","flex-column"],[1,"m-0","clr--1F2F3E","font-16","fw-700"],[1,"mb-0","clr--1F2F3E","font-16","fw-400"],[1,"mb-1","clr--1F2F3E","font-16","fw-700"],[1,"fw-700"],["class","document--box",4,"ngIf"],[1,"font-16","fw-700","my-2"],[1,"fw-500"],[1,"document--box"],[1,"img-fluid",3,"src","alt"]],template:function(G,C){1&G&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),a.bIt("click",function(){return C.goBack()}),a.j41(5,"mat-icon",5),a.EFF(6," keyboard_backspace "),a.k0s()(),a.j41(7,"h3",6),a.EFF(8,"Patient Profile"),a.k0s()()(),a.j41(9,"div",7)(10,"div",8),a.nrm(11,"div",9),a.j41(12,"div",10)(13,"div",11)(14,"span",12),a.nrm(15,"img",13),a.k0s()()(),a.j41(16,"div",14)(17,"h3",15),a.EFF(18),a.k0s(),a.j41(19,"div",16)(20,"mat-icon",17),a.EFF(21,"mail "),a.k0s(),a.j41(22,"p",18),a.EFF(23),a.k0s()(),a.DNE(24,W,4,1,"h3",19),a.k0s()(),a.j41(25,"div",20)(26,"div",21)(27,"div",2)(28,"div",3)(29,"h3",6),a.EFF(30,"Basic Information"),a.k0s()()(),a.j41(31,"div",22)(32,"div",23)(33,"div",24)(34,"div",25)(35,"div",24)(36,"div",23)(37,"div",26)(38,"div",27)(39,"mat-icon",28),a.EFF(40,"call"),a.k0s()(),a.j41(41,"div",29)(42,"h3",30),a.EFF(43,"Home Phone Number"),a.k0s(),a.j41(44,"p",31),a.EFF(45),a.k0s()()()(),a.j41(46,"div",23)(47,"div",26)(48,"div",27)(49,"mat-icon",28),a.EFF(50,"smartphone"),a.k0s()(),a.j41(51,"div",29)(52,"h3",30),a.EFF(53,"Cell Phone Number"),a.k0s(),a.j41(54,"p",31),a.EFF(55),a.k0s()()()(),a.j41(56,"div",23)(57,"div",26)(58,"div",27)(59,"mat-icon",28),a.EFF(60,"call"),a.k0s()(),a.j41(61,"div",29)(62,"h3",30),a.EFF(63,"Work Extension Number "),a.k0s(),a.j41(64,"p",31),a.EFF(65),a.k0s()()()(),a.j41(66,"div",23)(67,"div",26)(68,"div",27)(69,"mat-icon",28),a.EFF(70,"transgender"),a.k0s()(),a.j41(71,"div",29)(72,"h3",30),a.EFF(73,"Gender"),a.k0s(),a.j41(74,"p",31),a.EFF(75),a.k0s()()()(),a.j41(76,"div",23)(77,"div",26)(78,"div",27)(79,"mat-icon",28),a.EFF(80,"cake"),a.k0s()(),a.j41(81,"div",29)(82,"h3",30),a.EFF(83,"Date of Birth"),a.k0s(),a.j41(84,"p",31),a.EFF(85),a.nI1(86,"date"),a.k0s()()()()()(),a.j41(87,"div",25)(88,"div",24)(89,"div",23)(90,"div",26)(91,"div",27)(92,"mat-icon",28),a.EFF(93,"location_on"),a.k0s()(),a.j41(94,"div",29)(95,"h3",32),a.EFF(96,"Mailing Address"),a.k0s(),a.j41(97,"p",31)(98,"span",33),a.EFF(99,"City: "),a.k0s(),a.EFF(100),a.k0s(),a.j41(101,"p",31)(102,"span",33),a.EFF(103,"State/province/area: "),a.k0s(),a.EFF(104),a.k0s(),a.j41(105,"p",31)(106,"span",33),a.EFF(107,"Postal Code: "),a.k0s(),a.EFF(108),a.k0s()()()(),a.j41(109,"div",23)(110,"div",26)(111,"div",27)(112,"mat-icon",28),a.EFF(113,"assignment_ind"),a.k0s()(),a.j41(114,"div",29)(115,"h3",30),a.EFF(116),a.k0s(),a.DNE(117,S,2,2,"div",34),a.k0s()()()()()()()()()()()()()),2&G&&(a.R7$(15),a.FS9("src",C.profileImage,a.B4B),a.R7$(3),a.Lme("",C.patientData.firstName," ",C.patientData.lastName,""),a.R7$(5),a.JRh(C.patientData.email),a.R7$(),a.Y8G("ngIf",C.patientData.ssn),a.R7$(21),a.JRh(C.patientData.phoneNumber?"+1 "+C.patientData.phoneNumber:"N/A"),a.R7$(10),a.SpI(" ",C.patientData.cellPhoneNumber?"+1 "+C.patientData.cellPhoneNumber:"N/A",""),a.R7$(10),a.SpI(" ",C.patientData.workExtensionNumber?"+1 "+C.patientData.workExtensionNumber:"N/A",""),a.R7$(10),a.SpI("",C.patientData.gender," "),a.R7$(10),a.JRh(a.i5U(86,15,C.birthdate,"mediumDate")),a.R7$(15),a.SpI(" ",C.patientData.city,""),a.R7$(4),a.SpI(" ",C.patientData.state,""),a.R7$(4),a.SpI(" ",C.patientData.zipcode," "),a.R7$(8),a.SpI(" ",C.patientData.documents_type,""),a.R7$(),a.Y8G("ngIf",C.patientData.documents_type&&C.documentsLink))},dependencies:[B.bT,r.$z,I.An,B.vh],styles:[".profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 38px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 15px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px;margin-right:10px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .document--box[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:180px}.profile--right--wrapper[_ngcontent-%COMP%]   .document--box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%}"]})}return F})()},423:(z,V,n)=>{n.d(V,{G:()=>X});var R=n(4523),m=n(9159),_=n(446),M=n(5802),e=n(4438),B=n(4006),a=n(6992),u=n(3390),t=n(2168),l=n(177),k=n(9417),r=n(8834),I=n(9213),W=n(6695),S=n(2042);function O(v,w){if(1&v&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&v){const D=w.$implicit;e.FS9("value",D),e.R7$(),e.SpI("",D," ")}}function F(v,w){1&v&&(e.j41(0,"th",35),e.EFF(1," Name "),e.k0s())}function L(v,w){if(1&v&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&v){const D=w.$implicit;e.R7$(),e.SpI(" ",D.name," ")}}function p(v,w){1&v&&(e.j41(0,"th",37),e.EFF(1," Email Id "),e.k0s())}function G(v,w){if(1&v&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&v){const D=w.$implicit;e.R7$(),e.SpI(" ",D.email," ")}}function C(v,w){1&v&&(e.j41(0,"th",38),e.EFF(1," Gender "),e.k0s())}function b(v,w){if(1&v&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&v){const D=w.$implicit;e.R7$(),e.SpI(" ",D.gender," ")}}function N(v,w){1&v&&(e.j41(0,"th",38),e.EFF(1," Date of Birth "),e.k0s())}function P(v,w){if(1&v&&(e.j41(0,"td",36),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&v){const D=w.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,D.dob,"mediumDate")," ")}}function x(v,w){1&v&&(e.j41(0,"th",39),e.EFF(1," Actions "),e.k0s())}function g(v,w){if(1&v){const D=e.RV6();e.j41(0,"td",36)(1,"div",40)(2,"button",41),e.bIt("click",function(){const T=e.eBV(D).$implicit,$=e.XpG();return e.Njj($.navigateToAdminUserDetails(T.id))}),e.j41(3,"mat-icon",42),e.EFF(4,"visibility "),e.k0s()()()()}}function j(v,w){1&v&&e.nrm(0,"tr",43)}function U(v,w){1&v&&e.nrm(0,"tr",44)}function K(v,w){if(1&v&&(e.j41(0,"div",45)(1,"div",46),e.nrm(2,"img",47),e.j41(3,"p",48),e.EFF(4),e.k0s()()()),2&v){const D=e.XpG();e.R7$(4),e.JRh(D.validationMessages.noRecords)}}let X=(()=>{class v{constructor(D,y,T,$){this.dialog=D,this.authService=y,this.commonService=T,this.router=$,this.displayedColumns=["name","email","gender","dob","action"],this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=_.T0,this.pageSizeOptions=_.Xe,this.validationMessages=M.q,this.orderBy={createdAt:-1},this.practiceLocVal="",this.practiceLocations=_.WM,this.maxFromDate=this.commonService.getMaxAppoinmentFutureMonths()}ngOnInit(){this.getPatientList()}announceSortChange(D){let y;y="desc"==D.direction?-1:1,this.orderBy="name"==D.active?{firstName:y}:{[D.active]:y},this.getPatientList()}searchRecords(){let D=this.searchPatient.trim();if(""!=D){D=D.replace("+","\\+");let y={$regex:D,$options:"i"};Object.assign(this.whereCond,{$or:[{firstName:y},{lastName:y},{email:y}]})}else delete this.whereCond.$or;this.getPatientList("search")}getPatientList(D=""){var y=this;return(0,R.A)(function*(){""==D&&y.commonService.showLoader();let T={queryMatch:y.whereCond,fields:{firstName:1,lastName:1,email:1,dob:1,gender:1,createdAt:1},order:y.orderBy,limit:y.pageSize,offset:y.pageIndex*y.pageSize};yield y.authService.apiRequest("post","patients/getPatientList",T).subscribe(function(){var $=(0,R.A)(function*(h){y.commonService.hideLoader(),y.totalCount=h.data.totalCount;let s=[];yield h.data.patientList.map(c=>{s.push({id:c._id,email:c.email,dob:c.dob,gender:c.gender,name:c.firstName+" "+c.lastName})}),y.patientList=new m.I6(s)});return function(h){return $.apply(this,arguments)}}())})()}handlePageEvent(D){this.pageSize=D.pageSize,this.pageIndex=D.pageIndex,this.getPatientList()}reset(){this.searchPatient="",this.practiceLocVal="",this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=_.T0,this.pageSizeOptions=_.Xe,this.getPatientList("reset")}navigateToAdminUserDetails(D){this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-details/",D])}filterDropDown(D,y){""!=D.target.value?Object.assign(this.whereCond,{"appmnt.practiceLocation":D.target.value}):delete this.whereCond["appmnt.practiceLocation"],this.getPatientList("search")}static#e=this.\u0275fac=function(y){return new(y||v)(e.rXU(B.bZ),e.rXU(a.u),e.rXU(u.h),e.rXU(t.Ix))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["app-patients"]],decls:44,vars:12,consts:[["paginator",""],[1,"col-12","patients--table"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-2","clr--1F2F3E"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4"],["type","text","placeholder","Search Patient",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","provider--mat--table--wrapper","overflow-auto"],["mat-table","","matSort","",1,"provider--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","dob"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell",""],[1,"w-100","d-flex","align-items-center","justify-content-start"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(y,T){if(1&y){const $=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),e.EFF(5,"Patients"),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"select",10),e.mxI("ngModelChange",function(s){return e.eBV($),e.DH7(T.practiceLocVal,s)||(T.practiceLocVal=s),e.Njj(s)}),e.bIt("change",function(s){return e.eBV($),e.Njj(T.filterDropDown(s,"practiceLocation"))}),e.j41(11,"option",11),e.EFF(12,"Practice Location"),e.k0s(),e.DNE(13,O,2,2,"option",12),e.k0s()()(),e.j41(14,"div",13)(15,"div",9)(16,"input",14),e.bIt("keyup",function(){return e.eBV($),e.Njj(T.searchRecords())}),e.mxI("ngModelChange",function(s){return e.eBV($),e.DH7(T.searchPatient,s)||(T.searchPatient=s),e.Njj(s)}),e.k0s()()(),e.j41(17,"div",15)(18,"div",9)(19,"button",16),e.bIt("click",function(){return e.eBV($),e.Njj(T.reset())}),e.EFF(20,"Reset Filter"),e.k0s()()()()()(),e.j41(21,"div",17)(22,"div",18)(23,"table",19),e.bIt("matSortChange",function(s){return e.eBV($),e.Njj(T.announceSortChange(s))}),e.qex(24,20),e.DNE(25,F,2,0,"th",21)(26,L,2,1,"td",22),e.bVm(),e.qex(27,23),e.DNE(28,p,2,0,"th",24)(29,G,2,1,"td",22),e.bVm(),e.qex(30,25),e.DNE(31,C,2,0,"th",26)(32,b,2,1,"td",22),e.bVm(),e.qex(33,27),e.DNE(34,N,2,0,"th",26)(35,P,3,4,"td",22),e.bVm(),e.qex(36,28),e.DNE(37,x,2,0,"th",29)(38,g,5,0,"td",22),e.bVm(),e.DNE(39,j,1,0,"tr",30)(40,U,1,0,"tr",31),e.k0s(),e.DNE(41,K,5,1,"div",32),e.j41(42,"mat-paginator",33,0),e.bIt("page",function(s){return e.eBV($),e.Njj(T.handlePageEvent(s))}),e.k0s()()()()()}2&y&&(e.R7$(10),e.R50("ngModel",T.practiceLocVal),e.R7$(3),e.Y8G("ngForOf",T.practiceLocations),e.R7$(3),e.R50("ngModel",T.searchPatient),e.R7$(7),e.Y8G("dataSource",T.patientList),e.R7$(16),e.Y8G("matHeaderRowDef",T.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",T.displayedColumns),e.R7$(),e.Y8G("ngIf",T.patientList&&0==T.patientList.filteredData.length),e.R7$(),e.Y8G("length",T.totalCount)("pageSize",T.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",T.pageSizeOptions)("pageIndex",T.pageIndex))},dependencies:[l.Sq,l.bT,k.xH,k.y7,k.me,k.wz,k.BC,k.vS,r.$z,I.An,W.iy,S.B4,S.aE,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,l.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .provider--mat--table--wrapper .provider--mat--table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e;font-family:Nunito Sans,sans-serif!important}  .provider--mat--table--wrapper .provider--mat--table thead tr th:nth-child(1){width:24%}  .provider--mat--table--wrapper .provider--mat--table thead tr th:nth-child(2){width:27%}  .provider--mat--table--wrapper .provider--mat--table thead tr th:nth-child(3){width:15%}  .provider--mat--table--wrapper .provider--mat--table thead tr th:nth-child(4){width:15%}  .provider--mat--table--wrapper .provider--mat--table thead tr th:last-child{width:7%}  .provider--mat--table--wrapper .provider--mat--table tbody tr td{font-size:14px;font-weight:600;color:#1f2f3e;font-family:Nunito Sans,sans-serif!important}@media only screen and (max-width: 780px){.provider--mat--table--wrapper[_ngcontent-%COMP%]   .provider--mat--table[_ngcontent-%COMP%]{min-width:730px}}"]})}return v})()}}]);