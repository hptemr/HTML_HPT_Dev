"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[132],{46500:(_t,J,d)=>{d.d(J,{x:()=>C});var b=d(89417),t=d(34006),M=d(15802),F=d(79039),U=d(50446),a=d(54438),z=d(83390),B=d(30758),n=d(60177),L=d(88834);function r(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.required("your First Name")," ")}}function j(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.alphabeticChar("First Name")," ")}}function H(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.required("your Last Name")," ")}}function Z(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.alphabeticChar("Last Name")," ")}}function X(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.required("an email address")," ")}}function W(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.validEmail," ")}}function I(g,S){if(1&g&&(a.j41(0,"option",20),a.EFF(1),a.k0s()),2&g){const E=S.$implicit;a.Y8G("value",E),a.R7$(),a.JRh(E)}}function G(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG();a.R7$(),a.SpI(" ",E.validationMessages.requiredDropdown("the Practice location")," ")}}function v(g,S){if(1&g&&(a.j41(0,"div",19),a.EFF(1),a.k0s()),2&g){const E=a.XpG(2);a.R7$(),a.SpI(" ",E.validationMessages.alphabeticChar("Therapist Credentials")," ")}}function N(g,S){if(1&g&&(a.j41(0,"div",5)(1,"label",6),a.EFF(2,"Therapist Credentials"),a.k0s(),a.nrm(3,"input",21),a.DNE(4,v,2,1,"div",9),a.k0s()),2&g){const E=a.XpG();a.R7$(4),a.Y8G("ngIf",E.inviteUserForm.controls.therapistCredentials.touched&&E.inviteUserForm.controls.therapistCredentials.hasError("pattern"))}}let C=(()=>{class g{constructor(E,R,k,K,V){this.commonService=E,this.adminService=R,this.fb=k,this.dialogRef=K,this.data=V,this.validationMessages=M.q,this.heading="",this.practiceLocationData=U.WM,this.inviteButton=!1,this.isTherapist=!1,this.heading=null!=V.heading?V.heading:this.heading}ngOnInit(){this.initializePasswordForm(),"Invite Therapist"==this.heading&&(this.initializeTherapistFields(),this.isTherapist=!0)}initializePasswordForm(){this.inviteUserForm=this.fb.group({firstName:["",[b.k0.required,b.k0.pattern(F.y.alphabetic)]],lastName:["",[b.k0.required,b.k0.pattern(F.y.alphabetic)]],email:["",[b.k0.required,b.k0.email]],practiceLocation:["",b.k0.required]})}initializeTherapistFields(){this.inviteUserForm.addControl("therapistCredentials",this.fb.control("",[b.k0.pattern(F.y.alphabetic)]))}inviteUser(){this.inviteUserForm.valid&&(this.inviteButton=!0,this.inviteUserForm.value.userRole=this.data.userRole,this.adminService.invite(this.inviteUserForm.value).subscribe({next:E=>{this.dialogRef.close(E)},error:E=>{this.dialogRef.close(),E.error?.error&&this.commonService.openSnackBar(E.error?.message,"ERROR")}}))}checkSpace(E,R){this.inviteUserForm.controls[E].setValue(this.commonService.capitalize(R.target.value.trim()))}static#t=this.\u0275fac=function(R){return new(R||g)(a.rXU(z.h),a.rXU(B.z),a.rXU(b.ok),a.rXU(t.CP),a.rXU(t.Vh))};static#e=this.\u0275cmp=a.VBU({type:g,selectors:[["app-invite-popup"]],decls:47,vars:13,consts:[[1,"inivite--wrapper","d-flex","flex-column"],[1,"inivite--header","w-100"],[1,"inivite--body","w-100"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-400"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Enter First Name","maxlength","35","formControlName","firstName",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Enter Last Name","maxlength","35","formControlName","lastName",1,"form-control","form-control-md",3,"blur"],["type","text","placeholder","Enter Email","formControlName","email","maxlength","50",1,"form-control","form-control-md","text-lowercase"],["aria-label","Default select example","formControlName","practiceLocation",1,"form-select","form-control","form-control-md"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],[1,"inivite--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary",1,"me-2",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text","text-danger","mt-1"],[3,"value"],["type","text","placeholder","Enter Therapist Credentials","formControlName","therapistCredentials","maxlength","10",1,"form-control","form-control-md"]],template:function(R,k){1&R&&(a.j41(0,"div",0)(1,"div",1)(2,"h1"),a.EFF(3),a.k0s()(),a.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),a.EFF(9,"First Name "),a.j41(10,"span",7),a.EFF(11," * "),a.k0s()(),a.j41(12,"input",8),a.bIt("blur",function(V){return k.checkSpace("firstName",V)}),a.k0s(),a.DNE(13,r,2,1,"div",9)(14,j,2,1,"div",9),a.k0s(),a.j41(15,"div",5)(16,"label",6),a.EFF(17,"Last Name "),a.j41(18,"span",7),a.EFF(19," * "),a.k0s()(),a.j41(20,"input",10),a.bIt("blur",function(V){return k.checkSpace("lastName",V)}),a.k0s(),a.DNE(21,H,2,1,"div",9)(22,Z,2,1,"div",9),a.k0s(),a.j41(23,"div",5)(24,"label",6),a.EFF(25,"Email "),a.j41(26,"span",7),a.EFF(27," * "),a.k0s()(),a.nrm(28,"input",11),a.DNE(29,X,2,1,"div",9)(30,W,2,1,"div",9),a.k0s(),a.j41(31,"div",5)(32,"label",6),a.EFF(33,"Practice Location "),a.j41(34,"span",7),a.EFF(35," * "),a.k0s()(),a.j41(36,"select",12)(37,"option",13),a.EFF(38,"Select"),a.k0s(),a.DNE(39,I,2,2,"option",14),a.k0s(),a.DNE(40,G,2,1,"div",9),a.k0s(),a.DNE(41,N,5,1,"div",15),a.k0s()()(),a.j41(42,"div",16)(43,"button",17),a.EFF(44,"Cancel"),a.k0s(),a.j41(45,"button",18),a.bIt("click",function(){return k.inviteUser()}),a.EFF(46,"Invite"),a.k0s()()()),2&R&&(a.R7$(3),a.JRh(k.heading),a.R7$(2),a.Y8G("formGroup",k.inviteUserForm),a.R7$(8),a.Y8G("ngIf",k.inviteUserForm.controls.firstName.touched&&k.inviteUserForm.controls.firstName.hasError("required")),a.R7$(),a.Y8G("ngIf",k.inviteUserForm.controls.firstName.touched&&k.inviteUserForm.controls.firstName.hasError("pattern")),a.R7$(7),a.Y8G("ngIf",k.inviteUserForm.controls.lastName.touched&&k.inviteUserForm.controls.lastName.hasError("required")),a.R7$(),a.Y8G("ngIf",k.inviteUserForm.controls.lastName.touched&&k.inviteUserForm.controls.lastName.hasError("pattern")),a.R7$(7),a.Y8G("ngIf",k.inviteUserForm.controls.email.touched&&k.inviteUserForm.controls.email.hasError("required")),a.R7$(),a.Y8G("ngIf",k.inviteUserForm.controls.email.touched&&k.inviteUserForm.controls.email.hasError("email")),a.R7$(9),a.Y8G("ngForOf",k.practiceLocationData),a.R7$(),a.Y8G("ngIf",k.inviteUserForm.controls.practiceLocation.touched&&k.inviteUserForm.controls.practiceLocation.hasError("required")),a.R7$(),a.Y8G("ngIf",k.isTherapist),a.R7$(2),a.Y8G("mat-dialog-close",!1),a.R7$(2),a.Y8G("disabled",!k.inviteUserForm.valid||k.inviteButton))},dependencies:[n.Sq,n.bT,b.qT,b.xH,b.y7,b.me,b.wz,b.BC,b.cb,b.tU,b.j4,b.JD,L.$z,t.tx],styles:[".inivite--modal .mat-mdc-dialog-container{width:423px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper{padding:30px 24px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--footer{margin-top:17px}"]})}return g})()},18309:(_t,J,d)=>{d.d(J,{W:()=>dt});var b=d(74523),t=d(54494),M=d(12806),F=d(89417),U=d(15802),a=d(79039),z=d(50446),B=d(1792),n=d(54438),L=d(78887),r=d(34006),j=d(83390),H=d(30758),Z=d(26992),X=d(60177),W=d(88834),I=d(99213),G=d(3902);const v=["locationSelect"];function N(h,O){if(1&h){const s=n.RV6();n.j41(0,"mat-list-item",19),n.bIt("click",function(){n.eBV(s);const c=n.XpG(2);return n.Njj(c.removePhoto())}),n.EFF(1,"Remove Photo "),n.k0s()}}function C(h,O){if(1&h){const s=n.RV6();n.j41(0,"mat-list")(1,"mat-list-item",19),n.bIt("click",function(){n.eBV(s);const c=n.XpG();return n.Njj(c.changePhoto())}),n.EFF(2,"Change Photo "),n.k0s(),n.DNE(3,N,2,0,"mat-list-item",20),n.k0s()}if(2&h){const s=n.XpG();n.R7$(3),n.Y8G("ngIf",s.isDefaultImage)}}function g(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("your First Name")," ")}}function S(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.alphabeticChar("First Name")," ")}}function E(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("your Last Name")," ")}}function R(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.alphabeticChar("Last Name")," ")}}function k(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("an email address")," ")}}function K(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.validEmail," ")}}function V(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid phone number")," ")}}function tt(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.invalidPhoneNumber," ")}}function et(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(3);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid NPI number")," ")}}function nt(h,O){if(1&h&&(n.j41(0,"div",26)(1,"div",27)(2,"label",28),n.EFF(3,"NPI "),n.j41(4,"span",29),n.EFF(5," *"),n.k0s()(),n.nrm(6,"input",48),n.DNE(7,et,2,1,"div",31),n.k0s()()),2&h){const s=n.XpG(2);n.R7$(7),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.NPI.touched&&(s.practiceAdminProfileForm.controls.NPI.hasError("required")||s.practiceAdminProfileForm.controls.NPI.hasError("pattern")))}}function it(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(3);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid SSN")," ")}}function at(h,O){if(1&h&&(n.j41(0,"div",26)(1,"div",27)(2,"label",28),n.EFF(3,"SSN "),n.j41(4,"span",29),n.EFF(5," *"),n.k0s()(),n.nrm(6,"input",49),n.DNE(7,it,2,1,"div",31),n.k0s()()),2&h){const s=n.XpG(2);n.R7$(7),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.SSN.touched&&(s.practiceAdminProfileForm.controls.SSN.hasError("required")||s.practiceAdminProfileForm.controls.SSN.hasError("pattern")))}}function ot(h,O){1&h&&(n.j41(0,"div",26)(1,"div",27)(2,"label",28),n.EFF(3,"Mark as Site Leader for Practice Location "),n.k0s(),n.j41(4,"select",50)(5,"option",51),n.EFF(6," Select "),n.k0s(),n.j41(7,"option",52),n.EFF(8," Site Leader"),n.k0s(),n.j41(9,"option",53),n.EFF(10," None"),n.k0s()()()())}function rt(h,O){if(1&h&&(n.j41(0,"div",47),n.EFF(1),n.k0s()),2&h){const s=n.XpG(3);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid Licence number")," ")}}function st(h,O){if(1&h&&(n.j41(0,"div",26)(1,"div",27)(2,"label",28),n.EFF(3,"Licence Number "),n.j41(4,"span",29),n.EFF(5," *"),n.k0s()(),n.nrm(6,"input",54),n.DNE(7,rt,2,1,"div",31),n.k0s()()),2&h){const s=n.XpG(2);n.R7$(7),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.licenceNumber.touched&&s.practiceAdminProfileForm.controls.licenceNumber.hasError("required"))}}function lt(h,O){if(1&h&&(n.j41(0,"option",55),n.EFF(1),n.k0s()),2&h){const s=O.$implicit;n.Y8G("value",s),n.R7$(),n.JRh(s)}}function pt(h,O){if(1&h){const s=n.RV6();n.j41(0,"div",56),n.EFF(1),n.j41(2,"button",57),n.bIt("click",function(){const c=n.eBV(s).$implicit,_=n.XpG(2);return n.Njj(_.removeLocation(c))}),n.j41(3,"mat-icon",6),n.EFF(4,"close "),n.k0s()()()}if(2&h){const s=O.$implicit;n.R7$(),n.SpI(" ",s," ")}}function ct(h,O){if(1&h){const s=n.RV6();n.j41(0,"div",21)(1,"div",22)(2,"div",3)(3,"div",4)(4,"h3",7),n.EFF(5,"Basic Information"),n.k0s()()(),n.j41(6,"div",23)(7,"div",24)(8,"form",25)(9,"div",26)(10,"div",27)(11,"label",28),n.EFF(12,"First Name "),n.j41(13,"span",29),n.EFF(14," * "),n.k0s()(),n.j41(15,"input",30),n.bIt("blur",function(c){n.eBV(s);const _=n.XpG();return n.Njj(_.checkSpace("firstName",c))}),n.k0s(),n.DNE(16,g,2,1,"div",31)(17,S,2,1,"div",31),n.k0s()(),n.j41(18,"div",26)(19,"div",27)(20,"label",28),n.EFF(21,"Last Name"),n.j41(22,"span",29),n.EFF(23," * "),n.k0s()(),n.j41(24,"input",32),n.bIt("blur",function(c){n.eBV(s);const _=n.XpG();return n.Njj(_.checkSpace("lastName",c))}),n.k0s(),n.DNE(25,E,2,1,"div",31)(26,R,2,1,"div",31),n.k0s()(),n.j41(27,"div",26)(28,"div",27)(29,"label",28),n.EFF(30,"Email "),n.j41(31,"span",29),n.EFF(32," * "),n.k0s()(),n.nrm(33,"input",33),n.DNE(34,k,2,1,"div",31)(35,K,2,1,"div",31),n.k0s()(),n.j41(36,"div",26)(37,"div",27)(38,"label",28),n.EFF(39,"Phone "),n.j41(40,"span",29),n.EFF(41," * "),n.k0s()(),n.j41(42,"input",34),n.bIt("input",function(c){n.eBV(s);const _=n.XpG();return n.Njj(_.onPhoneInputChange(c))}),n.k0s(),n.DNE(43,V,2,1,"div",31)(44,tt,2,1,"div",31),n.k0s()(),n.DNE(45,nt,8,1,"div",35)(46,at,8,1,"div",35),n.j41(47,"div",26)(48,"div",27)(49,"label",28),n.EFF(50,"Status"),n.k0s(),n.j41(51,"select",36)(52,"option",37),n.EFF(53,"Pending"),n.k0s(),n.j41(54,"option",38),n.EFF(55,"Active"),n.k0s(),n.j41(56,"option",39),n.EFF(57,"Suspended"),n.k0s(),n.j41(58,"option",40),n.EFF(59,"Blocked"),n.k0s()()()(),n.DNE(60,ot,11,0,"div",35)(61,st,8,1,"div",35),n.j41(62,"div",26)(63,"div",27)(64,"label",28),n.EFF(65,"Practice Location "),n.k0s(),n.j41(66,"select",41,0),n.bIt("change",function(c){n.eBV(s);const _=n.XpG();return n.Njj(_.onLocationChange(c))}),n.j41(68,"option",42),n.EFF(69,"Select"),n.k0s(),n.DNE(70,lt,2,2,"option",43),n.k0s()(),n.j41(71,"div",27),n.DNE(72,pt,5,1,"div",44),n.k0s()(),n.j41(73,"div",45)(74,"button",46),n.bIt("click",function(){n.eBV(s);const c=n.XpG();return n.Njj(c.updatePracticeAdminProfile())}),n.EFF(75,"Save"),n.k0s()()()()()()()}if(2&h){const s=n.XpG();n.R7$(8),n.Y8G("formGroup",s.practiceAdminProfileForm),n.R7$(8),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.firstName.touched&&s.practiceAdminProfileForm.controls.firstName.hasError("required")),n.R7$(),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.firstName.touched&&s.practiceAdminProfileForm.controls.firstName.hasError("pattern")),n.R7$(8),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.lastName.touched&&s.practiceAdminProfileForm.controls.lastName.hasError("required")),n.R7$(),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.lastName.touched&&s.practiceAdminProfileForm.controls.lastName.hasError("pattern")),n.R7$(8),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.email.touched&&s.practiceAdminProfileForm.controls.email.hasError("required")),n.R7$(),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.email.touched&&s.practiceAdminProfileForm.controls.email.hasError("email")),n.R7$(7),n.Y8G("value",s.convertPhoneNumber),n.R7$(),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.phoneNumber.touched&&s.practiceAdminProfileForm.controls.phoneNumber.hasError("required")),n.R7$(),n.Y8G("ngIf",s.practiceAdminProfileForm.controls.phoneNumber.touched&&s.practiceAdminProfileForm.controls.phoneNumber.hasError("pattern")),n.R7$(),n.Y8G("ngIf",s.isTherapist),n.R7$(),n.Y8G("ngIf",s.isTherapist),n.R7$(6),n.Y8G("disabled",!s.hasInviteToken),n.R7$(8),n.Y8G("ngIf",s.isTherapist),n.R7$(),n.Y8G("ngIf",s.isTherapist),n.R7$(9),n.Y8G("ngForOf",s.practiceLocationData),n.R7$(2),n.Y8G("ngForOf",s.selectedLocations),n.R7$(2),n.Y8G("disabled",!s.practiceAdminProfileForm.valid)}}let dt=(()=>{class h{constructor(s,m,c,_,x,D,y){this.router=s,this.dialog=m,this.fb=c,this.route=_,this.commonService=x,this.adminService=D,this.authService=y,this.validationMessages=U.q,this.convertPhoneNumber="",this.practiceLocationData=z.WM,this.selectedLocations=[],this.userRole="",this.isTherapist=!1,this.editOptions=!1,this.showProfileForm=!1,this.isDefaultImage=!0,this.hasInviteToken=!1,this.route.params.subscribe(A=>{this.adminId=A.adminId})}ngOnInit(){this.initializeAdminProfile(),this.getProfile()}initializeAdminProfile(){this.practiceAdminProfileForm=this.fb.group({firstName:["",[F.k0.required,F.k0.pattern(a.y.alphabetic)]],lastName:["",[F.k0.required,F.k0.pattern(a.y.alphabetic)]],email:["",[F.k0.required,F.k0.email]],phoneNumber:["",[F.k0.required,F.k0.pattern(a.y.usPhoneNumber)]],status:[""],practiceLocation:[""]})}initializeTherapistFields(){this.practiceAdminProfileForm.addControl("NPI",this.fb.control("",[F.k0.required,F.k0.pattern(a.y.onlyNumeric)])),this.practiceAdminProfileForm.addControl("SSN",this.fb.control("",[F.k0.required,F.k0.pattern(a.y.numericAndSpecialCharacter)])),this.practiceAdminProfileForm.addControl("siteLeaderForPracLocation",this.fb.control("",[])),this.practiceAdminProfileForm.addControl("licenceNumber",this.fb.control("",[]))}getProfile(){this.commonService.showLoader(),this.adminService.profile({query:{_id:this.adminId},params:{profileImage:1,firstName:1,lastName:1,email:1,phoneNumber:1,status:1,practiceLocation:1,role:1,NPI:1,SSN:1,siteLeaderForPracLocation:1,licenceNumber:1,inviteToken:1}}).subscribe({next:m=>{this.commonService.hideLoader(),this.showProfileForm=!0,m&&!m.error&&(this.profileImage=z.ns.awsS3Url+z.ns.userProfileFolderPath+m.data.profileImage,this.isDefaultImage="default.png"!=m.data.profileImage,this.practiceAdminProfileForm.controls.firstName.setValue(m.data?m.data.firstName:""),this.practiceAdminProfileForm.controls.lastName.setValue(m.data?m.data.lastName:""),this.practiceAdminProfileForm.controls.email.setValue(m.data?m.data.email:""),this.practiceAdminProfileForm.controls.phoneNumber.setValue(m.data?m.data.phoneNumber:""),this.practiceAdminProfileForm.controls.status.setValue(m.data?m.data.status:""),this.selectedLocations=m.data.practiceLocation,this.userRole=m.data.role,this.hasInviteToken=!!m.data?.inviteToken,this.hasInviteToken&&this.practiceAdminProfileForm.get("status")?.disable(),"therapist"==this.userRole&&(this.initializeTherapistFields(),this.practiceAdminProfileForm.controls.siteLeaderForPracLocation.setValue(m.data&&m.data.siteLeaderForPracLocation?m.data.siteLeaderForPracLocation:"None"),this.practiceAdminProfileForm.controls.NPI.setValue(m.data&&m.data.NPI?m.data.NPI:""),this.practiceAdminProfileForm.controls.SSN.setValue(m.data&&m.data.SSN?m.data.SSN:""),this.practiceAdminProfileForm.controls.licenceNumber.setValue(m.data&&m.data.licenceNumber?m.data.licenceNumber:""),this.isTherapist=!0))},error:m=>{this.commonService.hideLoader(),this.showProfileForm=!0,m.error?.error&&this.commonService.openSnackBar(m.error?.message,"ERROR")}})}updatePracticeAdminProfile(){this.practiceAdminProfileForm.valid&&(this.practiceAdminProfileForm.value.practiceLocation=this.selectedLocations,this.practiceAdminProfileForm.value.userId=this.adminId,this.practiceAdminProfileForm.value.clickAction="update",this.updateProfile(this.practiceAdminProfileForm.value))}updateProfile(s){this.adminService.updateProfile(s).subscribe({next:m=>{m&&!m.error&&(this.commonService.openSnackBar(m.message,"SUCCESS"),this.navigateToAdminUserList())},error:m=>{m.error?.error&&this.commonService.openSnackBar(m.error?.message,"ERROR")}})}onPhoneInputChange(s){this.convertPhoneNumber=this.commonService.formatPhoneNumber(s.target.value)}deleteAccount(){this.dialog.open(t.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this account?"}}).afterClosed().subscribe(m=>{m&&!m.error&&this.updateProfile({userId:this.adminId,status:"Deleted",clickAction:"delete"})})}changePassword(){this.dialog.open(M.s,{panelClass:"change--password--modal",data:{userId:this.adminId,userRole:this.userRole}}).afterClosed().subscribe(m=>{console.log("result>>>",m)})}removeLocation(s){const m=this.selectedLocations.indexOf(s);-1!==m&&this.selectedLocations.splice(m,1)}onLocationChange(s){s.target.value&&!this.selectedLocations.includes(s.target.value)&&this.selectedLocations.push(s.target.value),this.locationSelect.nativeElement.selectedIndex=0}navigateToAdminUserList(){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/"+this.commonService.getUrlSegmentBaseOnRole(this.userRole)])}changePhoto(){var s=this;return(0,b.A)(function*(){s.editOptions=!1,s.dialog.open(B.m,{width:"600px",disableClose:!0,data:{cropperFor:"Profile Picture"}}).afterClosed().subscribe(function(){var c=(0,b.A)(function*(_){if(s.commonService.showLoader(),!1!==_&&null!=_.image){let x={userId:s.adminId,profileImage:_.image.base64};yield s.authService.apiRequest("post","admin/changeProfileImage",x).subscribe(function(){var D=(0,b.A)(function*(y){s.commonService.hideLoader(),s.commonService.openSnackBar(y.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(y){return D.apply(this,arguments)}}())}else s.commonService.hideLoader()});return function(_){return c.apply(this,arguments)}}())})()}editProfile(){this.editOptions=!this.editOptions}removePhoto(){var s=this;this.editOptions=!1,this.dialog.open(t.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to remove this image?"}}).afterClosed().subscribe(function(){var c=(0,b.A)(function*(_){if(_){let x={userId:s.adminId};yield s.authService.apiRequest("post","admin/deleteProfileImage",x).subscribe(function(){var D=(0,b.A)(function*(y){s.commonService.openSnackBar(y.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(y){return D.apply(this,arguments)}}())}});return function(_){return c.apply(this,arguments)}}())}checkSpace(s,m){this.practiceAdminProfileForm.controls[s].setValue(this.commonService.capitalize(m.target.value.trim()))}static#t=this.\u0275fac=function(m){return new(m||h)(n.rXU(L.Ix),n.rXU(r.bZ),n.rXU(F.ok),n.rXU(L.nX),n.rXU(j.h),n.rXU(H.z),n.rXU(Z.u))};static#e=this.\u0275cmp=n.VBU({type:h,selectors:[["app-admin-profile"]],viewQuery:function(m,c){if(1&m&&n.GBs(v,5),2&m){let _;n.mGM(_=n.lsd())&&(c.locationSelect=_.first)}},decls:24,vars:3,consts:[["locationSelect",""],[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[4,"ngIf"],[1,"profile--round","position-relative"],["alt","",1,"img-fluid","user--img",3,"src"],["mat-raised-button","","color","primary",1,"edit--btn",3,"click"],[1,"d-flex","flex-column","w-100","body--sec"],["mat-stroked-button","","color","primary",1,"w-100","mb-3",3,"click"],["mat-stroked-button","","color","warn",1,"w-100","mt-1",3,"click"],["class","profile--right d-flex flex-column w-100",4,"ngIf"],[3,"click"],[3,"click",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-12","col-lg-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","First name","formControlName","firstName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Last name","formControlName","lastName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["type","email","placeholder","Email ","formControlName","email","maxlength","35",1,"form-control","form-control-md","text-lowercase"],["type","text","placeholder","Phone ","formControlName","phoneNumber","maxlength","15",1,"form-control","form-control-md",3,"input","value"],["class","col-12 col-lg-6",4,"ngIf"],["aria-label","Default select example","formControlName","status",1,"form-select","form-control","form-control-md"],["value","Pending",3,"disabled"],["value","Active"],["value","Suspended"],["value","Blocked"],["aria-label","Default select example","formControlName","practiceLocation",1,"form-select","form-control","form-control-md",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","chips d-inline-flex align-items-center",4,"ngFor","ngForOf"],[1,"col-12","my-2","d-flex","justify-content-end"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text","text-danger","mt-1"],["type","text","placeholder","NPI ","formControlName","NPI","maxlength","10",1,"form-control","form-control-md"],["type","text","placeholder","SSN ","formControlName","SSN","maxlength","9",1,"form-control","form-control-md"],["formControlName","siteLeaderForPracLocation",1,"form-select","form-control","form-control-md"],[3,"selected"],["value","Site Leader"],["value","None"],["type","text","placeholder","Licence Number ","formControlName","licenceNumber","maxlength","15",1,"form-control","form-control-md"],[3,"value"],[1,"chips","d-inline-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","chip--close--btn","pe-0","ps-1",3,"click"]],template:function(m,c){1&m&&(n.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),n.bIt("click",function(){return c.navigateToAdminUserList()}),n.j41(5,"mat-icon",6),n.EFF(6," keyboard_backspace "),n.k0s()(),n.j41(7,"h3",7),n.EFF(8,"Profile Details"),n.k0s()()(),n.j41(9,"div",8)(10,"div",9)(11,"div",10),n.DNE(12,C,4,1,"mat-list",11),n.k0s(),n.j41(13,"div",12),n.nrm(14,"img",13),n.j41(15,"button",14),n.bIt("click",function(){return c.editProfile()}),n.j41(16,"mat-icon",6),n.EFF(17," edit "),n.k0s()()(),n.j41(18,"div",15)(19,"button",16),n.bIt("click",function(){return c.changePassword()}),n.EFF(20,"Change Password"),n.k0s(),n.j41(21,"button",17),n.bIt("click",function(){return c.deleteAccount()}),n.EFF(22,"Delete Account"),n.k0s()()(),n.DNE(23,ct,76,18,"div",18),n.k0s()()()),2&m&&(n.R7$(12),n.Y8G("ngIf",c.editOptions),n.R7$(2),n.FS9("src",c.profileImage,n.B4B),n.R7$(9),n.Y8G("ngIf",c.showProfileForm))},dependencies:[X.Sq,X.bT,F.qT,F.xH,F.y7,F.me,F.wz,F.BC,F.cb,F.tU,F.j4,F.JD,W.$z,I.An,G.jt,G.YE]})}return h})()},32755:(_t,J,d)=>{d.d(J,{V:()=>O});var b=d(74523),t=d(96695),M=d(2042),F=d(9159),U=d(46500),a=d(89417),z=d(70152),B=d(50446),n=d(15802),L=d(54494),r=d(54438),j=d(18617),H=d(78887),Z=d(34006),X=d(26992),W=d(83390),I=d(30758),G=d(60177),v=d(88834),N=d(99213),C=d(14823);const g=["locationSelect"],S=["statusSelect"];function E(s,m){if(1&s&&(r.j41(0,"option",42),r.EFF(1),r.k0s()),2&s){const c=m.$implicit;r.Y8G("value",c),r.R7$(),r.SpI("",c," ")}}function R(s,m){1&s&&(r.j41(0,"th",43),r.EFF(1," Name "),r.k0s())}function k(s,m){if(1&s&&(r.j41(0,"td",44),r.EFF(1),r.k0s()),2&s){const c=m.$implicit;r.R7$(),r.SpI(" ",c.name," ")}}function K(s,m){1&s&&(r.j41(0,"th",45),r.EFF(1," Email Id "),r.k0s())}function V(s,m){if(1&s&&(r.j41(0,"td",44),r.EFF(1),r.k0s()),2&s){const c=m.$implicit;r.R7$(),r.SpI(" ",c.email," ")}}function tt(s,m){1&s&&(r.j41(0,"th",46),r.EFF(1," Practice Location "),r.k0s())}function et(s,m){if(1&s&&(r.j41(0,"td",44)(1,"span",47),r.EFF(2),r.k0s()()),2&s){const c=m.$implicit,_=r.XpG();r.R7$(),r.FS9("matTooltip",c.practiceLocation.length>2?c.practiceLocation.join(", "):""),r.R7$(),r.SpI(" ",_.getFormattedPracticeLocation(c.practiceLocation)," ")}}function nt(s,m){1&s&&(r.j41(0,"th",48),r.EFF(1," Status "),r.k0s())}function it(s,m){if(1&s&&(r.j41(0,"td",44)(1,"p"),r.EFF(2),r.k0s()()),2&s){const c=m.$implicit;r.R7$(),r.ZvI("status ",c.statusClass,""),r.R7$(),r.JRh(c.status)}}function at(s,m){1&s&&(r.j41(0,"th",48),r.EFF(1," Actions "),r.k0s())}function ot(s,m){if(1&s){const c=r.RV6();r.j41(0,"button",54),r.bIt("click",function(){r.eBV(c);const x=r.XpG().$implicit,D=r.XpG();return r.Njj(D.resentInvite(x))}),r.j41(1,"mat-icon",51),r.EFF(2,"replay "),r.k0s()()}}function rt(s,m){if(1&s){const c=r.RV6();r.j41(0,"button",55),r.bIt("click",function(){r.eBV(c);const x=r.XpG().$implicit,D=r.XpG();return r.Njj(D.revokeInvite(x))}),r.j41(1,"mat-icon",51),r.EFF(2,"undo "),r.k0s()()}}function st(s,m){if(1&s){const c=r.RV6();r.j41(0,"td",44)(1,"div",49)(2,"button",50),r.bIt("click",function(){const x=r.eBV(c).$implicit,D=r.XpG();return r.Njj(D.navigateToAdminUserDetails(x._id))}),r.j41(3,"mat-icon",51),r.EFF(4,"visibility "),r.k0s()(),r.DNE(5,ot,3,0,"button",52)(6,rt,3,0,"button",53),r.k0s()()}if(2&s){const c=m.$implicit;r.R7$(5),r.Y8G("ngIf","Pending"==c.status),r.R7$(),r.Y8G("ngIf","Pending"==c.status&&"valid"==c.inviteTokenStatus)}}function lt(s,m){1&s&&r.nrm(0,"tr",56)}function pt(s,m){1&s&&r.nrm(0,"tr",57)}function ct(s,m){if(1&s&&(r.j41(0,"div",58)(1,"div",59),r.nrm(2,"img",60),r.j41(3,"p",61),r.EFF(4),r.k0s()()()),2&s){const c=r.XpG();r.R7$(4),r.JRh(c.validationMessages.noRecords)}}function dt(s,m){if(1&s){const c=r.RV6();r.j41(0,"mat-paginator",62),r.bIt("page",function(x){r.eBV(c);const D=r.XpG();return r.Njj(D.handlePageEvent(x))}),r.k0s()}if(2&s){const c=r.XpG();r.Y8G("length",c.totalCount)("pageSize",c.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",c.pageSizeOptions)("pageIndex",c.pageIndex)}}const h=[];let O=(()=>{class s{constructor(c,_,x,D,y,A,w){this._liveAnnouncer=c,this.router=_,this.dialog=x,this.authService=D,this.commonService=y,this.adminService=A,this.route=w,this.validationMessages=n.q,this.adminUsersDataSource=new F.I6(h),this.displayedColumns=["name","email","practiceLocation","status","action"],this.practiceLocationData=B.WM,this.searchAdminUsers=new a.MJ(""),this.userRole="",this.pageTitle="",this.profileUrlSegment="",this.isUserList=!0,this.orderBy={createdAt:-1},this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=B.T0,this.pageSizeOptions=B.Xe,this.searchQuery="",this.searchControlAdminUsers()}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),"therapist"==this.userRole&&"Site Leader"!=this.authService.getLoggedInInfo("siteLeaderForPracLocation")&&this.router.navigate(["/therapist/dashboard"]),this.getRouteSegment(),this.adminUsers()}announceSortChange(c){let _;_="desc"==c.direction?-1:1,this.orderBy="name"==c.active?{firstName:_}:{[c.active]:_},this.adminUsers()}invitePopup(){this.dialog.open(U.x,{disableClose:!0,panelClass:"inivite--modal",data:{heading:`Invite ${this.pageTitle}`,userRole:this.userRole}}).afterClosed().subscribe(_=>{_&&!_.error&&(this.adminUsers("invite"),this.commonService.openSnackBar(_.message,"SUCCESS"))})}getRouteSegment(){this.route.url.subscribe(c=>{const{userRole:_,profileUrlSegment:x,pageTitle:D}=this.commonService.getUserRoleBaseOnUrlSegment(c);this.userRole=_,this.pageTitle=D,this.profileUrlSegment=x,this.whereCond={role:this.userRole}})}adminUsers(c=""){var _=this;return(0,b.A)(function*(){""==c&&_.commonService.showLoader(),Object.assign(_.whereCond,{$or:[{firstName:{$regex:_.searchQuery,$options:"i"}},{lastName:{$regex:_.searchQuery,$options:"i"}},{email:_.searchQuery},{status:_.searchQuery},{practiceLocation:_.searchQuery}]});let x={query:_.whereCond,fields:{_id:1,firstName:1,lastName:1,email:1,status:1,practiceLocation:1},order:_.orderBy,limit:_.pageSize,offset:_.pageIndex*_.pageSize};yield _.authService.apiRequest("post","admin/getUserList",x).subscribe(function(){var D=(0,b.A)(function*(y){_.commonService.hideLoader(),_.totalCount=y.data.totalCount;let A=[];yield y.data.userList.map(w=>{let Y={name:`${w.firstName} ${w.lastName}`,email:w.email,practiceLocation:w.practiceLocation,status:w.status,_id:w._id,statusClass:w.status.toLowerCase(),inviteTokenStatus:w.inviteTokenStatus};A.push(Y)}),_.adminUsersDataSource=new F.I6(A),_.isUserList=_.totalCount>0});return function(y){return D.apply(this,arguments)}}())})()}onLocationChange(c){const _=c.target.value;_&&(this.searchQuery=_,this.adminUsers("search"))}searchControlAdminUsers(){this.searchAdminUsers.valueChanges.pipe((0,z.B)(300)).subscribe(c=>{this.searchAdminUsersByQuery(c)})}searchAdminUsersByQuery(c){this.searchQuery=c,this.adminUsers("search")}onStatusChange(c){let _=c.target.value;_&&(this.searchQuery=_,this.adminUsers("search"))}resetFilter(){this.locationSelect.nativeElement.selectedIndex=0,this.statusSelect.nativeElement.selectedIndex=0,this.searchAdminUsers.setValue(""),this.totalCount=0,this.pageIndex=0,this.pageSize=B.T0,this.pageSizeOptions=B.Xe,this.searchQuery="",this.adminUsers("reset")}navigateToAdminUserDetails(c){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/"+this.profileUrlSegment,c])}handlePageEvent(c){this.pageSize=c.pageSize,this.pageIndex=c.pageIndex,this.adminUsers()}getFormattedPracticeLocation(c,_=2,x=", "){if(!Array.isArray(c)||0===c.length)return"";let y=c.slice(0,_).join(x);return c.length>_&&(y+="..."),y}resentInvite(c){var _=this;return(0,b.A)(function*(){_.dialog.open(L.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to resend the invite?"}}).afterClosed().subscribe(function(){var D=(0,b.A)(function*(y){if(y&&!y.error){let A={_id:c._id,firstName:c.name,email:c.email};yield _.authService.apiRequest("post","admin/resendInvite",A).subscribe(function(){var w=(0,b.A)(function*(Y){Y&&!Y.error&&(_.adminUsers(),_.commonService.openSnackBar(Y.message,"SUCCESS"))});return function(Y){return w.apply(this,arguments)}}(),w=>{w.error?.error&&_.commonService.openSnackBar(w.error?.message,"ERROR")})}});return function(y){return D.apply(this,arguments)}}())})()}revokeInvite(c){var _=this;return(0,b.A)(function*(){_.dialog.open(L.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to revoke the invite?"}}).afterClosed().subscribe(function(){var D=(0,b.A)(function*(y){if(y&&!y.error){let A={_id:c._id};yield _.authService.apiRequest("post","admin/revokeInvite",A).subscribe(function(){var w=(0,b.A)(function*(Y){Y&&!Y.error&&(_.adminUsers(),_.commonService.openSnackBar(Y.message,"SUCCESS"))});return function(Y){return w.apply(this,arguments)}}(),w=>{w.error?.error&&_.commonService.openSnackBar(w.error?.message,"ERROR")})}});return function(y){return D.apply(this,arguments)}}())})()}static#t=this.\u0275fac=function(_){return new(_||s)(r.rXU(j.Ai),r.rXU(H.Ix),r.rXU(Z.bZ),r.rXU(X.u),r.rXU(W.h),r.rXU(I.z),r.rXU(H.nX))};static#e=this.\u0275cmp=r.VBU({type:s,selectors:[["app-user-listing"]],viewQuery:function(_,x){if(1&_&&(r.GBs(M.B4,5),r.GBs(t.iy,5),r.GBs(g,5),r.GBs(S,5)),2&_){let D;r.mGM(D=r.lsd())&&(x.sort=D.first),r.mGM(D=r.lsd())&&(x.paginator=D.first),r.mGM(D=r.lsd())&&(x.locationSelect=D.first),r.mGM(D=r.lsd())&&(x.statusSelect=D.first)}},decls:65,vars:11,consts:[["locationSelect",""],["statusSelect",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-0","clr--1F2F3E"],["mat-raised-button","","color","primary",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4"],["type","text",1,"form-control","search--outer",3,"placeholder","formControl"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],["value","Pending"],["value","Active"],["value","Suspended"],["value","Deleted"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","practiceLocation"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100 mt-4",4,"ngIf"],[3,"length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex","page",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],[3,"matTooltip"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","","matTooltip","View",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields","matTooltip","Resend Invite",3,"click",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields","matTooltip","Revoke Invite",3,"click",4,"ngIf"],["mat-button","","matTooltip","Resend Invite",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],["mat-button","","matTooltip","Revoke Invite",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100","mt-4"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"]],template:function(_,x){if(1&_){const D=r.RV6();r.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6),r.EFF(5),r.k0s(),r.j41(6,"button",7),r.bIt("click",function(){return r.eBV(D),r.Njj(x.invitePopup())}),r.j41(7,"mat-icon",8),r.EFF(8," person_add "),r.k0s(),r.EFF(9),r.k0s()(),r.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"select",13,0),r.bIt("change",function(A){return r.eBV(D),r.Njj(x.onLocationChange(A))}),r.j41(16,"option",14),r.EFF(17,"Practice Location"),r.k0s(),r.DNE(18,E,2,2,"option",15),r.k0s()()(),r.j41(19,"div",16)(20,"div",12),r.nrm(21,"input",17),r.j41(22,"button",18)(23,"mat-icon",8),r.EFF(24,"search "),r.k0s()()()(),r.j41(25,"div",11)(26,"div",12)(27,"select",13,1),r.bIt("change",function(A){return r.eBV(D),r.Njj(x.onStatusChange(A))}),r.j41(29,"option",14),r.EFF(30,"Status"),r.k0s(),r.j41(31,"option",19),r.EFF(32,"Pending"),r.k0s(),r.j41(33,"option",20),r.EFF(34,"Active"),r.k0s(),r.j41(35,"option",21),r.EFF(36,"Suspended"),r.k0s(),r.j41(37,"option",22),r.EFF(38,"Deleted"),r.k0s()()()(),r.j41(39,"div",23)(40,"div",12)(41,"button",24),r.bIt("click",function(){return r.eBV(D),r.Njj(x.resetFilter())}),r.EFF(42,"Reset Filter"),r.k0s()()()()()(),r.j41(43,"div",25)(44,"div",26)(45,"table",27),r.bIt("matSortChange",function(A){return r.eBV(D),r.Njj(x.announceSortChange(A))}),r.qex(46,28),r.DNE(47,R,2,0,"th",29)(48,k,2,1,"td",30),r.bVm(),r.qex(49,31),r.DNE(50,K,2,0,"th",32)(51,V,2,1,"td",30),r.bVm(),r.qex(52,33),r.DNE(53,tt,2,0,"th",34)(54,et,3,2,"td",30),r.bVm(),r.qex(55,35),r.DNE(56,nt,2,0,"th",36)(57,it,3,4,"td",30),r.bVm(),r.qex(58,37),r.DNE(59,at,2,0,"th",36)(60,st,7,2,"td",30),r.bVm(),r.DNE(61,lt,1,0,"tr",38)(62,pt,1,0,"tr",39),r.k0s(),r.DNE(63,ct,5,1,"div",40)(64,dt,1,5,"mat-paginator",41),r.k0s()()()()}2&_&&(r.R7$(5),r.JRh(x.pageTitle),r.R7$(4),r.SpI(" Invite ",x.pageTitle," "),r.R7$(9),r.Y8G("ngForOf",x.practiceLocationData),r.R7$(3),r.Mz_("placeholder","Search ",x.pageTitle,""),r.Y8G("formControl",x.searchAdminUsers),r.R7$(24),r.Y8G("dataSource",x.adminUsersDataSource),r.R7$(16),r.Y8G("matHeaderRowDef",x.displayedColumns),r.R7$(),r.Y8G("matRowDefColumns",x.displayedColumns),r.R7$(),r.Y8G("ngIf",!x.isUserList),r.R7$(),r.Y8G("ngIf",x.isUserList))},dependencies:[G.Sq,G.bT,a.xH,a.y7,a.me,a.BC,v.$z,N.An,t.iy,M.B4,M.aE,F.Zl,F.tL,F.ji,F.cC,F.YV,F.iL,F.KS,F.$R,F.YZ,F.NB,C.oV,a.l_],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return s})()},80134:(_t,J,d)=>{d.d(J,{R:()=>ke});var b=d(74523),t=d(54438),M=d(34006),F=d(88834),U=d(99213);let a=(()=>{class o{constructor(e){this.dialog=e}chooseTherapistAlert(){}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(M.bZ))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-system-followup-modal"]],decls:44,vars:0,consts:[[1,"container-fluid","sfh--wrapper"],[1,"col-12"],[1,"clr--1F2F3E","font-18","mb-4","fw-600"],[1,"d-flex","align-items-center","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"m-0","clr--1F2F3E","font-16","fw-500"],[1,"col-12","d-flex","align-items-center","justify-content-center","mt-4"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"]],template:function(l,i){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3,"System Followup History"),t.k0s()(),t.j41(4,"div",1)(5,"div",3)(6,"div",4)(7,"mat-icon",5),t.EFF(8,"mail"),t.k0s()(),t.j41(9,"h3",6),t.EFF(10,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(11,"div",3)(12,"div",4)(13,"mat-icon",5),t.EFF(14,"phone_iphone"),t.k0s()(),t.j41(15,"h3",6),t.EFF(16,"Fri, Nov 09, 2023 10:30 am"),t.k0s()(),t.j41(17,"div",3)(18,"div",4)(19,"mat-icon",5),t.EFF(20,"mail"),t.k0s()(),t.j41(21,"h3",6),t.EFF(22,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(23,"div",3)(24,"div",4)(25,"mat-icon",5),t.EFF(26,"phone_iphone"),t.k0s()(),t.j41(27,"h3",6),t.EFF(28,"Fri, Nov 09, 2023 10:30 am"),t.k0s()(),t.j41(29,"div",3)(30,"div",4)(31,"mat-icon",5),t.EFF(32,"mail"),t.k0s()(),t.j41(33,"h3",6),t.EFF(34,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(35,"div",3)(36,"div",4)(37,"mat-icon",5),t.EFF(38,"phone_iphone"),t.k0s()(),t.j41(39,"h3",6),t.EFF(40,"Fri, Nov 09, 2023 10:30 am"),t.k0s()()(),t.j41(41,"div",7)(42,"button",8),t.bIt("click",function(){return i.chooseTherapistAlert()}),t.EFF(43,"Close"),t.k0s()()())},dependencies:[F.$z,M.tx,U.An],styles:[".sfh--wrapper[_ngcontent-%COMP%]{padding:30px 20px}.sfh--wrapper[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}"]})}return o})();var z=d(18920),B=d(37142),n=d(9159),L=d(2042),r=d(96695),j=d(89417),H=d(99172),Z=d(96354),X=d(26992),W=d(83390),I=d(60177),G=d(60850),v=d(86600),N=d(36471),C=d(32102),g=d(99631);function S(o,u){if(1&o){const e=t.RV6();t.j41(0,"mat-option",28),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.addOption(i))})("keydown.enter",function(){const i=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.addOption(i))}),t.EFF(1),t.k0s()}if(2&o){const e=u.$implicit,l=t.XpG();t.R7$(),t.SpI(" ",l.loadData(e)," ")}}function E(o,u){if(1&o){const e=t.RV6();t.j41(0,"mat-chip",29),t.EFF(1),t.j41(2,"mat-icon",30),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.removeOption(i))}),t.EFF(3,"close"),t.k0s()()}if(2&o){const e=u.$implicit,l=t.XpG();t.R7$(),t.SpI(" ",l.loadData(e)," ")}}function R(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",31),t.EFF(1),t.j41(2,"button",32),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG();return t.Njj(p.removeNewFax(i))}),t.j41(3,"mat-icon",5),t.EFF(4,"close "),t.k0s()()()}if(2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",e," ")}}let k=(()=>{class o{constructor(e,l,i,p,f){this.data=e,this.dialog=l,this.authService=i,this.commonService=p,this.dialogRef=f,this.toppings=new j.MJ(""),this.sendToList=[],this.patientName="",this.noteType="",this.appointmentId="",this.whereDocCond={status:"Active"},this.NewFaxNumbers=[],this.newFaxNumber="",this.treatmentToBeProvided="",this.submitted=!1,this.visits="",this.myControl=new j.MJ,this.allOptions=[],this.selectedOptions=[],this.patientName=e.patientName,this.noteType=e.soapNoteType,this.appointmentId=e.appointmentId,this.treatmentToBeProvided=e.treatmentToBeProvided,this.noteData=e.noteData,this.subjectiveData=e.subjectiveData,this.assessmentData=e.assessmentData,this.appointmentData=e.appointmentData,this.dateOfService=e.dateOfService,this.visits=e.visits,this.objectiveData=e.objectiveData,this.getDoctorsList()}ngOnInit(){this.options=this.myControl.valueChanges.pipe((0,H.Z)(""),(0,Z.T)(e=>{const l=e;return this.allOptions.filter(i=>i.name.toLowerCase().includes(l.toLowerCase()))})),this.allOptions=[]}addOption(e){this.selectedOptions.map(i=>i.id).includes(e.id)||this.selectedOptions.push(e)}removeOption(e){this.selectedOptions=this.selectedOptions.filter(l=>l.id!==e.id)}soapNoteType(e){switch(e){case"initial_examination":return"Initial Examinations";case"daily_note":return"Daily Notes";case"progress_note":return"Progress Notes";case"discharge_note":return"Discharge Notes";case"case_note":return"Case Notes";default:return e.replace("_","-")}}getDoctorsList(){var e=this;this.authService.apiRequest("post","appointment/getDoctorList",{query:this.whereDocCond,fields:{_id:1,name:1,faxNumber:1},order:{name:1}}).subscribe(function(){var i=(0,b.A)(function*(p){let f=[];p.data&&p.data.doctorList&&p.data.doctorList.length>0&&(yield p.data.doctorList.map($=>{f.push({id:$._id,name:$.name,faxNumber:$.faxNumber})})),e.allOptions=f;let P={id:e.appointmentData.doctorId._id,name:e.appointmentData.doctorId.name,faxNumber:e.appointmentData.doctorId.faxNumber};yield e.selectedOptions.push(P),e.myControl.setValue("")});return function(p){return i.apply(this,arguments)}}())}loadData(e){return e.name}addNewFax(){this.NewFaxNumbers.includes(this.newFaxNumber)||(this.NewFaxNumbers.push(this.newFaxNumber),this.newFaxNumber="")}removeNewFax(e){this.NewFaxNumbers=this.NewFaxNumbers.filter(l=>l!==e)}sendEFax(){var e=this;let l=[];if(this.selectedOptions.forEach(i=>{l.push(i.faxNumber)}),this.NewFaxNumbers.forEach(i=>{l.push(i)}),l.length>0){let i={faxNumbers:l,noteType:this.noteType,patientName:this.patientName,treatmentToBeProvided:this.treatmentToBeProvided,noteData:this.noteData,subjectiveData:this.subjectiveData,assessmentData:this.assessmentData,appointmentData:this.appointmentData,visits:this.visits,objectiveData:this.objectiveData,appointmentId:this.appointmentId};this.submitted=!0,this.commonService.showLoader(),this.authService.apiRequest("post","soapNote/sendFax",i).subscribe(function(){var p=(0,b.A)(function*(f){e.submitted=!1,e.commonService.hideLoader(),e.commonService.openSnackBar("Fax sent successfully","SUCCESS"),e.dialogRef.close()});return function(f){return p.apply(this,arguments)}}(),p=>{this.submitted=!1,this.commonService.hideLoader(),this.commonService.openSnackBar("Failed to sent Fax","ERROR")})}}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(M.Vh),t.rXU(M.bZ),t.rXU(X.u),t.rXU(W.h),t.rXU(M.CP))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-e-fax-modal"]],decls:54,vars:17,consts:[["auto","matAutocomplete"],[1,"modal--wrapper","d-flex","flex-column","w-100","efax--modal--wrapper"],[1,"modal--header","w-100"],[1,"mb-0","d-flex","align-items-center"],["mat-dialog-close","","mat-stroked-button","","color","primary",1,"me-3","back--btn"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"modal--body","w-100"],[1,"row"],[1,"col-12"],[1,"col-12","d-flex","align-items-start","mb-2"],[1,"font-16","fw-600","mb-0","flex-shrink-0"],[1,"font-16","mb-0","ms-1"],[1,"col-12","send--to","d-flex","flex-column"],[1,"col-form-label","fw-600"],["appearance","outline",1,"w-100"],["matInput","","type","text","placeholder","Send to",3,"formControl","matAutocomplete"],[3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"mt-2"],["class","chips",4,"ngFor","ngForOf"],[1,"col-12","mt-3"],[1,"form-group","mb-0"],[1,"d-flex","align-items-start","flex-column","flex-sm-row"],["type","text","placeholder","Enter New Fax Number","pattern","^[1-9][0-9]*$","oninput","if(!this.value.match('^[1-9][0-9]*$'))this.value='';","maxlength","12","minlength","10",1,"form-control","form-control-md","mb-2",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary",1,"flex-shrink-0","ms-2","mb-2",3,"click","disabled"],["class","chips d-inline-flex align-items-center",4,"ngFor","ngForOf"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2",3,"disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"click","keydown.enter"],[1,"chips"],["matChipRemove","",1,"chip--close--btn",3,"click"],[1,"chips","d-inline-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","chip--close--btn","pe-0","ps-1",3,"click"]],template:function(l,i){if(1&l){const p=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h1",3)(3,"button",4)(4,"mat-icon",5),t.EFF(5," keyboard_backspace "),t.k0s()(),t.EFF(6," E-Fax One Page Notes "),t.k0s()(),t.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",7)(11,"div",9)(12,"label",10),t.EFF(13,"Patient Name : "),t.k0s(),t.j41(14,"p",11),t.EFF(15),t.k0s()(),t.j41(16,"div",9)(17,"label",10),t.EFF(18,"Note Type : "),t.k0s(),t.j41(19,"p",11),t.EFF(20),t.k0s()(),t.j41(21,"div",9)(22,"label",10),t.EFF(23,"Date of Service : "),t.k0s(),t.j41(24,"p",11),t.EFF(25),t.nI1(26,"date"),t.k0s()(),t.j41(27,"div",12)(28,"label",13),t.EFF(29,"Send To "),t.k0s(),t.j41(30,"mat-form-field",14),t.nrm(31,"input",15),t.j41(32,"mat-autocomplete",null,0),t.DNE(34,S,2,1,"mat-option",16),t.nI1(35,"async"),t.k0s()(),t.j41(36,"mat-chip-set",17),t.DNE(37,E,4,1,"mat-chip",18),t.k0s()(),t.j41(38,"div",19)(39,"div",7)(40,"div",8)(41,"div",20)(42,"label",13),t.EFF(43,"Add New Fax Number "),t.k0s(),t.j41(44,"div",21)(45,"input",22),t.mxI("ngModelChange",function(P){return t.eBV(p),t.DH7(i.newFaxNumber,P)||(i.newFaxNumber=P),t.Njj(P)}),t.k0s(),t.j41(46,"button",23),t.bIt("click",function(){return t.eBV(p),t.Njj(i.addNewFax())}),t.EFF(47,"Add New Fax Number"),t.k0s()()(),t.DNE(48,R,5,1,"div",24),t.k0s()()()()()()(),t.j41(49,"div",25)(50,"button",26),t.EFF(51,"Cancel"),t.k0s(),t.j41(52,"button",27),t.bIt("click",function(){return t.eBV(p),t.Njj(i.sendEFax())}),t.EFF(53,"Send"),t.k0s()()()}if(2&l){const p=t.sdS(33);t.R7$(15),t.JRh(i.patientName),t.R7$(5),t.JRh(i.soapNoteType(i.noteType)),t.R7$(5),t.JRh(t.i5U(26,12,i.dateOfService,"dd MMMM , y")),t.R7$(6),t.Y8G("formControl",i.myControl)("matAutocomplete",p),t.R7$(3),t.Y8G("ngForOf",t.bMT(35,15,i.options)),t.R7$(3),t.Y8G("ngForOf",i.selectedOptions),t.R7$(8),t.R50("ngModel",i.newFaxNumber),t.R7$(),t.Y8G("disabled",i.newFaxNumber.length<10),t.R7$(2),t.Y8G("ngForOf",i.NewFaxNumbers),t.R7$(2),t.Y8G("disabled",i.submitted),t.R7$(2),t.Y8G("disabled",i.submitted||0==i.NewFaxNumbers.length&&0==i.selectedOptions.length)}},dependencies:[I.Sq,j.me,j.BC,j.xh,j.tU,j.R_,j.vS,G.$3,v.wT,G.pN,F.$z,N.Jl,N.Zv,N.Jo,M.tx,C.rl,U.An,g.fg,j.l_,I.Jj,I.vh],styles:[".efax--modal--wrapper[_ngcontent-%COMP%]     .back--btn{min-width:42px}.efax--modal--wrapper[_ngcontent-%COMP%]     .back--btn .material-symbols-outlined{width:24px;height:24px;font-size:24px}.efax--modal--wrapper[_ngcontent-%COMP%]     .mat-mdc-select-value, .efax--modal--wrapper[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Nunito Sans,sans-serif!important}.efax--modal--wrapper[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}.efax--modal--wrapper[_ngcontent-%COMP%]     .mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:#fff!important;font-family:Nunito Sans,sans-serif!important}.efax--modal--wrapper[_ngcontent-%COMP%]     .mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:0}.efax--modal--wrapper[_ngcontent-%COMP%]     .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0!important}.efax--modal--wrapper[_ngcontent-%COMP%]     .chips{border-radius:5px;background:#31b7b7!important;font-size:14px;color:#fff;padding:2px 9px;margin:0 10px 10px 0}.efax--modal--wrapper[_ngcontent-%COMP%]     .chips .chip--close--btn{font-size:16px;color:#fff;opacity:9;padding:0 0 0 6px}.efax--modal--wrapper[_ngcontent-%COMP%]     .chips .chip--close--btn .mat-icon{font-size:14px;height:14px;width:14px}.efax--modal--wrapper[_ngcontent-%COMP%]     .modal--footer{border-top:1px solid #ddd}.efax--modal--wrapper[_ngcontent-%COMP%]     .send--to .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:22px}.efax--modal--wrapper[_ngcontent-%COMP%]     .send--to .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:12px;padding-bottom:8px}.efax--modal--wrapper[_ngcontent-%COMP%]     .send--to .mat-mdc-form-field-infix{min-height:40px}"]})}return o})();var K=d(7239),V=d.n(K),tt=d(89107);function et(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.SpI(" ",t.i5U(2,1,e.appointmentData.patientId.dob,"MM/dd/y"),"")}}function nt(o,u){if(1&o&&(t.j41(0,"td",78)(1,"span",28),t.EFF(2,"Date of Document:"),t.k0s(),t.EFF(3),t.nI1(4,"date"),t.k0s()),2&o){const e=t.XpG();t.R7$(3),t.SpI(" ",t.i5U(4,1,e.subjectiveData.updatedAt,"MM/dd/y"),"")}}function it(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.SpI(" ",e.appointmentData.doctorId.name,"")}}function at(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Lme(" ",e.subjectiveData.diagnosis_code[0].code,": ",e.subjectiveData.diagnosis_code[0].name,"")}}function ot(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.Lme(" ",e.subjectiveData.diagnosis_code[0].code,": ",e.subjectiveData.diagnosis_code[0].name,"")}}function rt(o,u){if(1&o&&(t.j41(0,"span",83),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.Lme("",e.patientName," received an initial evaluation and treatment today ",t.i5U(2,2,e.subjectiveData.note_date,"EEE, MMM d, y hh:mm a"),".")}}function st(o,u){if(1&o&&(t.j41(0,"div",79)(1,"div",52)(2,"span",80),t.EFF(3,"Assessment:"),t.k0s()(),t.j41(4,"span",81),t.EFF(5),t.k0s(),t.DNE(6,rt,3,5,"span",82),t.nrm(7,"br"),t.j41(8,"span",81),t.EFF(9),t.k0s(),t.j41(10,"span",83),t.EFF(11),t.k0s(),t.nrm(12,"br"),t.j41(13,"span",83),t.EFF(14),t.k0s(),t.nrm(15,"br"),t.j41(16,"span",83),t.EFF(17,"Thank you for the opportunity to assist with their rehabilitation."),t.k0s()()),2&o){const e=t.XpG();t.R7$(5),t.SpI("Thank you for referring ",e.patientName," to our practice."),t.R7$(),t.Y8G("ngIf",e.subjectiveData&&e.subjectiveData.note_date),t.R7$(3),t.Lme("Following the evaluation, we will see ",e.patientName,", ",e.loadData("freequency_per_week"),""),t.R7$(2),t.Lme("times per week for ",e.loadData("duration_per_week")," weeks with a focus on ",e.treatmentToBeProvided," "),t.R7$(3),t.SpI("I will update you on ",e.patientName," progress as appropriate.")}}function lt(o,u){if(1&o&&(t.j41(0,"span",87),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.SpI("S: ",e.subjectiveData.subjective_note,"")}}function pt(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI("A:",e.assessmentData.assessment_text,"")}}function ct(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.SpI("P:",e.noteData.plan_note,"")}}function dt(o,u){if(1&o&&(t.j41(0,"span",18),t.EFF(1),t.nrm(2,"br"),t.EFF(3),t.nrm(4,"br"),t.EFF(5),t.nrm(6,"br"),t.EFF(7),t.nrm(8,"br"),t.DNE(9,pt,2,1,"span",30),t.nrm(10,"br"),t.DNE(11,ct,2,1,"span",30),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.SpI("O: Observation: ",e.objectiveData.observation," "),t.R7$(2),t.SpI("ROM: ",e.objectiveData.range_of_motion," "),t.R7$(2),t.SpI("Strength: ",e.objectiveData.strength," "),t.R7$(2),t.SpI("Neurological:",e.objectiveData.neurological,""),t.R7$(2),t.Y8G("ngIf",e.assessmentData),t.R7$(2),t.Y8G("ngIf",e.noteData)}}function h(o,u){if(1&o&&(t.j41(0,"div",79)(1,"div",52)(2,"span",80),t.EFF(3,"Assessment:"),t.k0s()(),t.j41(4,"span",84),t.EFF(5),t.k0s(),t.DNE(6,lt,2,1,"span",85)(7,dt,12,6,"span",86),t.k0s()),2&o){const e=t.XpG();t.R7$(5),t.E5c("",e.patientName," has been seen for ",e.visits,". Treatment has included ",e.treatmentToBeProvided,""),t.R7$(),t.Y8G("ngIf",e.subjectiveData),t.R7$(),t.Y8G("ngIf",e.objectiveData)}}function O(o,u){if(1&o&&(t.j41(0,"span",83),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.Lme("",e.patientName," received visits for ",e.treatmentToBeProvided,".")}}function s(o,u){if(1&o&&(t.j41(0,"div",79)(1,"div",52)(2,"span",80),t.EFF(3,"Assessment:"),t.k0s()(),t.j41(4,"span",81),t.EFF(5),t.k0s(),t.DNE(6,O,2,2,"span",82),t.nrm(7,"br"),t.j41(8,"span",83),t.EFF(9),t.k0s()()),2&o){const e=t.XpG();t.R7$(5),t.SpI("This note is to inform you of the discharge of ",e.patientName," from physical therapy. "),t.R7$(),t.Y8G("ngIf",e.subjectiveData&&e.subjectiveData.note_date),t.R7$(3),t.SpI("Thank you for the opportunity to assist ",e.patientName,"with their rehabilitation. It would be our pleasure to assist them in the future if any needs arise.")}}function m(o,u){if(1&o&&(t.j41(0,"span",18),t.EFF(1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(e.assessmentData.assessment_icd[0].long_term_goal)}}function c(o,u){if(1&o&&(t.j41(0,"span",43),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.noteData.plan_start_date,"MM/dd/y"))}}function _(o,u){if(1&o&&(t.j41(0,"span",43),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.noteData.plan_end_date,"MM/dd/y"))}}function x(o,u){if(1&o&&(t.j41(0,"span",53),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.subjectiveData.updatedAt,"MMM d, y hh:mm a"))}}let D=(()=>{class o{constructor(e,l,i,p){var f=this;this.data=e,this.dialog=l,this.authService=i,this.dialogRef=p,this.patientName="",this.noteType="",this.appointmentId="",this.noteData={},this.treatmentToBeProvided="",this.planPtList=[{name:"Therapeutic Activity",value:"therapeutic_activity",selected:!1},{name:"Neuromuscular Rehabilitation",value:"neuromuscular_rehabilitation",selected:!1},{name:"Aquatic Therapy",value:"aquatic_therapy",selected:!1},{name:"Therapeutic Exercise",value:"therapeutic_exercise",selected:!1},{name:"Patient Ed./ HEP/ RTM",value:"patient_ed_hep_rtm",selected:!1},{name:"Manual Therapy",value:"manual_therapy",selected:!1},{name:"Modalities",value:"modalities",selected:!1},{name:"Splinting/Bracing/Orthotics",value:"splinting",selected:!1},{name:"Wound Care/Debridament",value:"wound_care",selected:!1},{name:"Self Care",value:"self_care",selected:!1},{name:"Group Therapy",value:"group_therapy",selected:!1},{name:"Cognition",value:"cognition",selected:!1}],this.planOtList=[{name:"Therapeutic Activity",value:"therapeutic_activity",selected:!1},{name:"Neuromuscular Rehabilitation",value:"neuromuscular_rehabilitation",selected:!1},{name:"Aquatic Therapy",value:"aquatic_therapy",selected:!1},{name:"Therapeutic Exercise",value:"therapeutic_exercise",selected:!1},{name:"Patient Ed./ HEP/ RTM",value:"patient_ed_hep_rtm",selected:!1},{name:"Manual Therapy",value:"manual_therapy",selected:!1},{name:"Modalities",value:"modalities",selected:!1},{name:"Splinting/Bracing/Orthotics",value:"splinting",selected:!1},{name:"Wound Care/Debridament",value:"wound_care",selected:!1},{name:"Self Care",value:"self_care",selected:!1},{name:"Group Therapy",value:"group_therapy",selected:!1},{name:"Cognition",value:"cognition",selected:!1}],this.planSlpList=[{name:"Evaluation of Oral and Pharyngeal Swallowing Function",value:"evaluation_of_oral",selected:!1},{name:"SLP Treatment; Individual",value:"individual",selected:!1},{name:"Treatment of swallowing dysfunction and/or oral function for feeding",value:"treatment_of_swallowing",selected:!1},{name:"Speech-generating augmentative/ alternative device",value:"Speech_generating_augmentative",selected:!1},{name:"Aphasia assessment",value:"aphasia_assessment",selected:!1},{name:"Development of Cognitive Skills",value:"cognitive_skills",selected:!1}],this.appointmentData=[],this.visits="",this.patientName=e.patientName,this.noteType=e.soap_note_type,this.appointmentId=e.appointmentId,this.appointmentData=e.appointmentData,this.visits=e.visits,this.authService.apiRequest("post","soapNote/getOnePageNoteDetails",{appointmentId:this.appointmentId}).subscribe(function(){var $=(0,b.A)(function*(T){f.noteData=T.data.planData,f.subjectiveData=T.data.subjectiveData,f.assessmentData=T.data.assessmentData,f.objectiveData=T.data.objectiveData,null!=f.noteData&&(f.planPtList.forEach((Q,q)=>{f.noteData.pt_treatment_provided[f.planPtList[q].value]&&(f.treatmentToBeProvided+=f.planPtList[q].name+", ")}),f.planOtList.forEach((Q,q)=>{f.noteData.ot_treatment_provided[f.planOtList[q].value]&&(f.treatmentToBeProvided+=f.planOtList[q].name+", ")}),f.planSlpList.forEach((Q,q)=>{f.noteData.slp_treatment_provided[f.planSlpList[q].value]&&(f.treatmentToBeProvided+=f.planSlpList[q].name+", ")}))});return function(T){return $.apply(this,arguments)}}())}loadData(e){return null!=this.noteData?this.noteData[e]:""}efaxModal(){this.dialogRef.close(),this.dialog.open(k,{width:"960px",data:{patientName:this.patientName,subjectiveData:this.subjectiveData,dateOfService:this.subjectiveData.note_date,assessmentData:this.assessmentData,soapNoteType:this.noteType,appointmentId:this.appointmentId,treatmentToBeProvided:this.treatmentToBeProvided,noteData:this.noteData,appointmentData:this.appointmentData,visits:this.visits,objectiveData:this.objectiveData}})}downloadNote(){let e=document.getElementById("pdf-content");null!=e&&V()(e).then(l=>{const i=l.toDataURL("image/png"),p=new tt.uE;p.addImage(i,"PNG",8,6,195,280),p.save("Filename.pdf")})}soapNoteType(e){switch(e){case"initial_examination":return"Initial Examinations Note";case"daily_note":return"Daily Note";case"progress_note":return"Progress Note";case"discharge_note":return"Discharge Note";case"case_note":return"Case Note";default:return e.replace("_","-")}}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(M.Vh),t.rXU(M.bZ),t.rXU(X.u),t.rXU(M.CP))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-one-page-note-modal"]],decls:219,vars:17,consts:[[1,"modal--wrapper","d-flex","flex-column","w-100","mt-3","mb-4"],[1,"modal--header","d-flex","flex-row","w-100"],[1,"col-7","d-flex","justify-content-end"],[1,"d-flex","align-items-center","flex-column"],[1,"fw-700","border-0","font-20","pb-0","mb-0"],[1,"fw-400","clr--1F2F3E","font-20","mb-0"],[1,"col-5","d-flex","justify-content-end"],[1,"modal--body","w-100","mt-2","mb-2"],["id","pdf-content",1,"col-12",2,"font-family","Helvetica Now Display !important"],[2,"width","100%"],[2,"color","#333","font-family","Helvetica Now Display"],[2,"padding","20px 20px 0px 20px"],[2,"width","100%","border-radius","4px","padding","10px","border","1px solid #000000","background","#fff !important"],[2,"color","#333"],[2,"display","flex","flex-direction","column","margin","10px"],[2,"display","flex","flex-direction","row","width","100%","align-items","start","justify-content","space-between","padding-bottom","20px"],[2,"width","37%","display","flex","flex-direction","column"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px"],[2,"font-size","16px","font-weight","500","color","#000000","padding-bottom","5px"],[2,"font-size","16px","font-weight","500","color","#000000"],[2,"width","26%","display","flex","flex-direction","column"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","; text-align","center"],[2,"font-size","16px","font-weight","600","color","#000000","text-align","center"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","text-align","end"],[2,"font-size","16px","font-weight","500","color","#000000","text-align","end","padding-bottom","5px"],[2,"font-size","16px","font-weight","500","color","#000000","text-align","end"],[2,"width","100%","border-radius","0px","padding","10px","margin-top","30px","border","1px solid #000000","background","#fff !important"],[2,"width","33%","padding","10px"],[2,"font-size","16px","font-weight","600","color","#000000"],[2,"width","33%","text-align","center","padding","10px"],[4,"ngIf"],["style","width: 33%; text-align: end; padding: 10px;",4,"ngIf"],[2,"width","100%","border-radius","0px","padding","10px","border","1px solid #000000","border-top","none","background","#fff !important"],[2,"padding","10px"],[2,"display","flex","flex-direction","column","padding","10px"],[2,"display","flex","width","100%","align-items","start","padding-bottom","20px"],["class","d-flex flex-column",4,"ngIf"],[2,"width","100%","border-radius","0px","padding","0px 10px","border","1px solid #000000","border-top","none","background","#fff !important"],[2,"width","20%","border-right","1px solid #000000","padding","10px"],[2,"display","flex","flex-direction","column","margin-left","10px","padding","10px"],["style","font-size:16px;font-weight: 500;color: #000000; padding-bottom: 5px;",4,"ngIf"],[2,"display","flex","flex-direction","row","border-bottom","1px solid #000000","padding-top","5px"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","width","60%"],[2,"font-weight","500 !important"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","width","40%"],[2,"display","flex","flex-direction","row"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","padding-top","5px","width","60%"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","5px","padding-top","5px","width","20%"],["style","font-weight: 500 !important;",4,"ngIf"],[2,"width","100%","border-radius","0px","padding","0px 10px","border-bottom","none","border","1px solid #000000","border-top","none","background","#fff !important"],[2,"width","100%","border-radius","0px","padding","10px","border","1px solid #000000","background","#fff !important","border-top","none"],[2,"width","27%","padding-right","10px","padding-left","10px"],[2,"display","flex","flex-direction","column"],[2,"font-size","16px","font-weight","500","color","#000000","padding-bottom","5px","border-bottom","1px solid #000"],[1,"signature--box","d-flex","align-items-center","justify-content-center"],["src","../../../../../assets/images/ark/signature-img.png","alt","",1,"img-fluid"],[2,"font-size","16px","font-weight","600","color","#000000","padding-top","5px","padding-bottom","5px"],[2,"width","27%","padding-right","10px"],[2,"display","flex","flex-direction","column","margin-top","22px"],["style","font-size:16px;font-weight: 500;color: #000000; padding-bottom: 5px; border-bottom: 1px solid #000;",4,"ngIf"],[2,"font-size","16px","font-weight","600","color","#000000","padding-top","5px"],[2,"display","flex","flex-direction","column","margin-top","0px"],[2,"width","10%","padding-right","10px"],[2,"width","100%","border-radius","0px","padding","10px","border","1px solid #000000","background","#fff !important","border-top","none","border-bottom","none"],[2,"vertical-align","top"],[2,"width","60%","padding","10px"],[2,"width","40%","padding","10px"],[2,"width","100%","padding","10px"],[2,"border-bottom","1px solid #000"],[2,"margin-left","5px","border-bottom","1px solid #000"],[2,"width","100%","border-radius","0px","padding","10px","border","1px solid #000000","border-top","none","border-bottom","none","background","#fff !important"],[2,"width","45%","padding","10px"],[2,"width","15%","padding","10px"],[2,"width","35%","padding","10px"],[1,"modal--footer","w-100","d-flex","align-items-start","align-items-sm-center","flex-column","flex-sm-row","justify-content-between","pb-0"],[1,"d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"m-1",3,"click"],["mat-raised-button","","color","primary",1,"m-1",3,"click","disabled"],[2,"width","33%","text-align","end","padding","10px"],[1,"d-flex","flex-column"],[2,"font-size","16px","font-weight","600","color","#000000","padding-bottom","10px","font-family","Helvetica Now Display !important"],[2,"font-size","16px","font-weight","500","padding-bottom","10px","color","#000000","font-family","Helvetica Now Display !important"],["style","font-size:16px;font-weight: 500;padding-bottom: 0px; color: #000000; font-family: Helvetica Now Display !important;",4,"ngIf"],[2,"font-size","16px","font-weight","500","padding-bottom","0px","color","#000000","font-family","Helvetica Now Display !important"],[2,"font-size","16px","font-weight","500","color","#000000","padding-bottom","20px","font-family","Helvetica Now Display !important"],["style","font-size:16px;font-weight: 500;color: #000000;padding-bottom: 20px;",4,"ngIf"],["style","font-size:16px;font-weight: 500;color: #000000;padding-bottom: 5px;",4,"ngIf"],[2,"font-size","16px","font-weight","500","color","#000000","padding-bottom","20px"]],template:function(l,i){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t.EFF(5,"PHYSICAL THERAPY"),t.k0s(),t.j41(6,"p",5),t.EFF(7,"ONE PAGE NOTE"),t.k0s()()(),t.nrm(8,"div",6),t.k0s(),t.j41(9,"div",7)(10,"div",8)(11,"div")(12,"table",9)(13,"tbody",10)(14,"tr")(15,"td",11)(16,"table",12)(17,"tbody",13)(18,"tr")(19,"td",14)(20,"div",15)(21,"div",16)(22,"span",17),t.EFF(23,"Hamilton Physical Therapy, PC"),t.k0s(),t.j41(24,"span",18),t.EFF(25,"336 Fairgrounds Road, Hamilton, MT 59840"),t.k0s(),t.j41(26,"span",19),t.EFF(27,"Phone: (406) 375-0980 | Fax (406) 375-9938 "),t.k0s()(),t.j41(28,"div",20)(29,"span",21),t.EFF(30,"PHYSICAL THERAPY"),t.k0s(),t.j41(31,"span",22),t.EFF(32),t.k0s()(),t.j41(33,"div",16)(34,"span",23),t.EFF(35,"Hamilton Physical Therapy, PC"),t.k0s(),t.j41(36,"span",24),t.EFF(37,"336 Fairgrounds Road, Hamilton, MT 59840"),t.k0s(),t.j41(38,"span",25),t.EFF(39,"Phone: (406) 375-0980 | Fax (406) 375-9938 "),t.k0s()()()()()()(),t.j41(40,"table",26)(41,"tbody",13)(42,"tr")(43,"td",27)(44,"span",28),t.EFF(45,"Patient Name:"),t.k0s(),t.EFF(46),t.k0s(),t.j41(47,"td",29)(48,"span",28),t.EFF(49,"DOB: "),t.k0s(),t.DNE(50,et,3,4,"span",30),t.k0s(),t.DNE(51,nt,5,4,"td",31),t.k0s()()(),t.j41(52,"table",32)(53,"tbody",13)(54,"tr")(55,"td",33)(56,"span",28),t.EFF(57,"Referring Physician(s): "),t.k0s(),t.DNE(58,it,2,1,"span",30),t.k0s()()()(),t.j41(59,"table",32)(60,"tbody",13)(61,"tr")(62,"td",33)(63,"span",28),t.EFF(64,"Diagnosis: "),t.k0s(),t.DNE(65,at,2,2,"span",30),t.k0s()()()(),t.j41(66,"table",32)(67,"tbody",13)(68,"tr")(69,"td",33)(70,"span",28),t.EFF(71,"Tx Diagnosis: "),t.k0s(),t.DNE(72,ot,2,2,"span",30),t.k0s()()()(),t.j41(73,"table",32)(74,"tbody",13)(75,"tr")(76,"td",34)(77,"div",35),t.DNE(78,st,18,7,"div",36)(79,h,8,5,"div",36)(80,s,10,3,"div",36),t.k0s()()()()(),t.j41(81,"table",37)(82,"tbody",13)(83,"tr")(84,"td",38)(85,"span",28),t.EFF(86,"Long Term Goals:"),t.k0s()(),t.j41(87,"td",39),t.DNE(88,m,2,1,"span",40),t.k0s()()()(),t.j41(89,"table",37)(90,"tbody",13)(91,"tr")(92,"td",38)(93,"span",28),t.EFF(94,"Plan:"),t.k0s()(),t.j41(95,"td",39)(96,"div",41)(97,"span",42),t.EFF(98,"Frequency: "),t.j41(99,"span",43),t.EFF(100),t.k0s()(),t.j41(101,"span",44),t.EFF(102,"Duration: "),t.j41(103,"span",43),t.EFF(104),t.k0s()()(),t.j41(105,"div",45)(106,"span",46),t.EFF(107,"Medicare or Medicaid Certification / Recertification: "),t.k0s(),t.j41(108,"span",47),t.EFF(109,"From: "),t.DNE(110,c,3,4,"span",48),t.k0s(),t.j41(111,"span",47),t.EFF(112,"To: "),t.DNE(113,_,3,4,"span",48),t.k0s()()()()()(),t.j41(114,"table",49)(115,"tbody",13)(116,"tr")(117,"td",38)(118,"span",28),t.EFF(119,"Tx to be Provided: "),t.k0s()(),t.j41(120,"td",39)(121,"span",17),t.EFF(122,"Procedures: "),t.j41(123,"span",43),t.EFF(124,"Therapeutic Exercises, Therapeutic Activity, Neuromuscular Rehabilitation, Manual Therapy, Aquatic Therapy, Patient Education"),t.k0s()(),t.j41(125,"span",17),t.EFF(126,"Modalities: "),t.j41(127,"span",43),t.EFF(128,"Electrical Stimulation, Ultrasound/Phonophoresis, Vasopneumatic, Cryotherapy, Hot Packs"),t.k0s()()()()()(),t.j41(129,"table",50)(130,"tbody",13)(131,"tr")(132,"td",51)(133,"div",52)(134,"span",53)(135,"div",54),t.nrm(136,"img",55),t.k0s()(),t.j41(137,"span",56),t.EFF(138,"Treating Physical Therapist Signature"),t.k0s()()(),t.j41(139,"td",57)(140,"div",58),t.DNE(141,x,3,4,"span",59),t.j41(142,"span",60),t.EFF(143,"Date & Time Electronically Signed"),t.k0s()()(),t.j41(144,"td",57)(145,"div",61)(146,"span",53),t.EFF(147,"Sheri Stroppel, PT, OCS, CHT, CMPT"),t.k0s(),t.j41(148,"span",60),t.EFF(149,"Physical Therapist Printed Name"),t.k0s()()(),t.j41(150,"td",62)(151,"div",58)(152,"span",53),t.EFF(153,"MT1074"),t.k0s(),t.j41(154,"span",60),t.EFF(155,"License #"),t.k0s()()()()()(),t.j41(156,"table",63)(157,"tbody",13)(158,"tr",64)(159,"td",65)(160,"span",18),t.EFF(161,"Certification of Medical Necessity: It will be understood that the treatment plan mentioned above is certified medically necessary by the documenting therapist and referring physician mentioned in this report. Unless the physician indicates otherwise through written correspondence with our office, all further referrals will act as certification of medical necessity on the treatment plan indicated above. "),t.k0s()(),t.j41(162,"td",66)(163,"span",18),t.EFF(164,"Thank you for this referral. If you have questions regarding this plan of care, please contact me at (406)375-0980. Please Sign and return to fax # (406)375-9938."),t.k0s()()()()(),t.j41(165,"table",63)(166,"tbody",13)(167,"tr",64)(168,"td",67)(169,"span",18),t.EFF(170,"I certify the need for these services furnished under this plan of treatment and while under my care."),t.k0s()()(),t.j41(171,"tr",64)(172,"td",33)(173,"span",18),t.nrm(174,"span",68),t.EFF(175," I have no revisions to the plan of care. "),t.nrm(176,"span",69),t.EFF(177," Revise the plan of care as follows: "),t.nrm(178,"span",68),t.k0s()()()()(),t.j41(179,"table",70)(180,"tbody",13)(181,"tr")(182,"td",66)(183,"span",28),t.EFF(184,"Passport Provider (if applicable):"),t.k0s(),t.EFF(185," XXXXXX"),t.k0s(),t.j41(186,"td",71)(187,"span",28),t.EFF(188,"Passport Provider Signature:"),t.k0s(),t.EFF(189," 10/29/198"),t.k0s(),t.j41(190,"td",72)(191,"span",28),t.EFF(192,"Date:"),t.k0s(),t.EFF(193," 01/02/2024"),t.k0s()()()(),t.j41(194,"table",32)(195,"tbody",13)(196,"tr")(197,"td",73)(198,"span",28),t.EFF(199," Physician Signature:"),t.k0s(),t.EFF(200," Mantey, Charles J. MD"),t.k0s(),t.j41(201,"td",72)(202,"span",28),t.EFF(203,"Date:"),t.k0s(),t.EFF(204," 01/02/2024"),t.k0s(),t.j41(205,"td",73)(206,"span",28),t.EFF(207," Physician Signature:"),t.k0s(),t.EFF(208," Mantey, Charles J. MD"),t.k0s(),t.j41(209,"td",72)(210,"span",28),t.EFF(211,"Date:"),t.k0s(),t.EFF(212," 01/02/2024"),t.k0s()()()()()()()()()()(),t.j41(213,"div",74)(214,"div",75)(215,"button",76),t.bIt("click",function(){return i.downloadNote()}),t.EFF(216,"Download/ Print Note"),t.k0s(),t.j41(217,"button",77),t.bIt("click",function(){return i.efaxModal()}),t.EFF(218,"E-Fax"),t.k0s()()()()),2&l&&(t.R7$(32),t.JRh(i.soapNoteType(i.noteType)),t.R7$(14),t.SpI(" ",i.patientName,""),t.R7$(4),t.Y8G("ngIf",i.appointmentData&&i.appointmentData.patientId&&i.appointmentData.patientId.dob),t.R7$(),t.Y8G("ngIf",i.subjectiveData&&i.subjectiveData.updatedAt),t.R7$(7),t.Y8G("ngIf",i.appointmentData&&i.appointmentData.doctorId),t.R7$(7),t.Y8G("ngIf",i.subjectiveData&&i.subjectiveData.diagnosis_code&&i.subjectiveData.diagnosis_code.length>0),t.R7$(7),t.Y8G("ngIf",i.subjectiveData&&i.subjectiveData.diagnosis_code&&i.subjectiveData.diagnosis_code.length>0),t.R7$(6),t.Y8G("ngIf","initial_examination"==i.noteType),t.R7$(),t.Y8G("ngIf","progress_note"==i.noteType||"daily_note"==i.noteType),t.R7$(),t.Y8G("ngIf","discharge_note"==i.noteType),t.R7$(8),t.Y8G("ngIf",i.assessmentData&&i.assessmentData.assessment_icd&&i.assessmentData.assessment_icd.length>0),t.R7$(12),t.SpI("",i.loadData("freequency_per_week")," times a week"),t.R7$(4),t.SpI("",i.loadData("duration_per_week")," Triwest authorized visits"),t.R7$(6),t.Y8G("ngIf",i.noteData),t.R7$(3),t.Y8G("ngIf",i.noteData),t.R7$(28),t.Y8G("ngIf",i.subjectiveData&&i.subjectiveData.updatedAt),t.R7$(76),t.Y8G("disabled",!i.subjectiveData))},dependencies:[I.bT,F.$z,I.vh],styles:[".signature--box[_ngcontent-%COMP%]{overflow:hidden;padding:5px;font-family:Great Vibes,cursive;font-weight:600;font-size:21px}",".table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]{font-size: 16px;color: #000000;background: #fff;}.table[_ngcontent-%COMP%]    > thead[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > th[_ngcontent-%COMP%]{border: 1px solid #CED4DA;}.table[_ngcontent-%COMP%]    > tbody[_ngcontent-%COMP%]    > tr[_ngcontent-%COMP%]    > td[_ngcontent-%COMP%]{border: 1px solid #CED4DA;}"]})}return o})();var y=d(11631),A=d(50446),w=d(54494);function Y(o,u){1&o&&(t.j41(0,"th",18),t.EFF(1," Date of Services "),t.k0s())}function ht(o,u){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.dateOfService,"MM/dd/y")," ")}}function gt(o,u){1&o&&(t.j41(0,"th",18),t.EFF(1," Note Type "),t.k0s())}function vt(o,u){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",e.noteType," ")}}function bt(o,u){1&o&&(t.j41(0,"th",18),t.EFF(1," Sent On "),t.k0s())}function Ft(o,u){if(1&o&&(t.j41(0,"td",19),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.createdAt,"MM/dd/y")," ")}}function Ct(o,u){1&o&&(t.j41(0,"th",18),t.EFF(1," Status "),t.k0s())}function xt(o,u){if(1&o&&(t.j41(0,"td",19)(1,"p"),t.EFF(2),t.k0s()()),2&o){const e=u.$implicit;t.R7$(),t.ZvI("",e.status," mb-0"),t.R7$(),t.SpI("",e.status," ")}}function Et(o,u){1&o&&t.nrm(0,"tr",20)}function Pt(o,u){1&o&&t.nrm(0,"tr",21)}function Dt(o,u){1&o&&(t.j41(0,"p",22),t.EFF(1,"No records found"),t.k0s())}const kt=[];let Mt=(()=>{class o{constructor(e,l){this.authService=e,this.data=l,this.displayedColumns=["dateOfService","noteType","createdAt","status"],this.dataSource=kt,this.appointmentId="",this.appointmentId=l.appointmentId,this.authService.apiRequest("post","soapNote/getFaxHistory",{appointmentId:this.appointmentId}).subscribe(p=>{this.dataSource=p.data,this.dataLength=p.data.length})}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(X.u),t.rXU(M.Vh))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-e-fax-history-modal"]],decls:26,vars:4,consts:[[1,"modal--wrapper","d-flex","flex-column","w-100","efaxhistory--modal--wrapper"],[1,"modal--header","w-100"],[1,"mb-0"],[1,"modal--body","w-100","pt-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","",1,"cust--mat--table",3,"dataSource"],["matColumnDef","dateOfService"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","noteType"],["matColumnDef","createdAt"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","text-align: center;",4,"ngIf"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[2,"text-align","center"]],template:function(l,i){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3," E-Fax History "),t.k0s()(),t.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6),t.qex(8,7),t.DNE(9,Y,2,0,"th",8)(10,ht,3,4,"td",9),t.bVm(),t.qex(11,10),t.DNE(12,gt,2,0,"th",8)(13,vt,2,1,"td",9),t.bVm(),t.qex(14,11),t.DNE(15,bt,2,0,"th",8)(16,Ft,3,4,"td",9),t.bVm(),t.qex(17,12),t.DNE(18,Ct,2,0,"th",8)(19,xt,3,4,"td",9),t.bVm(),t.DNE(20,Et,1,0,"tr",13)(21,Pt,1,0,"tr",14),t.k0s(),t.DNE(22,Dt,2,0,"p",15),t.k0s()()(),t.j41(23,"div",16)(24,"button",17),t.EFF(25,"Close"),t.k0s()()()),2&l&&(t.R7$(7),t.Y8G("dataSource",i.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("ngIf",0==i.dataLength))},dependencies:[I.bT,F.$z,M.tx,n.Zl,n.tL,n.ji,n.cC,n.YV,n.iL,n.KS,n.$R,n.YZ,n.NB,I.vh],styles:[".efaxhistory--modal--wrapper[_ngcontent-%COMP%]     .cust--mat--table--wrapper .cust--mat--table.mat-mdc-table tbody tr td{font-size:14px;padding-top:10px;padding-bottom:10px}.efaxhistory--modal--wrapper[_ngcontent-%COMP%]     .cust--mat--table--wrapper .cust--mat--table.mat-mdc-table tbody tr td .Success{color:green;font-family:600}.efaxhistory--modal--wrapper[_ngcontent-%COMP%]     .cust--mat--table--wrapper .cust--mat--table.mat-mdc-table tbody tr td .Failure{color:red;font-family:600}"]})}return o})();var It=d(18617),ut=d(78887),yt=d(82765),ft=d(25084),mt=d(9454),Nt=d(14823);const Ot=(o,u)=>["/",o,"initial-examination","subjective",u],jt=o=>["/therapist/daily-notes/subjective/",o],Rt=o=>["/therapist/progress-notes/subjective/",o],wt=o=>["/therapist/discharge-notes/subjective/",o],St=()=>[5,10,20],Tt=(o,u,e)=>["/",o,u,"subjective",e],At=(o,u,e)=>["/",o,u,"subjective-view",e],Lt=(o,u,e,l)=>["/",o,u,"subjective",e,l],Gt=(o,u,e,l)=>["/",o,u,"subjective-view",e,l];function $t(o,u){1&o&&(t.j41(0,"span",22),t.EFF(1," This Case is in collections "),t.k0s())}function Ut(o,u){1&o&&(t.j41(0,"p",50),t.EFF(1,"NA"),t.k0s())}function Bt(o,u){1&o&&(t.j41(0,"p",51),t.EFF(1,"No Authorization"),t.k0s())}function Xt(o,u){if(1&o&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.ZvI("mb-1 me-3 clr--1F2F3E font-16 fw-400 min-h ",e.isAuthDateExpire?"auth-text-danger":"",""),t.R7$(),t.JRh(e.isBillingDetailsData?+e.patientCheckInCount+" of "+e.authVisits+" visits, expires "+e.authExpireDate:"NA")}}function Vt(o,u){if(1&o&&(t.j41(0,"p",46),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,e.stCaseDetails.returnToDoctor,"EEE, MM/dd/yyyy")," ")}}function Yt(o,u){1&o&&(t.j41(0,"p",46),t.EFF(1," NA "),t.k0s())}function zt(o,u){if(1&o&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.nI1(3,"date"),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.Lme(" ",t.i5U(2,2,e.initialExamPlanData.plan_start_date,"MM/dd/yyyy")," - ",t.i5U(3,5,e.initialExamPlanData.plan_end_date,"MM/dd/yyyy")," ")}}function Ht(o,u){1&o&&(t.j41(0,"span"),t.EFF(1," NA "),t.k0s())}function Wt(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"div",29),t.nrm(7,"img",30),t.k0s(),t.j41(8,"div",31)(9,"h3",32),t.EFF(10),t.k0s(),t.j41(11,"div",33)(12,"mat-icon",34),t.EFF(13,"mail "),t.k0s(),t.j41(14,"p",35),t.EFF(15),t.k0s()(),t.j41(16,"div",36)(17,"mat-icon",34),t.EFF(18,"call "),t.k0s(),t.j41(19,"p",35),t.EFF(20),t.k0s()()()()()(),t.j41(21,"div",37)(22,"h3",38),t.EFF(23,"Authorization"),t.k0s(),t.DNE(24,Ut,2,0,"p",39)(25,Bt,2,0,"p",40)(26,Xt,2,4,"p",41),t.k0s(),t.j41(27,"div",42)(28,"h3",38),t.EFF(29,"Billing Type"),t.k0s(),t.j41(30,"p",43),t.EFF(31),t.k0s()()()(),t.j41(32,"div",24)(33,"div",44)(34,"div",45)(35,"h3",38),t.EFF(36,"Case Name"),t.k0s(),t.j41(37,"p",46),t.EFF(38),t.k0s()(),t.j41(39,"div",45)(40,"h3",38),t.EFF(41,"Referred By"),t.k0s(),t.j41(42,"p",46),t.EFF(43),t.k0s()(),t.j41(44,"div",45)(45,"h3",38),t.EFF(46,"Return to Doctor"),t.k0s(),t.DNE(47,Vt,3,4,"p",47)(48,Yt,2,0,"p",47),t.k0s(),t.j41(49,"div",45)(50,"h3",38),t.EFF(51,"POC Dates"),t.k0s(),t.j41(52,"p"),t.DNE(53,zt,4,8,"span",48)(54,Ht,2,0,"span",48),t.k0s()(),t.j41(55,"div",45)(56,"h3",38),t.EFF(57,"Primary Insurance"),t.k0s(),t.j41(58,"p",46),t.EFF(59),t.k0s()(),t.j41(60,"div",45)(61,"mat-checkbox",49),t.bIt("change",function(i){t.eBV(e);const p=t.XpG();return t.Njj(p.patientCheckIn(i,p.appointmentData))}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.appointmentData.checkIn,i)||(p.appointmentData.checkIn=i),t.Njj(i)}),t.EFF(62,"Patient Checked-in"),t.k0s()()()()()}if(2&o){const e=t.XpG();t.R7$(7),t.FS9("src",e.profileImage,t.B4B),t.R7$(3),t.Lme(" ",null==e.appointmentData?null:e.appointmentData.patientId.firstName," ",null==e.appointmentData?null:e.appointmentData.patientId.lastName,""),t.R7$(5),t.SpI(" ",null==e.appointmentData?null:e.appointmentData.patientId.email,""),t.R7$(5),t.SpI("+1 ",null==e.appointmentData?null:e.appointmentData.patientId.phoneNumber,""),t.R7$(4),t.Y8G("ngIf",!e.isAuthManagmentHistory),t.R7$(),t.Y8G("ngIf",e.isAuthManagmentHistory&&"No"==(null==e.authManagementHistory?null:e.authManagementHistory.authorizationRequired)),t.R7$(),t.Y8G("ngIf",e.isAuthManagmentHistory&&"Yes"==(null==e.authManagementHistory?null:e.authManagementHistory.authorizationRequired)),t.R7$(5),t.JRh(e.isBillingDetailsData&&null!=e.billingDetailsData&&e.billingDetailsData.PI_billingType?e.billingDetailsData.PI_billingType:"NA"),t.R7$(7),t.JRh(null==e.appointmentData?null:e.appointmentData.caseName),t.R7$(5),t.JRh(e.appointmentData&&null!=e.appointmentData&&e.appointmentData.doctorId?null==e.appointmentData||null==e.appointmentData.doctorId?null:e.appointmentData.doctorId.name:"NA"),t.R7$(4),t.Y8G("ngIf",e.isStCaseDetails&&(null==e.stCaseDetails?null:e.stCaseDetails.returnToDoctor)),t.R7$(),t.Y8G("ngIf",!e.isStCaseDetails||e.isStCaseDetails&&!(null!=e.stCaseDetails&&e.stCaseDetails.returnToDoctor)),t.R7$(4),t.ZvI("mb-0 clr--1F2F3E font-16 fw-400 min-h me-2 ",e.isPOCExpire?"auth-text-danger":"",""),t.R7$(),t.Y8G("ngIf",e.hasInitialExamPlanData),t.R7$(),t.Y8G("ngIf",!e.hasInitialExamPlanData),t.R7$(5),t.JRh(e.isBillingDetailsData&&null!=e.billingDetailsData&&e.billingDetailsData.primaryInsurance?e.billingDetailsData.primaryInsurance:"NA"),t.R7$(2),t.R50("ngModel",e.appointmentData.checkIn)}}function Kt(o,u){1&o&&(t.j41(0,"th",103),t.EFF(1," Note "),t.k0s())}function qt(o,u){if(1&o&&(t.j41(0,"td",104)(1,"div",105)(2,"div")(3,"p",106),t.EFF(4),t.k0s()()()()),2&o){const e=u.$implicit,l=t.XpG(2);t.R7$(4),t.JRh(l.soapNoteType(e.soap_note_type))}}function Jt(o,u){1&o&&(t.j41(0,"th",107),t.EFF(1," Date of Service "),t.k0s())}function Zt(o,u){if(1&o&&(t.j41(0,"p",109)(1,"span",110),t.EFF(2," Addendum:"),t.k0s(),t.EFF(3),t.nI1(4,"date"),t.k0s()),2&o){const e=u.$implicit;t.R7$(3),t.SpI(" ",t.i5U(4,1,e.createdAt,"EEE, MMM d, y hh:mm a")," ")}}function Qt(o,u){if(1&o&&(t.j41(0,"td",104),t.EFF(1),t.nI1(2,"date"),t.DNE(3,Zt,5,4,"p",108),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,2,e.note_date,"EEE, MMM d, y hh:mm a")," "),t.R7$(2),t.Y8G("ngForOf",e.addendums)}}function te(o,u){1&o&&(t.j41(0,"th",111),t.EFF(1," Note Added By "),t.k0s())}function ee(o,u){if(1&o&&(t.j41(0,"p",109),t.EFF(1),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",e.createUser,"")}}function ne(o,u){if(1&o&&(t.j41(0,"td",104),t.EFF(1),t.DNE(2,ee,2,1,"p",108),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.Lme(" ",e.userObj[0].firstName," ",e.userObj[0].lastName," "),t.R7$(),t.Y8G("ngForOf",e.addendums)}}function ie(o,u){1&o&&(t.j41(0,"th",107),t.EFF(1," Status "),t.k0s())}function ae(o,u){if(1&o&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.JRh(e.status)}}function oe(o,u){if(1&o&&(t.j41(0,"td",104),t.EFF(1),t.DNE(2,ae,2,1,"p",112),t.k0s()),2&o){const e=u.$implicit;t.R7$(),t.SpI(" ",e.status," "),t.R7$(),t.Y8G("ngForOf",e.addendums)}}function re(o,u){1&o&&(t.j41(0,"th",107),t.EFF(1," Actions "),t.k0s())}function se(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",126),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG(2);return t.Njj(p.caseNoteModal(i._id,"","Update"))}),t.j41(1,"mat-icon",123),t.EFF(2,"edit "),t.k0s()()}if(2&o){const e=t.XpG().$implicit;t.Y8G("disabled","Finalized"==e.status)}}function le(o,u){if(1&o&&(t.j41(0,"button",127)(1,"mat-icon",123),t.EFF(2,"edit "),t.k0s()()),2&o){const e=t.XpG().$implicit,l=t.XpG(2);t.Y8G("disabled","Finalized"==e.status)("routerLink",t.sMw(2,Tt,l.activeUserRoute,l.loadValue(e.soap_note_type),e.appointmentId))}}function pe(o,u){1&o&&t.nrm(0,"img",128)}function ce(o,u){1&o&&t.nrm(0,"img",129)}function de(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",130),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG(2);return t.Njj(p.caseNoteModal(i._id,"","View"))}),t.j41(1,"mat-icon",123),t.EFF(2,"visibility "),t.k0s()()}}function me(o,u){if(1&o&&(t.j41(0,"button",131)(1,"mat-icon",123),t.EFF(2,"visibility "),t.k0s()()),2&o){const e=t.XpG().$implicit,l=t.XpG(2);t.Y8G("routerLink",t.sMw(1,At,l.activeUserRoute,l.loadValue(e.soap_note_type),e.appointmentId))}}function _e(o,u){if(1&o&&(t.j41(0,"button",127)(1,"mat-icon",123),t.EFF(2,"edit "),t.k0s()()),2&o){const e=t.XpG().$implicit,l=t.XpG().$implicit,i=t.XpG(2);t.Y8G("disabled","Finalized"==e.status)("routerLink",t.ziG(2,Lt,i.activeUserRoute,i.loadValue(l.soap_note_type),l.appointmentId,e.addendumId))}}function ue(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",126),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG().$implicit,f=t.XpG(2);return t.Njj(f.caseNoteModal(p._id,i.addendumId,"Update"))}),t.j41(1,"mat-icon",123),t.EFF(2,"edit "),t.k0s()()}if(2&o){const e=t.XpG().$implicit;t.Y8G("disabled","Finalized"==e.status)}}function fe(o,u){1&o&&t.nrm(0,"img",128)}function he(o,u){1&o&&t.nrm(0,"img",129)}function ge(o,u){if(1&o&&(t.j41(0,"button",131)(1,"mat-icon",123),t.EFF(2,"visibility "),t.k0s()()),2&o){const e=t.XpG().$implicit,l=t.XpG().$implicit,i=t.XpG(2);t.Y8G("routerLink",t.ziG(1,Gt,i.activeUserRoute,i.loadValue(l.soap_note_type),l.appointmentId,e.addendumId))}}function ve(o,u){if(1&o){const e=t.RV6();t.j41(0,"button",130),t.bIt("click",function(){t.eBV(e);const i=t.XpG().$implicit,p=t.XpG().$implicit,f=t.XpG(2);return t.Njj(f.caseNoteModal(p._id,i.addendumId,"View"))}),t.j41(1,"mat-icon",123),t.EFF(2,"visibility "),t.k0s()()}}function be(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",113),t.DNE(1,_e,3,7,"button",115)(2,ue,3,1,"button",114),t.j41(3,"button",132),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG().$implicit,f=t.XpG(2);return t.Njj(f.createAddendum(p.appointmentId,i.soap_note_type))}),t.j41(4,"div",117),t.DNE(5,fe,1,0,"img",118)(6,he,1,0,"img",119),t.k0s()(),t.DNE(7,ge,3,6,"button",121)(8,ve,3,0,"button",120),t.j41(9,"button",122),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG().$implicit,f=t.XpG(2);return t.Njj(f.deleteNote(p.appointmentId,i.soap_note_type,i.addendumId))}),t.j41(10,"mat-icon",123),t.EFF(11,"delete "),t.k0s()(),t.j41(12,"button",124),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG(3);return t.Njj(p.noteModal(i.soap_note_type,i.note_date))}),t.j41(13,"mat-icon",123),t.EFF(14,"description "),t.k0s()()()}if(2&o){const e=u.$implicit,l=t.XpG().$implicit,i=t.XpG(2);t.R7$(),t.Y8G("ngIf","case_note"!=l.soap_note_type),t.R7$(),t.Y8G("ngIf","case_note"==l.soap_note_type),t.R7$(),t.Y8G("disabled","Finalized"!=e.status||e.is_disabled||i.actionStarted),t.R7$(2),t.Y8G("ngIf","Finalized"==e.status&&!e.is_disabled&&!i.actionStarted),t.R7$(),t.Y8G("ngIf","Finalized"!=e.status||e.is_disabled||i.actionStarted),t.R7$(),t.Y8G("ngIf","case_note"!=l.soap_note_type),t.R7$(),t.Y8G("ngIf","case_note"==l.soap_note_type),t.R7$(),t.Y8G("disabled","Finalized"==e.status||i.actionStarted),t.R7$(3),t.Y8G("disabled","Finalized"!=e.status)}}function Fe(o,u){if(1&o){const e=t.RV6();t.j41(0,"td",104)(1,"div",113),t.DNE(2,se,3,1,"button",114)(3,le,3,6,"button",115),t.j41(4,"button",116),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.createAddendum(i.appointmentId,i.soap_note_type))}),t.j41(5,"div",117),t.DNE(6,pe,1,0,"img",118)(7,ce,1,0,"img",119),t.k0s()(),t.DNE(8,de,3,0,"button",120)(9,me,3,5,"button",121),t.j41(10,"button",122),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.deleteNote(i.appointmentId,i.soap_note_type,""))}),t.j41(11,"mat-icon",123),t.EFF(12,"delete "),t.k0s()(),t.j41(13,"button",124),t.bIt("click",function(){const i=t.eBV(e).$implicit,p=t.XpG(2);return t.Njj(p.noteModal(i.soap_note_type,i.note_date))}),t.j41(14,"mat-icon",123),t.EFF(15,"description "),t.k0s()()(),t.DNE(16,be,15,9,"div",125),t.k0s()}if(2&o){const e=u.$implicit,l=t.XpG(2);t.R7$(2),t.Y8G("ngIf","case_note"==e.soap_note_type),t.R7$(),t.Y8G("ngIf","case_note"!=e.soap_note_type),t.R7$(),t.Y8G("disabled","case_note"==e.soap_note_type)("disabled","Finalized"!=e.status||l.loadDataLength(e)>0||l.actionStarted),t.R7$(2),t.Y8G("ngIf","Finalized"==e.status&&0==l.loadDataLength(e)&&!l.actionStarted),t.R7$(),t.Y8G("ngIf","Finalized"!=e.status||l.loadDataLength(e)>0||l.actionStarted),t.R7$(),t.Y8G("ngIf","case_note"==e.soap_note_type),t.R7$(),t.Y8G("ngIf","case_note"!=e.soap_note_type),t.R7$(),t.Y8G("disabled","Finalized"==e.status||l.actionStarted),t.R7$(3),t.Y8G("disabled","Finalized"!=e.status),t.R7$(3),t.Y8G("ngForOf",e.addendums)}}function Ce(o,u){1&o&&t.nrm(0,"tr",133)}function xe(o,u){1&o&&t.nrm(0,"tr",134)}function Ee(o,u){1&o&&(t.j41(0,"div",135)(1,"div",136),t.nrm(2,"img",137),t.j41(3,"p",138),t.EFF(4,"No Records found"),t.k0s()()())}function Pe(o,u){if(1&o){const e=t.RV6();t.j41(0,"div",52)(1,"div",53)(2,"div",23)(3,"h3",54),t.EFF(4),t.k0s()(),t.j41(5,"div",55)(6,"div",56)(7,"button",57)(8,"mat-icon",58),t.EFF(9," add_circle_outline "),t.k0s(),t.EFF(10," Initial Examination "),t.k0s(),t.j41(11,"button",57)(12,"mat-icon",58),t.EFF(13," add_circle_outline "),t.k0s(),t.EFF(14," Daily Note "),t.k0s(),t.j41(15,"button",57)(16,"mat-icon",58),t.EFF(17," add_circle_outline "),t.k0s(),t.EFF(18," Progress Note "),t.k0s(),t.j41(19,"button",59)(20,"mat-icon",58),t.EFF(21," add_circle_outline "),t.k0s(),t.EFF(22," Discharge Note "),t.k0s(),t.j41(23,"button",60),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.caseNoteModal("","","Create"))}),t.j41(24,"mat-icon",61),t.EFF(25," add_circle_outline "),t.k0s(),t.EFF(26," Case Note "),t.k0s()()(),t.j41(27,"div",62)(28,"button",63),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.eFaxHistoryModal())}),t.j41(29,"mat-icon",61),t.EFF(30," print "),t.k0s(),t.EFF(31," E-Fax History "),t.k0s()(),t.j41(32,"div",64)(33,"div",65)(34,"div",66)(35,"div",24)(36,"div",53)(37,"div",67)(38,"div",68)(39,"input",69),t.bIt("keyup",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.searchRecords())}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.searchValue,i)||(p.searchValue=i),t.Njj(i)}),t.k0s(),t.j41(40,"button",70)(41,"mat-icon",61),t.EFF(42,"search "),t.k0s()()()(),t.j41(43,"div",71)(44,"div",72)(45,"select",73),t.bIt("change",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.searchRecords())}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.status,i)||(p.status=i),t.Njj(i)}),t.j41(46,"option",74),t.EFF(47,"Filter by Status"),t.k0s(),t.j41(48,"option",75),t.EFF(49,"Draft"),t.k0s(),t.j41(50,"option",76),t.EFF(51,"Finalized"),t.k0s(),t.j41(52,"option",77),t.EFF(53,"Pending"),t.k0s(),t.j41(54,"option",78),t.EFF(55,"Declined"),t.k0s()()()(),t.j41(56,"div",71)(57,"div",72)(58,"mat-form-field",79)(59,"input",80),t.bIt("focus",function(){t.eBV(e);const i=t.sdS(62);return t.Njj(i.open())}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.fromDate,i)||(p.fromDate=i),t.Njj(i)}),t.bIt("dateChange",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onDateChange())}),t.k0s(),t.nrm(60,"mat-datepicker-toggle",81)(61,"mat-datepicker",null,0),t.k0s()()(),t.j41(63,"div",71)(64,"div",72)(65,"mat-form-field",79)(66,"input",82),t.bIt("focus",function(){t.eBV(e);const i=t.sdS(69);return t.Njj(i.open())}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.toDate,i)||(p.toDate=i),t.Njj(i)}),t.bIt("dateChange",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onDateChange())}),t.k0s(),t.nrm(67,"mat-datepicker-toggle",81)(68,"mat-datepicker",null,1),t.k0s()()(),t.j41(70,"div",67)(71,"div",72)(72,"select",83),t.bIt("change",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.searchRecords())}),t.mxI("ngModelChange",function(i){t.eBV(e);const p=t.XpG();return t.DH7(p.caseType,i)||(p.caseType=i),t.Njj(i)}),t.j41(73,"option",74),t.EFF(74,"Filter by Note Type"),t.k0s(),t.j41(75,"option",84),t.EFF(76,"Initial Examination"),t.k0s(),t.j41(77,"option",85),t.EFF(78,"Daily Note"),t.k0s(),t.j41(79,"option",86),t.EFF(80,"Progress Note"),t.k0s(),t.j41(81,"option",87),t.EFF(82,"Discharge Note"),t.k0s()()()()()(),t.j41(83,"div",88)(84,"table",89),t.bIt("matSortChange",function(i){t.eBV(e);const p=t.XpG();return t.Njj(p.announceSortChange(i))}),t.qex(85,90),t.DNE(86,Kt,2,0,"th",91)(87,qt,5,1,"td",92),t.bVm(),t.qex(88,93),t.DNE(89,Jt,2,0,"th",94)(90,Qt,4,5,"td",92),t.bVm(),t.qex(91,95),t.DNE(92,te,2,0,"th",96)(93,ne,3,3,"td",92),t.bVm(),t.qex(94,97),t.DNE(95,ie,2,0,"th",94)(96,oe,3,2,"td",92),t.bVm(),t.qex(97,98),t.DNE(98,re,2,0,"th",94)(99,Fe,17,11,"td",92),t.bVm(),t.DNE(100,Ce,1,0,"tr",99)(101,xe,1,0,"tr",100),t.k0s(),t.DNE(102,Ee,5,0,"div",101),t.k0s()()(),t.nrm(103,"mat-paginator",102),t.k0s()()()}if(2&o){const e=t.sdS(62),l=t.sdS(69),i=t.XpG();t.R7$(4),t.SpI("Notes ",i.userRole,""),t.R7$(3),t.ZvI("flex-shrink-0 ",i.initialExaminationFlag?"disabled":"",""),t.Y8G("disabled",i.initialExaminationFlag)("routerLink",t.l_i(35,Ot,i.activeUserRoute,i.appointmentId)),t.R7$(4),t.ZvI("flex-shrink-0 ",i.dailyNoteFlag?"disabled":"",""),t.Y8G("disabled",i.dailyNoteFlag)("routerLink",t.eq3(38,jt,i.appointmentId)),t.R7$(4),t.ZvI("flex-shrink-0 ",i.progressNoteFlag?"disabled":"",""),t.Y8G("disabled",i.progressNoteFlag)("routerLink",t.eq3(40,Rt,i.appointmentId)),t.R7$(4),t.Y8G("routerLink",t.eq3(42,wt,i.appointmentId)),t.R7$(4),t.ZvI("flex-shrink-0 ",i.caseNoteFlag?"disabled":"",""),t.Y8G("disabled",i.caseNoteFlag),t.R7$(16),t.R50("ngModel",i.searchValue),t.R7$(6),t.R50("ngModel",i.status),t.R7$(14),t.Y8G("matDatepicker",e),t.R50("ngModel",i.fromDate),t.R7$(),t.Y8G("for",e),t.R7$(6),t.Y8G("matDatepicker",l),t.R50("ngModel",i.toDate),t.R7$(),t.Y8G("for",l),t.R7$(5),t.R50("ngModel",i.caseType),t.R7$(12),t.Y8G("dataSource",i.dataSource),t.R7$(16),t.Y8G("matHeaderRowDef",i.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",i.displayedColumns),t.R7$(),t.Y8G("ngIf",0==i.noteList.length&&!i.dataLoading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(44,St))}}const De=[];let ke=(()=>{class o{constructor(e,l,i,p,f,P,$){this._liveAnnouncer=e,this.dialog=l,this.router=i,this.route=p,this.authService=f,this.commonService=P,this.datePipe=$,this.app_data=[],this.appointmentData=[],this.appointment_flag=!1,this.profileImage="",this.assign_therapist="",this.appointment=null,this.activeUserRoute=this.commonService.getLoggedInRoute(),this.displayedColumns=["soap_note_type"," note_date","createdBy","status","action"],this.dataSource=new n.I6(De),this.caseName="",this.patientId="",this.isBillingDetailsData=!1,this.isAuthManagmentHistory=!1,this.authExpireDate="NA",this.isStCaseDetails=!1,this.authVisits="NA",this.patientCheckInCount=0,this.hasInitialExamPlanData=!1,this.todayDate=new Date,this.isAuthDateExpire=!1,this.isPOCExpire=!1,this.initialExaminationFlag=!1,this.dailyNoteFlag=!0,this.progressNoteFlag=!0,this.dischargeNoteFlag=!0,this.caseNoteFlag=!1,this.hideNoteToUser=!1,this.searchValue="",this.status="",this.caseType="",this.noteList=[],this.dataLoading=!1,this.fromDate="",this.toDate="",this.addendumLength=0,this.actionStarted=!1,this.route.params.subscribe(T=>{this.appointmentId=T.appointmentId})}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),this.getAppointmentDetails(),this.getAppointmentNotes(),this.todayDate=this.datePipe.transform(new Date(this.todayDate),"MM/dd/yyyy"),this.hideNoteToUser=!(!this.userRole||!["system_admin"].includes(this.userRole))}ngAfterViewInit(){this.commonService.moveScrollToTop(),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}getAppointmentNotesOLD(){var e=this;let l={appointmentId:this.appointmentId,caseType:this.caseType,searchValue:this.searchValue,status:this.status,fromDate:this.fromDate,toDate:this.toDate};this.dataLoading=!0,this.authService.apiRequest("post","soapNote/getAppointmentNoteList",l).subscribe(function(){var i=(0,b.A)(function*(p){e.dataLoading=!1,e.dataSource.data=p.data,e.noteList=p.data,e.actionStarted=!1;let f=!1;e.noteList.length>0&&(e.noteList.forEach(P=>{"initial_examination"==P.soap_note_type&&"Finalized"==P.status&&(e.dailyNoteFlag=!1,e.progressNoteFlag=!1,e.initialExaminationFlag=!0),"daily_note"==P.soap_note_type&&"Finalized"==P.status&&(f=!0),"progress_note"==P.soap_note_type&&"Finalized"==P.status&&(f=!0)}),!e.dailyNoteFlag&&!e.progressNoteFlag&&f&&(e.dischargeNoteFlag=!1))});return function(p){return i.apply(this,arguments)}}())}getAppointmentNotes(){var e=this;let l={app_query:{_id:this.appointmentId},appointmentId:this.appointmentId,caseType:this.caseType,searchValue:this.searchValue,status:this.status,fromDate:this.fromDate,toDate:this.toDate};this.dataLoading=!0,this.authService.apiRequest("post","appointment/getAppointmentsAllCaseLists",l).subscribe(function(){var i=(0,b.A)(function*(p){e.dataLoading=!1,e.dataSource.data=p.data,e.noteList=p.data,e.actionStarted=!1;let f=!1;e.noteList.length>0&&(e.noteList.forEach(P=>{"initial_examination"==P.soap_note_type&&"Finalized"==P.status&&(e.dailyNoteFlag=!1,e.progressNoteFlag=!1,e.initialExaminationFlag=!0),"daily_note"==P.soap_note_type&&"Finalized"==P.status&&(f=!0),"progress_note"==P.soap_note_type&&"Finalized"==P.status&&(f=!0)}),!e.dailyNoteFlag&&!e.progressNoteFlag&&f&&(e.dischargeNoteFlag=!1))});return function(p){return i.apply(this,arguments)}}())}getAppointmentDetails(){var e=this;return(0,b.A)(function*(){if(e.appointmentId){e.commonService.showLoader();let l={query:{_id:e.appointmentId},fields:{},patientFields:{_id:1,firstName:1,lastName:1,dob:1,profileImage:1,email:1,phoneNumber:1},therapistFields:{_id:1,firstName:1,lastName:1,profileImage:1}};yield e.authService.apiRequest("post","appointment/getAppointmentDetails",l).subscribe(function(){var i=(0,b.A)(function*(p){e.commonService.hideLoader(),p.data&&p.data.appointmentData&&(e.appointmentData=p.data.appointmentData,e.statusFlag=e.appointmentData.status.charAt(0).toLowerCase()+e.appointmentData.status.slice(1),e.profileImage=A.ns.awsS3Url+A.ns.userProfileFolderPath+e.appointmentData.patientId.profileImage,e.appointment_flag=!0,e.app_data[e.appointmentId]=e.appointmentData,e.patientId=p.data.appointmentData?.patientId._id,e.caseName=p.data.appointmentData?.caseName,e.getBillingDetails(e.patientId,e.caseName),e.getAuthManagementHistory(e.patientId,e.caseName),e.getStCaseDetails(e.patientId,e.caseName),e.getPatientCheckInCount(e.patientId,e.caseName),e.getInitialExamination())});return function(p){return i.apply(this,arguments)}}())}})()}systemFollowup(){this.dialog.open(a,{panelClass:"custom-alert-container"})}rescheduleModal(){this.dialog.open(z.e,{panelClass:["custom-alert-container","rechedule--wrapper"]})}writeComment(){this.dialog.open(B.b,{panelClass:"custom-alert-container"})}caseNoteModal(e,l,i){this.dialog.open(y.b,{panelClass:["custom-alert-container","modal--wrapper"],data:{appointmentId:this.appointmentId,id:e,addendumId:l,action:i}}).afterClosed().subscribe(f=>{"SUCCESS"==f&&this.getAppointmentNotes()})}noteModal(e,l){this.dialog.open(D,{width:"960px",data:{patientName:this.appointmentData.patientId.firstName+" "+this.appointmentData.patientId.lastName,appointmentDate:l,soap_note_type:e,appointmentId:this.appointmentId,appointmentData:this.appointmentData,visits:this.patientCheckInCount+" of "+this.authVisits+" visits"}})}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}patientCheckIn(e,l){var i=this;return(0,b.A)(function*(){if(null!=e.source._checked){let p={query:{_id:l._id},updateInfo:{checkIn:e.source._checked,checkInBy:i.userId,appointmentStatus:"checkIn"}};yield i.authService.apiRequest("post","appointment/updatePatientCheckIn",p).subscribe(function(){var f=(0,b.A)(function*(P){});return function(P){return f.apply(this,arguments)}}())}})()}navigateToappointmentDetails(e,l){let i=this.appointmentData?.patientId?._id;i&&["system-admin","practice-admin"].includes(this.commonService.getLoggedInRoute())?this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-details/"+i]):this.router.navigate([this.commonService.getLoggedInRoute()+""+e+l])}searchRecords(){this.getAppointmentNotes()}onDateChange(){this.getAppointmentNotes()}deleteNote(e,l,i){var p=this;let f="";i&&(f="Addendum");const P=this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Are you sure you want to delete this "+f+" "+this.soapNoteType(l)+"?"}});let $="soapNote/deleteSoapNote";"case_note"==l&&($="soapNote/deleteCaseSoapNote"),P.afterClosed().subscribe(T=>{if(T&&!T.error){this.actionStarted=!0;let Q={appointmentId:e,noteType:l,addendumId:i};this.commonService.showLoader(),this.authService.apiRequest("post",$,Q).subscribe(function(){var q=(0,b.A)(function*(Me){p.commonService.hideLoader(),p.commonService.openSnackBar(f+" Notes Deleted Successfully","SUCCESS"),p.actionStarted=!1,p.getAppointmentNotes()});return function(Me){return q.apply(this,arguments)}}())}})}createAddendum(e,l){var i=this;this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:'Are you sure you want create addendum notes for "'+this.soapNoteType(l)+'"?'}}).afterClosed().subscribe(f=>{f&&!f.error&&(this.actionStarted=!0,this.commonService.showLoader(),this.authService.apiRequest("post","soapNote/createAddendum",{appointmentId:e,noteType:l,createBy:this.userId}).subscribe(function(){var $=(0,b.A)(function*(T){i.commonService.hideLoader(),i.commonService.openSnackBar("Addendum created successfully","SUCCESS"),i.getAppointmentNotes()});return function(T){return $.apply(this,arguments)}}()))})}getBillingDetails(e,l){var i=this;this.isBillingDetailsData=!1,this.authService.apiRequest("post","appointment/getBillingDetails",{patientId:e,caseName:l}).subscribe(function(){var f=(0,b.A)(function*(P){let{data:T}=P;T&&null!=T&&(i.isBillingDetailsData=!0,i.billingDetailsData=T)});return function(P){return f.apply(this,arguments)}}(),f=>{f.error?.error&&this.commonService.openSnackBar(f.error?.message,"ERROR")})}getAuthManagementHistory(e,l){var i=this;this.isAuthManagmentHistory=!1,this.authExpireDate="NA",this.authVisits="NA",this.authService.apiRequest("post","appointment/getAuthorizationManagementDetails",{patientId:e,caseName:l}).subscribe(function(){var f=(0,b.A)(function*(P){if(P?.data&&P?.data.authManagement.length){i.isAuthManagmentHistory=!0;let $=P?.data.authManagement.sort((T,Q)=>new Date(Q.createdAt).getTime()-new Date(T.createdAt).getTime());i.authManagementHistory=$[0],i.authManagementHistory?.authorizationToDate&&(i.authExpireDate=i.datePipe.transform(new Date(i.authManagementHistory?.authorizationToDate),"MM/dd/yyyy")),i.authVisits=i.authManagementHistory?.authorizationVisit,i.isAuthDateExpire="NA"!=i.authExpireDate&&i.todayDate>i.authExpireDate}});return function(P){return f.apply(this,arguments)}}(),f=>{f.error?.error&&this.commonService.openSnackBar(f.error?.message,"ERROR")})}getStCaseDetails(e,l){var i=this;this.isStCaseDetails=!1,this.authService.apiRequest("post","appointment/getStCaseDetails",{patientId:e,caseName:l}).subscribe(function(){var f=(0,b.A)(function*(P){P?.data&&(i.isStCaseDetails=!0,i.stCaseDetails=P?.data)});return function(P){return f.apply(this,arguments)}}(),f=>{f.error?.error&&this.commonService.openSnackBar(f.error?.message,"ERROR")})}getPatientCheckInCount(e,l){var i=this;this.authService.apiRequest("post","appointment/getPatientCheckInCount",{patientId:e,caseName:l}).subscribe(function(){var f=(0,b.A)(function*(P){i.patientCheckInCount=P?.data});return function(P){return f.apply(this,arguments)}}(),f=>{f.error?.error&&this.commonService.openSnackBar(f.error?.message,"ERROR")})}getInitialExamination(){var e=this;this.hasInitialExamPlanData=!1,this.authService.apiRequest("post","soapNote/getInitialExamination",{query:{appointmentId:this.appointmentId},fields:{plan_start_date:1,plan_end_date:1}}).subscribe(function(){var i=(0,b.A)(function*(p){if(e.hasInitialExamPlanData=null!=p.data,e.initialExamPlanData=p.data,e.hasInitialExamPlanData&&p.data?.plan_end_date){let f=e.datePipe.transform(new Date(p.data?.plan_end_date),"MM/dd/yyyy");e.isPOCExpire=!!(f&&e.todayDate>f)}});return function(p){return i.apply(this,arguments)}}(),i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")})}loadValue(e){return"daily_note"==e?"daily-notes":"progress_note"==e?"progress-notes":"discharge_note"==e?"discharge-notes":e.replace("_","-")}soapNoteType(e){switch(e){case"initial_examination":return"Initial Examinations";case"daily_note":return"Daily Notes";case"progress_note":return"Progress Notes";case"discharge_note":return"Discharge Notes";case"case_note":return"Case Notes";default:return e.replace("_","-")}}eFaxHistoryModal(){this.dialog.open(Mt,{width:"960px",data:{appointmentId:this.appointmentId}})}loadDataLength(e){return e&&e.addendums&&e.addendums.length?e.addendums.length:0}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(It.Ai),t.rXU(M.bZ),t.rXU(ut.Ix),t.rXU(ut.nX),t.rXU(X.u),t.rXU(W.h),t.rXU(I.vh))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-appointment-details"]],viewQuery:function(l,i){if(1&l&&(t.GBs(L.B4,5),t.GBs(r.iy,5)),2&l){let p;t.mGM(p=t.lsd())&&(i.sort=p.first),t.mGM(p=t.lsd())&&(i.paginator=p.first)}},features:[t.Jv_([I.vh])],decls:25,vars:4,consts:[["picker",""],["picker1",""],[1,"col-12","app--details--wrapper","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"w-100","mb-0"],[1,"appointment-information-header-wrapper"],["expanded","true",1,"exp-class"],[1,"text-primary","clr--31B7B7","font-18","fw-600",3,"click"],["class","font-14 fw-400 ml-3 badge",4,"ngIf"],[1,"align-items-center",3,"click"],["mat-raised-button","","color","primary",1,"intake-btn",3,"click","disabled"],["class","col-12",4,"ngIf"],[1,"card-body","mt-0","mb-0","pb-0"],[1,"divider"],["class","card-body mt-0",4,"ngIf"],[1,"font-14","fw-400","ml-3","badge"],[1,"col-12"],[1,"col-12","mt-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-baseline"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-4"],[1,"w-100","mb-2"],[1,"d-flex","flex-row","align-items-center","profile--img--box"],[1,"img--box","flex-shrink-0"],["alt","profileImage",1,"img-fluid",3,"src"],[1,"d-flex","flex-column"],[1,"mb-1","clr--1F2F3E","font-18","fw-700"],[1,"mb-1","mt-1","d-flex","align-items-center","me-3"],[1,"material-symbols-outlined","flex-shrink-0","text-primary","me-2"],[1,"mb-0","clr--1F2F3E","font-16","fw-400","wb-ba"],[1,"mb-1","d-flex","align-items-center","me-3"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-3"],[1,"mb-1","clr--1F2F3E","font-16","fw-700"],["class","mb-1 me-3 font-16 fw-600",4,"ngIf"],["class","mb-1 me-3 clr--1F2F3E font-16 fw-400 min-h",4,"ngIf"],[3,"class",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-6","col-xl-5"],[1,"mb-1","clr--1F2F3E","font-16","fw-400","min-h"],[1,"d-flex","flex-row","flex-wrap","align-items-center"],[1,"col-12","col-sm-4","col-lg-4","col-xl-2","mb-2"],[1,"mb-0","clr--1F2F3E","font-16","fw-400","min-h"],["class","mb-0 clr--1F2F3E font-16 fw-400 min-h",4,"ngIf"],[4,"ngIf"],["disabled","true",1,"",3,"change","ngModelChange","ngModel"],[1,"mb-1","me-3","font-16","fw-600"],[1,"mb-1","me-3","clr--1F2F3E","font-16","fw-400","min-h"],[1,"card-body","mt-0"],[1,"row"],[1,"mb-3","clr--1F2F3E","fw-600","font-22"],[1,"col-12","col-sm-10","col-lg-10","mb-2"],[1,"d-flex","flex-row","flex-wrap","gap-10"],["mat-stroked-button","","color","primary",3,"disabled","routerLink"],[1,"material-symbols-outlined","flex-shrink-0","me-1"],["mat-stroked-button","","color","primary",1,"flex-shrink-0",3,"routerLink"],["mat-stroked-button","","color","primary",3,"click","disabled"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","col-sm-2","col-lg-2","d-flex","justify-content-end","mb-2"],["mat-stroked-button","","color","primary",1,"flex-shrink-0",3,"click"],[1,"col-12","mb-2"],[1,"d-flex","notes--table","w-100","mt-2","mb-2"],[1,"row","w-100"],[1,"col-12","col-sm-6","col-lg-4","col-xl-3"],[1,"form-group","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"col-12","col-sm-6","col-lg-4","col-xl-2"],[1,"form-group"],["aria-label","select status",1,"form-select","form-control",3,"change","ngModelChange","ngModel"],["value",""],["value","Draft"],["value","Finalized"],["value","Pending"],["value","Declined"],["appearance","outline",1,"w-100","am--datepicker"],["matInput","","placeholder","From Date",3,"focus","ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],["matInput","","placeholder","To Date",3,"focus","ngModelChange","dateChange","matDatepicker","ngModel"],["aria-placeholder","select Case","aria-label","select Case",1,"form-select","form-control",3,"change","ngModelChange","ngModel"],["value","initial_examination"],["value","daily_note"],["value","progress_note"],["value","discharge_note"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","soap_note_type"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef"," note_date"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","createdBy"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"mb-0","font-14","text-primary","clr--1F2F3E","fw-500"],["mat-header-cell",""],["class","mt-1 ",4,"ngFor","ngForOf"],[1,"mt-1"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[4,"ngFor","ngForOf"],[1,"w-100","d-flex","align-items-center"],["mat-button","","class","flex-shrink-0 min-width-unset","matTooltip","Edit Note",3,"disabled","click",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset","matTooltip","Edit Note",3,"disabled","routerLink",4,"ngIf"],["mat-button","","matTooltip","Create Addendum","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",2,"cursor","pointer",3,"click","disabled"],[1,"icon-img","flex-shrink-0"],["src","assets/images/ark/a-icon.png","alt","","class","img-fluid",4,"ngIf"],["src","assets/images/ark/a-disabled-icon.png","alt","","class","img-fluid",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset","matTooltip","View Note","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset","matTooltip","View Note","matTooltipPosition","above",3,"routerLink",4,"ngIf"],["mat-button","","matTooltip","Delete Note","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",3,"click","disabled"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-button","","matTooltip","One Page Note","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",3,"click","disabled"],["class","w-100 d-flex align-items-center",4,"ngFor","ngForOf"],["mat-button","","matTooltip","Edit Note",1,"flex-shrink-0","min-width-unset",3,"click","disabled"],["mat-button","","matTooltip","Edit Note",1,"flex-shrink-0","min-width-unset",3,"disabled","routerLink"],["src","assets/images/ark/a-icon.png","alt","",1,"img-fluid"],["src","assets/images/ark/a-disabled-icon.png","alt","",1,"img-fluid"],["mat-button","","matTooltip","View Note","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",3,"click"],["mat-button","","matTooltip","View Note","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",3,"routerLink"],["mat-button","","matTooltip","Create Addendum","matTooltipPosition","above",1,"flex-shrink-0","min-width-unset",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(l,i){1&l&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"button",6),t.bIt("click",function(){return i.navigateToappointmentDetails("/cases","")}),t.j41(5,"mat-icon",7),t.EFF(6," keyboard_backspace "),t.k0s()(),t.j41(7,"h3",8),t.EFF(8,"Case Details"),t.k0s()()(),t.j41(9,"div",9)(10,"div",10)(11,"div",11)(12,"mat-accordion",12)(13,"mat-expansion-panel",13)(14,"mat-expansion-panel-header")(15,"mat-panel-title",14),t.bIt("click",function(f){return f.stopPropagation()}),t.EFF(16," Case Information "),t.DNE(17,$t,2,0,"span",15),t.k0s(),t.j41(18,"mat-panel-description",16),t.bIt("click",function(f){return f.stopPropagation()}),t.j41(19,"button",17),t.bIt("click",function(){return i.navigateToappointmentDetails("/intake-form/step-1/",i.appointmentId)}),t.EFF(20," View Intake Form "),t.k0s()()(),t.DNE(21,Wt,63,20,"div",18),t.k0s()()()()(),t.j41(22,"div",19),t.nrm(23,"div",20),t.k0s(),t.DNE(24,Pe,104,45,"div",21),t.k0s()()),2&l&&(t.R7$(17),t.Y8G("ngIf",i.isBillingDetailsData&&"Yes"==(null==i.billingDetailsData?null:i.billingDetailsData.inCollection)),t.R7$(2),t.Y8G("disabled",!(null!=i.appointmentData&&i.appointmentData.intakeFormSubmit)),t.R7$(2),t.Y8G("ngIf",i.appointment_flag),t.R7$(3),t.Y8G("ngIf",!i.hideNoteToUser))},dependencies:[I.Sq,I.bT,j.xH,j.y7,j.me,j.wz,j.BC,j.vS,F.$z,yt.So,ft.Vh,ft.bZ,ft.bU,mt.BS,mt.GK,mt.Z2,mt.WN,mt.Q6,C.rl,C.yw,U.An,g.fg,r.iy,L.B4,L.aE,n.Zl,n.tL,n.ji,n.cC,n.YV,n.iL,n.KS,n.$R,n.YZ,n.NB,Nt.oV,ut.Wk,I.vh],styles:[".app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:5px 40px 18px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-right:15px;margin-top:20px;padding-bottom:10px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--left[_ngcontent-%COMP%]{padding-bottom:15px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--left[_ngcontent-%COMP%]   .head--sec[_ngcontent-%COMP%]{height:67px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 18px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 5px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;margin-right:5px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .mp--btn[_ngcontent-%COMP%]{min-width:184px;margin-top:10px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]{margin-left:0;padding-left:0;border-left:none}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{border-radius:12px!important;background:#fff!important;box-shadow:-3px 9px 32px #9fa2bf26!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:hover{background-color:#fff!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:4px 8px;text-align:center;color:#df0404;border-radius:0;font-family:Nunito Sans,sans-serif!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 24px 5px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]     .mat-expansion-indicator:after{color:#31b7b7!important;padding:5px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding:10px 24px 5px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-grow:2;font-family:Nunito Sans}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{flex-grow:3}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]   .intake-btn[_ngcontent-%COMP%]{margin-left:auto;margin-right:50px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .profile--img--box[_ngcontent-%COMP%]   .img--box[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:100%;overflow:hidden;margin-right:5px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding-bottom:0}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .protocol--links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 10px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .protocol--links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .close--btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:22px;height:22px;font-size:22px;color:#df0404!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-top:1px solid rgba(49,184,184,.3);margin:18px 0}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]{border:1px solid #31B7B7;border-radius:10px;padding:12px;background-color:#f3fbfb}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .search--fields[_ngcontent-%COMP%]{position:absolute;top:0;right:4px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .search--fields[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:19px;width:19px;height:19px;color:#1f2f3e}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{border:1px solid #CCC!important;background-color:#f5f6f9!important;max-height:38px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:38px!important;padding-top:7px!important;padding-bottom:7px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading, .app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mdc-notched-outline__trailing{border:none!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mdc-text-field__input{font-size:14px;color:#212529;box-shadow:none;transition:all .3s ease}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]     .mat-mdc-icon-button.mat-mdc-button-base{color:#fff!important;background:#31b7b7!important;border-radius:inherit!important;height:38px;display:flex;align-items:center;justify-content:center}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.mat-mdc-table[_ngcontent-%COMP%]{background-color:transparent}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.mat-mdc-table[_ngcontent-%COMP%]     thead tr th{font-size:16px;font-weight:700;color:#1f2f3e;font-family:Nunito Sans,sans-serif!important;padding:10px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.mat-mdc-table[_ngcontent-%COMP%]     thead tr th:last-child{width:21%}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.mat-mdc-table[_ngcontent-%COMP%]     tbody tr td{padding:10px!important;font-size:14px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.mat-mdc-table[_ngcontent-%COMP%]     tbody tr td .action--dd{font-size:12px;height:24px;border-radius:4px;border-color:#33b8b866;padding:0 5px;width:240px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]:disabled   .mat-icon[_ngcontent-%COMP%]{color:#ccc!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .notes--table[_ngcontent-%COMP%]   .cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table[_ngcontent-%COMP%]   .icon-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .home--exce[_ngcontent-%COMP%]{margin-top:30px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .home--exce[_ngcontent-%COMP%]   .add--btn[_ngcontent-%COMP%]{min-width:50px;padding:0;margin-left:15px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .home--exce[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]{overflow:auto}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .home--exce[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]   .v--box[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;overflow:hidden;margin-right:15px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]{background:transparent}@media only screen and (max-width: 599px){.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]{margin-left:0!important;padding-left:0!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .profile--img--box[_ngcontent-%COMP%]{gap:10px}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]   .intake-btn[_ngcontent-%COMP%]{margin-right:0!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .appointment-information-header-wrapper[_ngcontent-%COMP%]   .exp-class[_ngcontent-%COMP%]   .mat-mdc-checkbox[_ngcontent-%COMP%]{margin-left:-10px!important}.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .protocol--links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 5px 0 0!important}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table[_ngcontent-%COMP%]{width:906px}.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin:10px 0!important}.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:10px 15px 0!important}.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{margin-top:0!important}.profile--right--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]{margin-top:0}.min-h[_ngcontent-%COMP%]{min-height:0px!important}.form-group[_ngcontent-%COMP%]{margin-bottom:15px!important}}@media only screen and (min-width: 600px) and (max-width: 979px){.cust--mat--table--wrapper[_ngcontent-%COMP%]{overflow:auto}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table[_ngcontent-%COMP%]{width:906px}.min-h[_ngcontent-%COMP%]{min-height:0px!important}.form-group[_ngcontent-%COMP%]{margin-bottom:15px!important}}@media only screen and (min-width: 980px) and (max-width: 1279px){.form-group[_ngcontent-%COMP%]{margin-bottom:15px!important}}@media screen and (orientation: landscape) and (max-width: 850px){.app--details--wrapper.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .protocol--links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px 5px 0 0!important}}.gap-10[_ngcontent-%COMP%]{gap:10px}.min-h[_ngcontent-%COMP%]{min-height:50px}.wb-ba[_ngcontent-%COMP%]{word-break:break-all}.form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #CCC;background-color:#f5f6f9!important;padding:8px 10px}.auth-text-danger[_ngcontent-%COMP%]{color:#df0404!important}"]})}return o})()},11631:(_t,J,d)=>{d.d(J,{b:()=>W});var b=d(74523),t=d(15802),M=d(89417),F=d(27278),U=d(34006),a=d(54438),z=d(78887),B=d(83390),n=d(26992),L=d(60177),r=d(88834);function j(I,G){if(1&I&&(a.j41(0,"option",19),a.EFF(1),a.nI1(2,"date"),a.k0s()),2&I){const v=G.$implicit;a.FS9("value",v.appointmentDate),a.Y8G("disabled","Finalized"==v.status),a.R7$(),a.JRh(a.i5U(2,3,v.appointmentDate,"MM-dd-yyyy hh:mm a"))}}function H(I,G){if(1&I&&(a.j41(0,"div",20),a.EFF(1),a.k0s()),2&I){const v=a.XpG(2);a.R7$(),a.SpI(" ",v.validationMessages.requiredDropdown("Creation date"),"")}}function Z(I,G){if(1&I&&(a.j41(0,"div",20),a.EFF(1),a.k0s()),2&I){const v=a.XpG(2);a.R7$(),a.SpI(" ",v.validationMessages.required("Comment"),"")}}function X(I,G){if(1&I){const v=a.RV6();a.j41(0,"form",1)(1,"div",2)(2,"div",3)(3,"h1",4),a.EFF(4),a.k0s()(),a.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"label",8),a.EFF(9,"Creation Date "),a.j41(10,"span",9),a.EFF(11," * "),a.k0s()(),a.j41(12,"select",10),a.bIt("change",function(C){a.eBV(v);const g=a.XpG();return a.Njj(g.onAppointmentDateChange(C))}),a.j41(13,"option",11),a.EFF(14,"Select date"),a.k0s(),a.DNE(15,j,3,6,"option",12),a.k0s(),a.DNE(16,H,2,1,"div",13),a.k0s()(),a.j41(17,"div",6)(18,"div",7),a.nrm(19,"textarea",14),a.DNE(20,Z,2,1,"div",13),a.k0s()()(),a.j41(21,"div",15)(22,"button",16),a.EFF(23,"Cancel"),a.k0s(),a.j41(24,"button",17),a.bIt("click",function(){a.eBV(v);const C=a.XpG();return a.Njj(C.caseNoteSubmit(C.caseNoteForm.value,"Draft"))}),a.EFF(25,"Save"),a.k0s(),a.j41(26,"button",18),a.bIt("click",function(){a.eBV(v);const C=a.XpG();return a.Njj(C.caseNoteSubmit(C.caseNoteForm.value,"Finalized"))}),a.EFF(27,"Finalize"),a.k0s()()()()}if(2&I){const v=a.XpG();a.Y8G("formGroup",v.caseNoteForm),a.R7$(4),a.SpI("",v.action," Case Note"),a.R7$(11),a.Y8G("ngForOf",v.appointment_dates),a.R7$(),a.Y8G("ngIf",v.caseNoteForm.controls.note_date.touched&&v.caseNoteForm.controls.note_date.hasError("required")),a.R7$(4),a.Y8G("ngIf",v.caseNoteForm.controls.case_comment.hasError("required")&&v.caseNoteForm.controls.case_comment.touched),a.R7$(4),a.ZvI("me-3 ",v.submitted||v.readOnly?"disabled":"",""),a.Y8G("disabled",v.submitted||v.readOnly),a.R7$(2),a.Y8G("disabled",v.submitted||v.readOnly)}}let W=(()=>{class I{constructor(v,N,C,g,S,E,R,k){this.router=v,this.fb=N,this.route=C,this.dialog=g,this.commonService=S,this.authService=E,this.dialogRef=R,this.data=k,this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),this.validationMessages=t.q,this.appointment_dates=[],this.appointment=null,this.submitted=!1,this.caseNoteId="",this.action="",this.appointment_data=null,this.readOnly=!1,this.id="",this.addendumId="",this.appointmentId=k.appointmentId,this.id=k.id,this.addendumId=k.addendumId,this.action=k.action}ngOnInit(){this.caseNoteForm=this.fb.group({appointmentId:[this.appointmentId],soap_note_type:["case_note"],note_date:["",[M.k0.minLength(1),M.k0.maxLength(500)]],case_comment:["",[M.k0.required,M.k0.minLength(1),M.k0.maxLength(1e3)]]}),this.getCaseNoteRecord(),"View"==this.action&&(this.readOnly=!0,this.caseNoteForm.disable())}getCaseNoteRecord(){var v=this;let N={};N=this.id?{query:{appointmentId:this.appointmentId,soap_note_type:"case_note",_id:this.id,is_deleted:!1},addendumId:this.addendumId}:{query:{appointmentId:this.appointmentId,soap_note_type:"case_note",is_deleted:!1},addendumId:this.addendumId},this.authService.apiRequest("post","soapNote/getCaseNoteData",N).subscribe(function(){var C=(0,b.A)(function*(g){if(g.data&&g.data.caseNoteData&&(v.caseNoteDataList=g.data.caseNoteData,v.id&&v.fillupData(g.data.caseNoteData)),g.data&&g.data.appointmentDatesList)if(v.id){let S=g.data.appointmentDatesList.filter(E=>E.appointmentDate===g.data.caseNoteData.note_date);v.appointment_dates=v.commonService.checkappointmentDatesList(S,"case_note")}else v.appointment_dates=v.commonService.checkappointmentDatesList(g.data.appointmentDatesList,"case_note");g.data&&g.data.appointmentData&&(v.appointment_data=g.data.appointmentData)});return function(g){return C.apply(this,arguments)}}())}caseNoteSubmit(v,N){var C=this;return(0,b.A)(function*(){if(C.caseNoteForm.invalid)console.log(N,">>>>formData>>>>",v),C.caseNoteForm.markAllAsTouched();else if(C.appointmentId){C.submitted=!0,C.commonService.showLoader();let g=[];g.push({fromAdminId:C.userId,userRole:C.userRole,updatedAt:new Date}),Object.assign(v,C.caseNoteId?{updateInfo:g,status:N,appointmentId:C.appointmentId}:{updateInfo:g,appointmentId:C.appointmentId,status:N,createdBy:C.userId}),C.authService.apiRequest("post","soapNote/submitCaseNote",{userId:C.userId,data:v,caseNoteId:C.caseNoteId,addendumId:C.addendumId,appointmentId:C.appointmentId}).subscribe(function(){var E=(0,b.A)(function*(R){R.error?R.message&&C.commonService.openSnackBar(R.message,"ERROR"):R.message&&(C.commonService.openSnackBar(R.message,"SUCCESS"),C.dialogRef.close("SUCCESS")),C.commonService.hideLoader(),setTimeout(()=>{C.submitted=!1},3e3)});return function(R){return E.apply(this,arguments)}}())}})()}onAppointmentDateChange(v){if(v.target.value){let N=this.caseNoteDataList.filter(C=>C.note_date===v.target.value);N&&this.fillupData(N)}}fillupData(v){v&&(this.caseNoteId=v._id,this.caseNoteForm.controls.note_date.setValue(v.note_date),this.caseNoteForm.controls.case_comment.setValue(v.case_comment),"Finalized"==v.status&&(this.readOnly=!0,this.caseNoteForm.disable()))}successModal(){this.dialog.open(F.c,{panelClass:"custom-alert-container",data:{successNote:"Case note has been created successfully!"}})}static#t=this.\u0275fac=function(N){return new(N||I)(a.rXU(z.Ix),a.rXU(M.ok),a.rXU(z.nX),a.rXU(U.bZ),a.rXU(B.h),a.rXU(n.u),a.rXU(U.CP),a.rXU(U.Vh))};static#e=this.\u0275cmp=a.VBU({type:I,selectors:[["app-case-note-modal"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0"],[1,"modal--body","w-100","pt-1"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-700","font-16"],[1,"clr--DF0404","ms-1"],["aria-label","Default select example","formControlName","note_date",1,"form-select","form-control","form-control-md",3,"change"],["value","","disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Write your comment here","formControlName","case_comment","rows","5",1,"form-control"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-stroked-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"value","disabled"],[1,"text","text-danger","mt-1"]],template:function(N,C){1&N&&a.DNE(0,X,28,10,"form",0),2&N&&a.Y8G("ngIf",C.caseNoteForm)},dependencies:[L.Sq,L.bT,M.qT,M.xH,M.y7,M.me,M.wz,M.BC,M.cb,r.$z,U.tx,M.j4,M.JD,L.vh]})}return I})()}}]);