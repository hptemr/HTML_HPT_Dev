"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[32],{32:(en,T,d)=>{d.r(T),d.d(T,{SystemAndPracticeModule:()=>Ke});var y=d(177),N=d(5063),p=d(9417),C=d(2168),L=d(423),g=d(6695),f=d(2042),c=d(9159),$=d(6500),t=d(4438),F=d(8617),b=d(4006),v=d(8834),D=d(9213);const V=()=>[5,10,20],G=()=>["/system-admin/user-managment/practice-admin-profile"];function O(n,s){1&n&&(t.j41(0,"th",34),t.EFF(1," Name "),t.k0s())}function U(n,s){if(1&n&&(t.j41(0,"td",35),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function B(n,s){1&n&&(t.j41(0,"th",36),t.EFF(1," Date Added "),t.k0s())}function Y(n,s){if(1&n&&(t.j41(0,"td",35),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.dateAdded," ")}}function z(n,s){1&n&&(t.j41(0,"th",37),t.EFF(1," Status "),t.k0s())}function X(n,s){1&n&&(t.j41(0,"p",42),t.EFF(1,"Pending"),t.k0s())}function H(n,s){1&n&&(t.j41(0,"p",43),t.EFF(1,"Suspended"),t.k0s())}function J(n,s){1&n&&(t.j41(0,"p",44),t.EFF(1,"Deleted"),t.k0s())}function Z(n,s){1&n&&(t.j41(0,"td",35)(1,"p",38),t.EFF(2,"Active"),t.k0s(),t.DNE(3,X,2,0,"p",39)(4,H,2,0,"p",40)(5,J,2,0,"p",41),t.k0s())}function Q(n,s){1&n&&(t.j41(0,"th",37),t.EFF(1," Actions "),t.k0s())}function q(n,s){1&n&&(t.j41(0,"td",35)(1,"div",45)(2,"button",46)(3,"mat-icon",47),t.EFF(4,"visibility "),t.k0s()()()()),2&n&&(t.R7$(2),t.Y8G("routerLink",t.lJ4(1,G)))}function W(n,s){1&n&&t.nrm(0,"tr",48)}function K(n,s){1&n&&t.nrm(0,"tr",49)}const tt=[{name:"Jane Cooper",dateAdded:"02/12/2023",status:"Active",action:""},{name:"Floyd Miles",dateAdded:"10/31/2023",status:"Pending",action:""},{name:"Ronald Richards",dateAdded:"10/05/2023",status:"Suspended",action:""},{name:"Marvin McKinney",dateAdded:"09/12/2023",status:"Deleted",action:""}];let et=(()=>{class n{constructor(e,a){this._liveAnnouncer=e,this.dialog=a,this.displayedColumns=["name","dateAdded","status","action"],this.dataSource=new c.I6(tt)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}invitePopup(){this.dialog.open($.x,{panelClass:"inivite--modal",data:{heading:"Add Template"}})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-efax"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:49,vars:5,consts:[[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-0","clr--1F2F3E"],["mat-raised-button","","color","primary",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-group"],["type","text","placeholder","Search Template",1,"form-control","search--outer"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"col-12","col-sm-6","col-lg-3"],["aria-label","Default select example",1,"form-select","form-control"],["selected",""],["value","1"],["value","2"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateAdded"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"status"],["class","status pending",4,"ngIf"],["class","status suspended",4,"ngIf"],["class","status deleted",4,"ngIf"],[1,"status","pending"],[1,"status","suspended"],[1,"status","deleted"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5,"E-Fax"),t.k0s(),t.j41(6,"button",5),t.bIt("click",function(){return o.invitePopup()}),t.j41(7,"mat-icon",6),t.EFF(8," add_circle "),t.k0s(),t.EFF(9," Add Template "),t.k0s()(),t.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),t.nrm(14,"input",11),t.j41(15,"button",12)(16,"mat-icon",6),t.EFF(17,"search "),t.k0s()()()(),t.j41(18,"div",13)(19,"div",10)(20,"select",14)(21,"option",15),t.EFF(22,"Appointment Status"),t.k0s(),t.j41(23,"option",16),t.EFF(24,"Pending"),t.k0s(),t.j41(25,"option",17),t.EFF(26,"Approve"),t.k0s()()()(),t.j41(27,"div",18)(28,"div",10)(29,"button",19),t.EFF(30,"Reset Filter"),t.k0s()()()()()(),t.j41(31,"div",20)(32,"div",21)(33,"table",22),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(34,23),t.DNE(35,O,2,0,"th",24)(36,U,2,1,"td",25),t.bVm(),t.qex(37,26),t.DNE(38,B,2,0,"th",27)(39,Y,2,1,"td",25),t.bVm(),t.qex(40,28),t.DNE(41,z,2,0,"th",29)(42,Z,6,0,"td",25),t.bVm(),t.qex(43,30),t.DNE(44,Q,2,0,"th",29)(45,q,5,2,"td",25),t.bVm(),t.DNE(46,W,1,0,"tr",31)(47,K,1,0,"tr",32),t.k0s(),t.nrm(48,"mat-paginator",33),t.k0s()()()()),2&a&&(t.R7$(33),t.Y8G("dataSource",o.dataSource),t.R7$(13),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(4,V)))},dependencies:[y.bT,C.Wk,p.xH,p.y7,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return n})();var h=d(4523),w=d(446),nt=d(5802),x=d(6992),S=d(3390),P=d(6850);function ot(n,s){if(1&n&&(t.j41(0,"option",32),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.FS9("value",e),t.R7$(),t.JRh(e)}}function at(n,s){1&n&&(t.j41(0,"th",33),t.EFF(1," Name "),t.k0s())}function it(n,s){if(1&n&&(t.j41(0,"td",34),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function rt(n,s){1&n&&(t.j41(0,"th",35),t.EFF(1," Email Id "),t.k0s())}function st(n,s){if(1&n&&(t.j41(0,"td",34),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.email," ")}}function ct(n,s){1&n&&(t.j41(0,"th",36),t.EFF(1," Status "),t.k0s())}function lt(n,s){if(1&n&&(t.j41(0,"td",34)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(),t.ZvI("status ",e.statusClass,""),t.R7$(),t.JRh(e.status)}}function mt(n,s){1&n&&(t.j41(0,"th",33),t.EFF(1," Assign As "),t.k0s())}function dt(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",34)(1,"select",37),t.bIt("change",function(o){const i=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.assignAsFun(o,i))}),t.j41(2,"option",38),t.EFF(3," Select"),t.k0s(),t.j41(4,"option",39),t.EFF(5," Site Leader"),t.k0s(),t.j41(6,"option",40),t.EFF(7," None"),t.k0s()()()}if(2&n){const e=s.$implicit;t.R7$(2),t.Y8G("selected",""==e.siteLeaderForPracLocation),t.R7$(2),t.Y8G("selected","Site Leader"==e.siteLeaderForPracLocation),t.R7$(2),t.Y8G("selected","None"==e.siteLeaderForPracLocation)}}function pt(n,s){1&n&&(t.j41(0,"th",36),t.EFF(1," Actions "),t.k0s())}function ut(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",34)(1,"div",41)(2,"button",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.navigateToAdminUserDetails(o.id))}),t.j41(3,"mat-icon",43),t.EFF(4,"visibility "),t.k0s()()()()}}function ht(n,s){1&n&&t.nrm(0,"tr",44)}function ft(n,s){1&n&&t.nrm(0,"tr",45)}function _t(n,s){if(1&n&&(t.j41(0,"div",46)(1,"div")(2,"p",47),t.EFF(3),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(e.validationMessages.noRecords)}}function gt(n,s){1&n&&(t.j41(0,"th",48),t.EFF(1," Name "),t.k0s())}function bt(n,s){if(1&n&&(t.j41(0,"td",34),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function yt(n,s){1&n&&(t.j41(0,"th",33),t.EFF(1," Email Id "),t.k0s())}function Ct(n,s){if(1&n&&(t.j41(0,"td",34),t.EFF(1),t.k0s()),2&n){const e=s.$implicit;t.R7$(),t.SpI(" ",e.email," ")}}function vt(n,s){1&n&&(t.j41(0,"th",36),t.EFF(1," Status "),t.k0s())}function Dt(n,s){if(1&n&&(t.j41(0,"td",34)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=s.$implicit;t.R7$(),t.ZvI("status ",e.statusClass,""),t.R7$(),t.JRh(e.status)}}function Ft(n,s){1&n&&(t.j41(0,"th",36),t.EFF(1," Actions "),t.k0s())}function wt(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",34)(1,"div",41)(2,"button",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.navigateToAdminUserDetails(o.id))}),t.j41(3,"mat-icon",43),t.EFF(4,"visibility "),t.k0s()()()()}}function xt(n,s){1&n&&t.nrm(0,"tr",44)}function kt(n,s){1&n&&t.nrm(0,"tr",45)}function St(n,s){if(1&n&&(t.j41(0,"div",46)(1,"div")(2,"p",47),t.EFF(3),t.k0s()()()),2&n){const e=t.XpG();t.R7$(3),t.JRh(e.validationMessages.noRecords)}}const It=[],jt=[];let Et=(()=>{class n{constructor(e,a,o,i,r){this._liveAnnouncer=e,this.dialog=a,this.authService=o,this.commonService=i,this.router=r,this.displayedColumns=["name","email","status","assignAs","action"],this.displayedColumns2=["name","email","status","action"],this.dataSource=new c.I6(It),this.dataSource2=new c.I6(jt),this.practiceLocations=w.WM,this.orderBy={createdAt:-1},this.whereCond={},this.whereCondPracticeAdmin={},this.practiceAdminList=[],this.totalCount=0,this.pageIndex=0,this.pageSize=w.T0,this.pageSizeOptions=w.Xe,this.validationMessages=nt.q}ngOnInit(){this.whereCond={role:"therapist"},this.whereCondPracticeAdmin={role:"practice_admin",status:"Active"},this.getUserList(),this.getLocationWiseUserList()}announceSortChange(e){let a;a="desc"==e.direction?-1:1,this.orderBy="name"==e.active?{firstName:a}:{[e.active]:a},this.getUserList()}changeUser(e){this.pageIndex=0,this.whereCond=0==e.index?{role:"therapist"}:{role:"support_team"},this.getUserList()}searchRecords(e){"All"!=e.target.value?(Object.assign(this.whereCond,{practiceLocation:{$in:e.target.value}}),Object.assign(this.whereCondPracticeAdmin,{practiceLocation:{$in:e.target.value}})):(Object.assign(this.whereCond,{practiceLocation:{$ne:e.target.value}}),Object.assign(this.whereCondPracticeAdmin,{practiceLocation:{$ne:e.target.value}})),this.getUserList(),this.getLocationWiseUserList()}getUserList(){var e=this;return(0,h.A)(function*(){e.commonService.showLoader();let a={query:e.whereCond,fields:{firstName:1,lastName:1,email:1,status:1,siteLeaderForPracLocation:1},order:e.orderBy,limit:e.pageSize,offset:e.pageIndex*e.pageSize};yield e.authService.apiRequest("post","admin/getUserList",a).subscribe(function(){var o=(0,h.A)(function*(i){e.commonService.hideLoader(),e.totalCount=i.data.totalCount;let r=[];yield i.data.userList.map(l=>{let m={id:l._id,email:l.email,status:l.status,statusClass:l.status.toLowerCase(),siteLeaderForPracLocation:l.siteLeaderForPracLocation,name:l.firstName+" "+l.lastName};r.push(m)}),e.userList=new c.I6(r)});return function(i){return o.apply(this,arguments)}}())})()}getLocationWiseUserList(){var e=this;return(0,h.A)(function*(){let o={query:e.whereCondPracticeAdmin,fields:{firstName:1,lastName:1,email:1,status:1,siteLeaderForPracLocation:1,practiceLocation:1},order:{createdAt:-1},limit:2};yield e.authService.apiRequest("post","admin/getLocationWiseUserList",o).subscribe(function(){var i=(0,h.A)(function*(r){e.practiceAdminList="",yield r.data.userList.map(l=>{e.practiceAdminList+=l.firstName+" "+l.lastName+", "}),e.practiceAdminList=e.practiceAdminList.replace(/,(\s*)$/,"")});return function(r){return i.apply(this,arguments)}}())})()}handlePageEvent(e){this.pageSize=e.pageSize,this.pageIndex=e.pageIndex,this.getUserList()}assignAsFun(e,a){var o=this;return(0,h.A)(function*(){if(""!=e.target.value){let i={query:{_id:a.id},updateInfo:{siteLeaderForPracLocation:e.target.value}};yield o.authService.apiRequest("post","admin/updateUser",i).subscribe(function(){var r=(0,h.A)(function*(l){o.getUserList(),o.authService.apiRequest("post","email/emailSend",{query:{code:"assignedAsSiteLeader"},toEmail:a.email,params:{"{firstName}":a.name,"{assignedAs}":e.target.value}}).subscribe(function(){var u=(0,h.A)(function*(_){});return function(_){return u.apply(this,arguments)}}())});return function(l){return r.apply(this,arguments)}}())}})()}navigateToAdminUserDetails(e){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/admin-profile/",e])}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ),t.rXU(x.u),t.rXU(S.h),t.rXU(C.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-manage-practice"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:62,vars:20,consts:[["paginator",""],[1,"container-fluid","mp--wrapper"],[1,"row"],[1,"col-12","my-4"],[1,"col-12","col-lg-6"],[1,"mb-0","clr--1F2F3E","fw-500","me-2"],[1,"fw-700"],[1,"col-12","col-lg-6","d-flex","align-items-center","justify-content-start","justify-content-lg-end"],["aria-label","Default select example",1,"form-select","form-control","form-control-md","practice--location",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[1,"card"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedTabChange"],["label","Therapists"],[1,"card-body","mt-4"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","assignAs"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["label","Support Team"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],["aria-label","Default select example",1,"form-select","form-control","form-control-md","assing--td",3,"change"],["value","",3,"selected"],["value","Site Leader",3,"selected"],["value","None",3,"selected"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4)(5,"h3",5),t.EFF(6," Practice Admin: "),t.j41(7,"span",6),t.EFF(8),t.k0s()()(),t.j41(9,"div",7)(10,"h3",5),t.EFF(11,"Practice Location:"),t.k0s(),t.j41(12,"select",8),t.bIt("change",function(l){return t.eBV(i),t.Njj(o.searchRecords(l))}),t.DNE(13,ot,2,2,"option",9),t.k0s()()()(),t.j41(14,"div",10)(15,"div",11)(16,"mat-tab-group",12),t.bIt("selectedTabChange",function(l){return t.eBV(i),t.Njj(o.changeUser(l))}),t.j41(17,"mat-tab",13)(18,"div",14)(19,"div",15)(20,"table",16),t.bIt("matSortChange",function(l){return t.eBV(i),t.Njj(o.announceSortChange(l))}),t.qex(21,17),t.DNE(22,at,2,0,"th",18)(23,it,2,1,"td",19),t.bVm(),t.qex(24,20),t.DNE(25,rt,2,0,"th",21)(26,st,2,1,"td",19),t.bVm(),t.qex(27,22),t.DNE(28,ct,2,0,"th",23)(29,lt,3,4,"td",19),t.bVm(),t.qex(30,24),t.DNE(31,mt,2,0,"th",18)(32,dt,8,3,"td",19),t.bVm(),t.qex(33,25),t.DNE(34,pt,2,0,"th",23)(35,ut,5,0,"td",19),t.bVm(),t.DNE(36,ht,1,0,"tr",26)(37,ft,1,0,"tr",27),t.k0s(),t.DNE(38,_t,4,1,"div",28),t.j41(39,"mat-paginator",29,0),t.bIt("page",function(l){return t.eBV(i),t.Njj(o.handlePageEvent(l))}),t.k0s()()()(),t.j41(41,"mat-tab",30)(42,"div",14)(43,"div",15)(44,"table",16),t.bIt("matSortChange",function(l){return t.eBV(i),t.Njj(o.announceSortChange(l))}),t.qex(45,17),t.DNE(46,gt,2,0,"th",31)(47,bt,2,1,"td",19),t.bVm(),t.qex(48,20),t.DNE(49,yt,2,0,"th",18)(50,Ct,2,1,"td",19),t.bVm(),t.qex(51,22),t.DNE(52,vt,2,0,"th",23)(53,Dt,3,4,"td",19),t.bVm(),t.qex(54,25),t.DNE(55,Ft,2,0,"th",23)(56,wt,5,0,"td",19),t.bVm(),t.DNE(57,xt,1,0,"tr",26)(58,kt,1,0,"tr",27),t.k0s(),t.DNE(59,St,4,1,"div",28),t.j41(60,"mat-paginator",29,0),t.bIt("page",function(l){return t.eBV(i),t.Njj(o.handlePageEvent(l))}),t.k0s()()()()()()()()()}2&a&&(t.R7$(8),t.JRh(o.practiceAdminList),t.R7$(5),t.Y8G("ngForOf",o.practiceLocations),t.R7$(7),t.Y8G("dataSource",o.userList),t.R7$(16),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",o.userList&&0==o.userList.filteredData.length),t.R7$(),t.Y8G("length",o.totalCount)("pageSize",o.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizeOptions)("pageIndex",o.pageIndex),t.R7$(5),t.Y8G("dataSource",o.userList),t.R7$(13),t.Y8G("matHeaderRowDef",o.displayedColumns2),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns2),t.R7$(),t.Y8G("ngIf",o.userList&&0==o.userList.filteredData.length),t.R7$(),t.Y8G("length",o.totalCount)("pageSize",o.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizeOptions)("pageIndex",o.pageIndex))},dependencies:[y.Sq,y.bT,p.xH,p.y7,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,P.mq,P.T8],styles:[".mp--wrapper[_ngcontent-%COMP%]   .practice--location[_ngcontent-%COMP%]{max-width:257px;font-size:16px;border:1px solid rgba(51,184,184,.4)}.mp--wrapper[_ngcontent-%COMP%]     .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}.mp--wrapper[_ngcontent-%COMP%]     .cust--mat--table tbody tr td .assing--td{font-size:14px!important;width:165px;border:1px solid rgba(51,184,184,.4)}"]})}return n})();var Rt=d(1069),Mt=d(3716),j=d(2755),At=d(8309);let Tt=(()=>{class n{constructor(){}static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,consts:[[1,"bgm-img"]],template:function(a,o){1&a&&t.nrm(0,"div",0)},styles:[".bgm-img[_ngcontent-%COMP%]{background-image:url(dashboard.f6f03eed2938bf9a.png);background-size:cover;height:763px;width:100%}"]})}return n})();var Pt=d(7785),Nt=d(1641),Lt=d(4205),$t=d(3078),Vt=d(4923);function Gt(n,s){if(1&n){const e=t.RV6();t.j41(0,"li",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goTo("Protocols Documents","protocols"))}),t.j41(1,"a"),t.EFF(2,"Protocols"),t.k0s()()}if(2&n){const e=t.XpG();t.Mz_("routerLink","/",e.userType,"/manage-documents/protocols")}}let Ot=(()=>{class n{constructor(e,a){this.router=e,this.authService=a,this.labelName="",this.userType="",this.rootDirectoryUrl="",this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),console.log(this.rootDirectoryUrl),"appointment-documents"==this.router.url.split("/")[this.router.url.split("/").length-1]?(this.labelName="Apppointment Documents",this.rootDirectoryUrl="apppointment-documents"):"protocols"==this.router.url.split("/")[this.router.url.split("/").length-1]?(this.labelName="Protocol Documents",this.rootDirectoryUrl="protocols"):(this.labelName="System Documents",this.rootDirectoryUrl="system-documents")}goTo(e,a){this.labelName=e,this.rootDirectoryUrl=a}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(C.Ix),t.rXU(x.u))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-documents"]],decls:20,vars:9,consts:[[1,"note--wrapper","container-fluid"],[1,"row"],[1,"col-12"],[1,"tab--header","d-flex","flex-row","justify-content-between","align-items-center","flex-wrap"],[1,"d-flex","align-items-center","p-0","m-0","flex-wrap","flex-sm-nowrap"],["routerLinkActive","active-link",3,"click","routerLink"],["routerLinkActive","active-link",3,"routerLink","click",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","d-flex","align-items-center"],[1,"breadcrumb-item","fw-500"],[1,"font-12","clr--1F2F3E",3,"routerLink"],[1,"note--body--doc"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5),t.bIt("click",function(){return o.goTo("Apppointment Documents","apppointment-documents")}),t.j41(6,"a"),t.EFF(7,"Apppointment Documents"),t.k0s()(),t.j41(8,"li",5),t.bIt("click",function(){return o.goTo("System Documents","system-documents")}),t.j41(9,"a"),t.EFF(10,"System Documents"),t.k0s()(),t.DNE(11,Gt,3,2,"li",6),t.k0s(),t.j41(12,"nav",7)(13,"ol",8)(14,"li",9)(15,"a",10),t.EFF(16),t.k0s()()()()()(),t.j41(17,"div",2)(18,"div",11),t.nrm(19,"router-outlet"),t.k0s()()()()),2&a&&(t.R7$(5),t.Mz_("routerLink","/",o.userType,"/manage-documents/appointment-documents"),t.R7$(3),t.Mz_("routerLink","/",o.userType,"/manage-documents/system-documents"),t.R7$(3),t.Y8G("ngIf","system-admin"==o.userType),t.R7$(4),t.FCK("routerLink","/",o.userType,"/manage-documents/",o.rootDirectoryUrl,""),t.R7$(),t.JRh(o.labelName))},dependencies:[y.bT,C.n3,C.Wk,C.wQ]})}return n})();var Ut=d(2102),Bt=d(4823);const Yt=["fileInput"];function zt(n,s){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Please enter document name"),t.k0s())}function Xt(n,s){1&n&&(t.j41(0,"h5",23),t.EFF(1,"File Uploaded Successfully."),t.k0s())}function Ht(n,s){if(1&n){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"mat-icon",26),t.EFF(3," description "),t.k0s(),t.j41(4,"h5",27),t.EFF(5),t.k0s()(),t.j41(6,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.removeItem())}),t.j41(7,"span",29),t.EFF(8," cancel "),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(4),t.Y8G("matTooltip",e.uploadedFile[0].name),t.R7$(),t.JRh(e.shortName(e.uploadedFile[0].name))}}function Jt(n,s){1&n&&(t.j41(0,"mat-error"),t.EFF(1,"Please upload document"),t.k0s())}function Zt(n,s){if(1&n&&(t.j41(0,"div",5)(1,"div",30)(2,"mat-icon",31),t.EFF(3," info "),t.k0s(),t.j41(4,"div",32),t.EFF(5),t.k0s()()()),2&n){const e=t.XpG();t.R7$(5),t.JRh(e.uploadErrorMessage)}}let R=(()=>{class n{constructor(e,a,o,i){this.data=e,this.dialogRef=a,this.authService=o,this.commonService=i,this.documentName="",this.uploadError=!1,this.uploadErrorMessage="",this.previewUrl="",this.directory="",this.userId="",this.submitted=!1,this.directory=this.data.directory,this.userId=this.data.userId}onFileChange(e){const a=e.target.files;this.uploadedFile=a,a[0].size/1048576>=15?(this.uploadErrorMessage="The file exceeds the maximum file size limit. Please note that the maximum size allowed is 15mb.",this.uploadError=!0):"application/x-msdownload"==a[0].type||"application/x-putty-private-key"==a[0].type?(this.uploadErrorMessage="Invalid file type, please upload mentioned above file type",this.uploadError=!0):(this.uploadErrorMessage="",this.uploadError=!1);const i=new FileReader;i.onload=r=>{this.previewUrl=r.target.result},i.readAsDataURL(a[0])}removeItem(){this.previewUrl="",this.uploadError=!1,this.fileInput.nativeElement.value=null}shortName(e){return e&&e.length>30?e.substring(0,28).replace(/^[a-z]/,function(a){return a.toUpperCase()})+"...":e.replace(/^[a-z]/,function(a){return a.toUpperCase()})}uploadDocument(){var e=this;return(0,h.A)(function*(){if(e.submitted=!0,null==e.uploadedFile||e.uploadError||""==e.documentName)return;e.commonService.showLoader();const a=new FormData;var o=e.uploadedFile[0].name.split(".").pop();a.append("directory",e.directory),a.append("documentName",e.documentName.trim()+"."+o),a.append("uploadFile",e.uploadedFile[0],e.uploadedFile[0].name),a.append("endUserId",e.userId),e.authService.apiRequest("post","admin/uploadDocumentFile",a).subscribe(function(){var i=(0,h.A)(function*(r){yield e.commonService.hideLoader(),e.submitted=!1,e.dialogRef.close(!0)});return function(r){return i.apply(this,arguments)}}(),i=>{e.commonService.hideLoader(),e.uploadErrorMessage=i.error.message,e.uploadError=!0})})()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(b.Vh),t.rXU(b.CP),t.rXU(x.u),t.rXU(S.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-upload-documents-modal"]],viewQuery:function(a,o){if(1&a&&t.GBs(Yt,5),2&a){let i;t.mGM(i=t.lsd())&&(o.fileInput=i.first)}},decls:34,vars:6,consts:[["fileInput",""],[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0","pb-0"],[1,"modal--body","w-100","pt-3"],[1,"col-12"],[1,"form-group"],[1,"d-flex","mb-0","pb-1","fw-700","font-16"],[1,"clr--DF0404","ms-1"],["type","text","placeholder"," ","maxlength","50",1,"form-control","text-lowercase",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"row","pt-1"],[1,"font-14","fw-600","clr--848789","mb-2"],[1,"upload--files","d-flex","align-items-center","justify-content-center","flex-column","w-100","text-center"],["type","file","id","file-upload","name","journeyPic",1,"input--file",3,"change"],[1,"upload-icon"],[1,"fw-700","font-16"],["class","font-16 fw-500 mb-1",4,"ngIf"],["class","d-flex flex-row align-items-center pt-2",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-raised-button","","color","primary",3,"click"],[1,"font-16","fw-500","mb-1"],[1,"d-flex","flex-row","align-items-center","pt-2"],[1,"d-flex","flex-row","align-items-center","me-2"],[1,"text-primary","me-2"],[1,"font-16","fw-500","mb-0","mt-1",3,"matTooltip"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset",3,"click"],[1,"material-icons","clr--DF0404"],[1,"d-flex","flex-row","align-items-center"],[1,"text-danger","me-2",2,"overflow","visible"],[1,"text","text-danger","fw-500","font-14","mt-1"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h1",3),t.EFF(3,"Upload Document"),t.k0s()(),t.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),t.EFF(8,"Enter Document Name "),t.j41(9,"span",8),t.EFF(10," * "),t.k0s()(),t.j41(11,"input",9),t.mxI("ngModelChange",function(l){return t.eBV(i),t.DH7(o.documentName,l)||(o.documentName=l),t.Njj(l)}),t.k0s(),t.DNE(12,zt,2,0,"mat-error",10),t.k0s()(),t.j41(13,"div",11)(14,"div",5)(15,"p",12),t.EFF(16," Supported File Types: .pdf, .doc, .docx, .xls, .xlsx, .jpg, .jpeg, .png, .gif, .ppt, .pptx, .txt, .zip, .rar, .mp3, .wav, .mp4, .avi, .mov, .csv "),t.k0s()(),t.j41(17,"div",5)(18,"div",13)(19,"input",14,0),t.bIt("change",function(l){return t.eBV(i),t.Njj(o.onFileChange(l))}),t.k0s(),t.j41(21,"mat-icon",15),t.EFF(22," upload_file "),t.k0s(),t.j41(23,"h6",16),t.EFF(24,"Upload or Drag & Drop here"),t.k0s(),t.DNE(25,Xt,2,0,"h5",17)(26,Ht,9,2,"div",18)(27,Jt,2,0,"mat-error",10),t.k0s()(),t.DNE(28,Zt,6,1,"div",19),t.k0s()(),t.j41(29,"div",20)(30,"button",21),t.EFF(31,"Cancel"),t.k0s(),t.j41(32,"button",22),t.bIt("click",function(){return t.eBV(i),t.Njj(o.uploadDocument())}),t.EFF(33,"Submit"),t.k0s()()()}2&a&&(t.R7$(11),t.R50("ngModel",o.documentName),t.R7$(),t.Y8G("ngIf",""==o.documentName&&o.submitted),t.R7$(13),t.Y8G("ngIf",""!=o.previewUrl),t.R7$(),t.Y8G("ngIf",""!=o.previewUrl),t.R7$(),t.Y8G("ngIf",""==o.previewUrl&&o.submitted),t.R7$(),t.Y8G("ngIf",o.uploadError))},dependencies:[y.bT,p.me,p.BC,p.tU,p.vS,v.$z,b.tx,Ut.TL,D.An,Bt.oV],styles:[".upload--files[_ngcontent-%COMP%]{border-radius:20px;border:2px dashed #31B7B7;background:#fff;padding:30px 15px 24px;margin-bottom:10px;position:relative}.upload--files[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;color:#1f2f3e}.upload--files[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#848789}.upload--files[_ngcontent-%COMP%]   .input--file[_ngcontent-%COMP%]{opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;cursor:pointer}.upload--files[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:42px;width:42px;height:42px;color:#31b7b7}"]})}return n})();function Qt(n,s){if(1&n&&(t.j41(0,"p",12),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.JRh(e.uploadErrorMessage)}}let E=(()=>{class n{constructor(e,a){this.data=e,this.dialogRef=a,this.headerName="",this.labelName="",this.inputValue="",this.uploadErrorMessage="",this.uploadError=!1,this.headerName=this.data.headerName,this.labelName=this.data.labelName,""!=this.data.error?(this.uploadErrorMessage=this.data.error,this.uploadError=!0,this.inputValue=this.data.updateValue):this.uploadError=!1,"update"==this.data.type&&(this.inputValue=this.data.updateValue)}submit(){""!=this.inputValue&&this.dialogRef.close(this.inputValue.trim())}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(b.Vh),t.rXU(b.CP))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-folder-modal"]],decls:16,vars:4,consts:[[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0","pb-0"],[1,"modal--body","w-100","pt-1"],[1,"col-12"],[1,"form-group"],["style","color: red;",4,"ngIf"],[1,"col-form-label","fw-700","font-16"],["type","text","placeholder"," ",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-raised-button","","color","primary",3,"click"],[2,"color","red"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3),t.k0s()(),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.DNE(7,Qt,2,1,"p",6),t.j41(8,"label",7),t.EFF(9),t.k0s(),t.j41(10,"input",8),t.mxI("ngModelChange",function(r){return t.DH7(o.inputValue,r)||(o.inputValue=r),r}),t.k0s()()()(),t.j41(11,"div",9)(12,"button",10),t.EFF(13,"Cancel"),t.k0s(),t.j41(14,"button",11),t.bIt("click",function(){return o.submit()}),t.EFF(15,"Submit"),t.k0s()()()),2&a&&(t.R7$(3),t.JRh(o.headerName),t.R7$(4),t.Y8G("ngIf",o.uploadError),t.R7$(2),t.JRh(o.labelName),t.R7$(),t.R50("ngModel",o.inputValue))},dependencies:[y.bT,p.me,p.BC,p.vS,v.$z,b.tx]})}return n})();var M=d(4494);const qt=()=>[5,10,20];function Wt(n,s){1&n&&(t.j41(0,"th",26),t.EFF(1," Name "),t.k0s())}function Kt(n,s){if(1&n&&(t.j41(0,"td",27)(1,"div",28)(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"p",29),t.EFF(5),t.k0s()()()),2&n){const e=s.$implicit;t.R7$(2),t.ZvI("me-3 ",e.color,""),t.R7$(),t.SpI(" ",e.icon,""),t.R7$(2),t.JRh(e.name)}}function te(n,s){1&n&&(t.j41(0,"th",30),t.EFF(1," Actions "),t.k0s())}function ee(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",31)(1,"div",32)(2,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.previewFile(o._id))}),t.j41(3,"mat-icon",34),t.EFF(4,"visibility "),t.k0s()(),t.j41(5,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.addFolderModal(o,""))}),t.j41(6,"mat-icon",34),t.EFF(7,"edit "),t.k0s()(),t.j41(8,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.removeItem(o))}),t.j41(9,"mat-icon",35),t.EFF(10,"cancel"),t.k0s()()()()}}function ne(n,s){1&n&&t.nrm(0,"tr",36)}function oe(n,s){1&n&&t.nrm(0,"tr",37)}function ae(n,s){1&n&&(t.j41(0,"div",38)(1,"div",39),t.nrm(2,"img",40),t.j41(3,"p",41),t.EFF(4,"No Records found"),t.k0s()()())}const ie=[];let re=(()=>{class n{constructor(e,a,o,i){this._liveAnnouncer=e,this.dialog=a,this.authService=o,this.commonService=i,this.displayedColumns=["name","actions"],this.dataSource=new c.I6(ie),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.getDirectoryItems(),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-")}getDirectoryItems(){var e=this;this.loading=!0;var a={directory:w.z7,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",a).subscribe(function(){var o=(0,h.A)(function*(i){e.loading=!1,e.listArrayItems=[],i.data.directoryList.forEach(r=>{e.listArrayItems.push({_id:r._id,name:r.directory_name,actions:"",icon:"folder",color:"description"})}),i.data.fileList.forEach(r=>{var l=r.file_name.split(".").pop(),m="",u="";"pdf"==l?(m="picture_as_pdf",u="pdf"):"png"==l||"jpg"==l||"jpeg"==l?(m="photo",u="photo"):(m="description",u="description"),e.listArrayItems.push({_id:r._id,name:r.file_name,actions:"",icon:m,color:u})}),e.arrLength=e.listArrayItems.length,e.dataSource.data=e.listArrayItems,e.dataSource.paginator=e.paginator});return function(i){return o.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(R,{panelClass:["modal--wrapper"],width:"520px",data:{directory:w.z7,userId:this.userId}}).afterClosed().subscribe(a=>{a&&this.getDirectoryItems()})}addFolderModal(e,a){var o=this,i=e.name.substring(e.name.lastIndexOf(".")+1),r=e.name.substring(0,e.name.lastIndexOf("."))||e.name;this.dialog.open(E,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:"Update File",labelName:"File Name",updateValue:r,error:a}}).afterClosed().subscribe(m=>{m&&this.authService.apiRequest("post","admin/updateFile",{oldFileName:e.name,newFileName:m+"."+i,itemId:e._id}).subscribe(function(){var _=(0,h.A)(function*(I){o.getDirectoryItems()});return function(I){return _.apply(this,arguments)}}(),_=>{this.addFolderModal(e,_.error.message)})})}removeItem(e){var a=this;this.dialog.open(M.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this document?"}}).afterClosed().subscribe(i=>{i&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:"file",removeItemId:e._id}).subscribe(function(){var l=(0,h.A)(function*(m){a.getDirectoryItems()});return function(m){return l.apply(this,arguments)}}())})}previewFile(e){window.open(`${window.location.origin}/${this.userType}/file-preview/`+e,"_blank")}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ),t.rXU(x.u),t.rXU(S.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-appointment-documents"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:29,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),t.bIt("keyup",function(){return o.searchRecords()}),t.mxI("ngModelChange",function(r){return t.DH7(o.searchItem,r)||(o.searchItem=r),r}),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return o.searchRecords()}),t.j41(8,"mat-icon",8),t.EFF(9,"search "),t.k0s()()()(),t.j41(10,"div",9)(11,"button",10),t.bIt("click",function(){return o.addDocumentsModal()}),t.j41(12,"mat-icon",11),t.EFF(13," add_circle_outline "),t.k0s(),t.EFF(14," Add Documents "),t.k0s()()()(),t.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(19,16),t.DNE(20,Wt,2,0,"th",17)(21,Kt,6,5,"td",18),t.bVm(),t.qex(22,19),t.DNE(23,te,2,0,"th",20)(24,ee,11,0,"td",21),t.bVm(),t.DNE(25,ne,1,0,"tr",22)(26,oe,1,0,"tr",23),t.k0s(),t.DNE(27,ae,5,0,"div",24),t.nrm(28,"mat-paginator",25),t.k0s()()()()()),2&a&&(t.R7$(6),t.R50("ngModel",o.searchItem),t.R7$(12),t.Y8G("dataSource",o.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",0==o.arrLength&&!o.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,qt)))},dependencies:[y.bT,p.me,p.BC,p.vS,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return n})();const se=()=>[5,10,20];function ce(n,s){1&n&&(t.j41(0,"th",23),t.EFF(1," Name "),t.k0s())}function le(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",24),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.gotoDirectory(o.directory_name,o._id))}),t.j41(1,"div",25)(2,"mat-icon",26),t.EFF(3,"folder"),t.k0s(),t.j41(4,"p",27),t.EFF(5),t.k0s()()()}if(2&n){const e=s.$implicit,a=t.XpG();t.FCK("routerLink","/",a.userType,"/manage-documents/system-documents/system-documents-detailed/",e._id,""),t.R7$(5),t.JRh(e.directory_name)}}function me(n,s){1&n&&t.nrm(0,"th",28)}function de(n,s){1&n&&t.nrm(0,"td",29)}function pe(n,s){1&n&&t.nrm(0,"tr",30)}function ue(n,s){1&n&&t.nrm(0,"tr",31)}function he(n,s){1&n&&(t.j41(0,"div",32)(1,"div",33),t.nrm(2,"img",34),t.j41(3,"p",35),t.EFF(4,"No Records found"),t.k0s()()())}const fe=[];let _e=(()=>{class n{constructor(e,a,o,i){this._liveAnnouncer=e,this.dialog=a,this.authService=o,this.commonService=i,this.displayedColumns=["directory_name","actions"],this.dataSource=new c.I6(fe),this.searchDirectory="",this.loading=!1,this.arrLength=0,this.userType="",this.pathValues=[],this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),this.pathValues.push({link:"/manage-documents/system-documents",name:"Documents"}),this.getDefaultDirectories()}getDefaultDirectories(){var e=this;this.loading=!0,this.commonService.showLoader();var a=this.authService.getLoggedInInfo("role"),o={searchValue:this.searchDirectory.trim(),userRole:a};this.authService.apiRequest("post","admin/getDefaultDirectories",o).subscribe(function(){var i=(0,h.A)(function*(r){e.loading=!1;var l=r.data.directoryList;e.commonService.hideLoader(),e.arrLength=l.length,e.dataSource.data=l,e.dataSource.paginator=e.paginator});return function(r){return i.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}searchRecords(){this.getDefaultDirectories()}gotoDirectory(e,a){this.pathValues.push({link:"/manage-documents/system-documents/system-documents-detailed/"+a,name:e}),localStorage.setItem("pathValues",JSON.stringify(this.pathValues))}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ),t.rXU(x.u),t.rXU(S.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-system-documents"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:24,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","directory_name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"routerLink","click",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"click","routerLink"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),t.bIt("keyup",function(){return o.searchRecords()}),t.mxI("ngModelChange",function(r){return t.DH7(o.searchDirectory,r)||(o.searchDirectory=r),r}),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return o.searchRecords()}),t.j41(8,"mat-icon",8),t.EFF(9,"search "),t.k0s()()()()()(),t.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"table",12),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(14,13),t.DNE(15,ce,2,0,"th",14)(16,le,6,4,"td",15),t.bVm(),t.qex(17,16),t.DNE(18,me,1,0,"th",17)(19,de,1,0,"td",18),t.bVm(),t.DNE(20,pe,1,0,"tr",19)(21,ue,1,0,"tr",20),t.k0s(),t.DNE(22,he,5,0,"div",21),t.nrm(23,"mat-paginator",22),t.k0s()()()()()),2&a&&(t.R7$(6),t.R50("ngModel",o.searchDirectory),t.R7$(7),t.Y8G("dataSource",o.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",0==o.arrLength&&!o.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,se)))},dependencies:[y.bT,C.Wk,p.me,p.BC,p.vS,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return n})();const ge=()=>[5,10,20];function be(n,s){1&n&&(t.j41(0,"th",26),t.EFF(1," Name "),t.k0s())}function ye(n,s){if(1&n&&(t.j41(0,"td",27)(1,"div",28)(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"p",29),t.EFF(5),t.k0s()()()),2&n){const e=s.$implicit;t.R7$(2),t.ZvI("me-3 ",e.color,""),t.R7$(),t.SpI(" ",e.icon,""),t.R7$(2),t.JRh(e.name)}}function Ce(n,s){1&n&&(t.j41(0,"th",30),t.EFF(1," Actions "),t.k0s())}function ve(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",31)(1,"div",32)(2,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.previewFile(o._id))}),t.j41(3,"mat-icon",34),t.EFF(4,"visibility "),t.k0s()(),t.j41(5,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.addFolderModal(o,""))}),t.j41(6,"mat-icon",34),t.EFF(7,"edit "),t.k0s()(),t.j41(8,"button",33),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.removeItem(o))}),t.j41(9,"mat-icon",35),t.EFF(10,"cancel"),t.k0s()()()()}}function De(n,s){1&n&&t.nrm(0,"tr",36)}function Fe(n,s){1&n&&t.nrm(0,"tr",37)}function we(n,s){1&n&&(t.j41(0,"div",38)(1,"div",39),t.nrm(2,"img",40),t.j41(3,"p",41),t.EFF(4,"No Records found"),t.k0s()()())}const xe=[];let ke=(()=>{class n{constructor(e,a,o,i){this._liveAnnouncer=e,this.dialog=a,this.authService=o,this.commonService=i,this.displayedColumns=["name","actions"],this.dataSource=new c.I6(xe),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.getDirectoryItems(),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-")}getDirectoryItems(){var e=this;this.loading=!0;var a={directory:w.uM,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",a).subscribe(function(){var o=(0,h.A)(function*(i){e.loading=!1,e.listArrayItems=[],i.data.directoryList.forEach(r=>{e.listArrayItems.push({_id:r._id,name:r.directory_name,actions:"",icon:"folder",color:"description"})}),i.data.fileList.forEach(r=>{var l=r.file_name.split(".").pop(),m="",u="";"pdf"==l?(m="picture_as_pdf",u="pdf"):"png"==l||"jpg"==l||"jpeg"==l?(m="photo",u="photo"):(m="description",u="description"),e.listArrayItems.push({_id:r._id,name:r.file_name,actions:"",icon:m,color:u})}),e.arrLength=e.listArrayItems.length,e.dataSource.data=e.listArrayItems,e.dataSource.paginator=e.paginator});return function(i){return o.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(R,{panelClass:["modal--wrapper"],width:"520px",data:{directory:w.uM,userId:this.userId}}).afterClosed().subscribe(a=>{a&&this.getDirectoryItems()})}addFolderModal(e,a){var o=this,i=e.name.substring(e.name.lastIndexOf(".")+1),r=e.name.substring(0,e.name.lastIndexOf("."))||e.name;this.dialog.open(E,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:"Update File",labelName:"File Name",updateValue:r,error:a}}).afterClosed().subscribe(m=>{m&&this.authService.apiRequest("post","admin/updateFile",{oldFileName:e.name,newFileName:m+"."+i,itemId:e._id}).subscribe(function(){var _=(0,h.A)(function*(I){o.getDirectoryItems()});return function(I){return _.apply(this,arguments)}}(),_=>{this.addFolderModal(e,_.error.message)})})}removeItem(e){var a=this;this.dialog.open(M.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this document?"}}).afterClosed().subscribe(i=>{i&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:"file",removeItemId:e._id}).subscribe(function(){var l=(0,h.A)(function*(m){a.getDirectoryItems()});return function(m){return l.apply(this,arguments)}}())})}previewFile(e){window.open(`${window.location.origin}/${this.userType}/file-preview/`+e,"_blank")}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ),t.rXU(x.u),t.rXU(S.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-protocols"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:29,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),t.bIt("keyup",function(){return o.searchRecords()}),t.mxI("ngModelChange",function(r){return t.DH7(o.searchItem,r)||(o.searchItem=r),r}),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return o.searchRecords()}),t.j41(8,"mat-icon",8),t.EFF(9,"search "),t.k0s()()()(),t.j41(10,"div",9)(11,"button",10),t.bIt("click",function(){return o.addDocumentsModal()}),t.j41(12,"mat-icon",11),t.EFF(13," add_circle_outline "),t.k0s(),t.EFF(14," Add Documents "),t.k0s()()()(),t.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(19,16),t.DNE(20,be,2,0,"th",17)(21,ye,6,5,"td",18),t.bVm(),t.qex(22,19),t.DNE(23,Ce,2,0,"th",20)(24,ve,11,0,"td",21),t.bVm(),t.DNE(25,De,1,0,"tr",22)(26,Fe,1,0,"tr",23),t.k0s(),t.DNE(27,we,5,0,"div",24),t.nrm(28,"mat-paginator",25),t.k0s()()()()()),2&a&&(t.R7$(6),t.R50("ngModel",o.searchItem),t.R7$(12),t.Y8G("dataSource",o.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",0==o.arrLength&&!o.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,ge)))},dependencies:[y.bT,p.me,p.BC,p.vS,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return n})();var Se=d(2765);const Ie=()=>[5,10,20],je=()=>["/system-admin/manage-documents/detailed-documents"];function Ee(n,s){1&n&&(t.j41(0,"th",25),t.EFF(1," Name "),t.k0s())}function Re(n,s){if(1&n&&(t.j41(0,"td",26)(1,"div",27)(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"p",28),t.EFF(5),t.k0s()()()),2&n){const e=s.$implicit;t.Y8G("routerLink",t.lJ4(6,je)),t.R7$(2),t.ZvI("me-3 ",e.color,""),t.R7$(),t.SpI(" ",e.icon,""),t.R7$(2),t.JRh(e.name)}}function Me(n,s){1&n&&(t.j41(0,"th",29),t.EFF(1," Actions "),t.k0s())}function Ae(n,s){1&n&&(t.j41(0,"td",30)(1,"div",31),t.nrm(2,"mat-checkbox",32),t.k0s()())}function Te(n,s){1&n&&t.nrm(0,"tr",33)}function Pe(n,s){1&n&&t.nrm(0,"tr",34)}const Ne=[{name:"ACL\xa0Hamstring\xa0Graft\xa0Post\xa0Op\xa0Protocol",actions:"",icon:"description",color:"description"},{name:"ACL\xa0reconstrucion",actions:"",icon:"picture_as_pdf",color:"pdf"},{name:"APRIL\xa0WEINBERGER\xa0AND\xa0Y.\xa0COURCHESNE",icon:"photo",actions:"",color:"photo"},{name:"Acromioclavicular\xa0(AC)\xa0Joint\xa0Reconstruction",icon:"picture_as_pdf",actions:"",color:"pdf"},{name:"Anterior\xa0Capsule\xa0and\xa0Labral\xa0Repair (ACL Repair)",icon:"description",actions:"",color:"description"},{name:"Anterior\xa0Reconstruction,\xa0SLAP\xa0Repair",icon:"photo",actions:"",color:"photo"},{name:"Medial\xa0Patella\xa0Ligament\xa0Reconstruction",icon:"description",actions:"",color:"description"},{name:"BILLING\xa0-\xa0AMA\xa0vs\xa0CMS\xa0Minute\xa0Rules",actions:"",icon:"picture_as_pdf",color:"pdf"}];let Le=(()=>{class n{constructor(e,a){this._liveAnnouncer=e,this.dialog=a,this.displayedColumns=["name","actions"],this.dataSource=new c.I6(Ne)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-protocol-detailed-documents"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:28,vars:5,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,""],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],[1,""],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"input",6),t.j41(7,"button",7)(8,"mat-icon",8),t.EFF(9,"search "),t.k0s()()()(),t.j41(10,"div",9)(11,"button",10)(12,"mat-icon",11),t.EFF(13," add_circle_outline "),t.k0s(),t.EFF(14," Add Document "),t.k0s()()()(),t.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(19,16),t.DNE(20,Ee,2,0,"th",17)(21,Re,6,7,"td",18),t.bVm(),t.qex(22,19),t.DNE(23,Me,2,0,"th",20)(24,Ae,3,0,"td",21),t.bVm(),t.DNE(25,Te,1,0,"tr",22)(26,Pe,1,0,"tr",23),t.k0s(),t.nrm(27,"mat-paginator",24),t.k0s()()()()()),2&a&&(t.R7$(18),t.Y8G("dataSource",o.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(4,Ie)))},dependencies:[C.Wk,v.$z,Se.So,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     .mdc-label{margin-top:5px;color:#1f2f3e!important}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox .mdc-form-field .mdc-checkbox .mdc-checkbox__background{border-radius:50%;width:23px;height:23px}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox.mat-mdc-checkbox-checked .mdc-form-field .mdc-checkbox .mdc-checkbox__background{border-radius:50%}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox.mat-mdc-checkbox-checked .mdc-form-field .mdc-checkbox .mdc-checkbox__background .mdc-checkbox__checkmark{padding:5px}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox-ripple, .document--wrapper[_ngcontent-%COMP%]     .mdc-checkbox__ripple{top:5px!important;left:5px!important}"]})}return n})();const $e=()=>[5,10,20];function Ve(n,s){1&n&&(t.j41(0,"th",27),t.EFF(1," Name "),t.k0s())}function Ge(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",28),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.gotoDirectory(o._id,o.icon))}),t.j41(1,"div",29)(2,"mat-icon"),t.EFF(3),t.k0s(),t.j41(4,"p",30),t.EFF(5),t.k0s()()()}if(2&n){const e=s.$implicit;t.R7$(2),t.ZvI("me-3 ",e.color,""),t.R7$(),t.SpI(" ",e.icon,""),t.R7$(2),t.JRh(e.name)}}function Oe(n,s){1&n&&(t.j41(0,"th",31),t.EFF(1," Actions "),t.k0s())}function Ue(n,s){if(1&n){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,i=t.XpG();return t.Njj(i.previewFile(o._id))}),t.j41(1,"mat-icon",36),t.EFF(2,"visibility "),t.k0s()()}}function Be(n,s){if(1&n){const e=t.RV6();t.j41(0,"td",32)(1,"div",33),t.DNE(2,Ue,3,0,"button",34),t.j41(3,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.updateModal(o,""))}),t.j41(4,"mat-icon",36),t.EFF(5,"edit "),t.k0s()(),t.j41(6,"button",35),t.bIt("click",function(){const o=t.eBV(e).$implicit,i=t.XpG();return t.Njj(i.removeItem(o))}),t.j41(7,"mat-icon",37),t.EFF(8,"cancel"),t.k0s()()()()}if(2&n){const e=s.$implicit;t.R7$(2),t.Y8G("ngIf","folder"!=e.icon)}}function Ye(n,s){1&n&&t.nrm(0,"tr",38)}function ze(n,s){1&n&&t.nrm(0,"tr",39)}function Xe(n,s){1&n&&(t.j41(0,"div",40)(1,"div",41),t.nrm(2,"img",42),t.j41(3,"p",43),t.EFF(4,"No Records found"),t.k0s()()())}const He=[];let Je=(()=>{class n{constructor(e,a,o,i,r){this._liveAnnouncer=e,this.dialog=a,this.authService=o,this.route=i,this.commonService=r,this.displayedColumns=["name","actions"],this.dataSource=new c.I6(He),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.pathValues=[],this.tempPathValues=[],this.dirId=this.route.snapshot.paramMap.get("id"),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-");var l=localStorage.getItem("pathValues");this.tempPathValues=l&&null!=l?JSON.parse(l):[],this.tempPathValues.forEach(m=>{this.pathValues.push(m)}),this.getDirectoryItems()}getDirectoryItems(){var e=this;this.loading=!0;var a={directory:this.dirId,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",a).subscribe(function(){var o=(0,h.A)(function*(i){e.loading=!1,e.listArrayItems=[],i.data.directoryList.forEach(r=>{e.listArrayItems.push({_id:r._id,name:r.directory_name,actions:"",icon:"folder",color:"description"})}),i.data.fileList.forEach(r=>{var l=r.file_name.split(".").pop(),m="",u="";"pdf"==l?(m="picture_as_pdf",u="pdf"):"png"==l||"jpg"==l||"jpeg"==l?(m="photo",u="photo"):(m="description",u="description"),e.listArrayItems.push({_id:r._id,name:r.file_name,actions:"",icon:m,color:u})}),e.arrLength=e.listArrayItems.length,e.dataSource.data=e.listArrayItems,e.dataSource.paginator=e.paginator});return function(i){return o.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(R,{panelClass:["modal--wrapper"],width:"520px",data:{directory:this.dirId,userId:this.userId}}).afterClosed().subscribe(a=>{a&&this.getDirectoryItems()})}updateModal(e,a){var o=this,i="",r="";"folder"==e.icon?(i="Update Folder",r="Folder Name"):(i="Update File",r="File Name");var l=e.name.substring(e.name.lastIndexOf(".")+1),m=e.name.substring(0,e.name.lastIndexOf("."))||e.name;this.dialog.open(E,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:i,labelName:r,updateValue:m,error:a}}).afterClosed().subscribe(_=>{_&&("folder"==e.icon?this.authService.apiRequest("post","admin/updateDirectory",{directoryName:_,directoryId:e._id}).subscribe(function(){var k=(0,h.A)(function*(A){o.getDirectoryItems()});return function(A){return k.apply(this,arguments)}}(),k=>{this.updateModal(e,k.error.message)}):this.authService.apiRequest("post","admin/updateFile",{oldFileName:e.name,newFileName:_+"."+l,itemId:e._id}).subscribe(function(){var k=(0,h.A)(function*(A){o.getDirectoryItems()});return function(A){return k.apply(this,arguments)}}(),k=>{this.updateModal(e,k.error.message)}))})}addFolderModal(e,a){var o=this;this.dialog.open(E,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"create",headerName:"Create Folder",labelName:"Folder Name",updateValue:a,error:e}}).afterClosed().subscribe(r=>{r&&this.authService.apiRequest("post","admin/createDirectory",{directoryName:r,directoryId:this.dirId,endUserId:this.userId}).subscribe(function(){var m=(0,h.A)(function*(u){o.getDirectoryItems()});return function(u){return m.apply(this,arguments)}}(),m=>{this.addFolderModal(m.error.message,r)})})}removeItem(e){var a=this,o="",i="";"folder"==e.icon?(o="directory",i="directory"):(o="file",i="document"),this.dialog.open(M.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this "+i+"?"}}).afterClosed().subscribe(l=>{l&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:o,removeItemId:e._id}).subscribe(function(){var u=(0,h.A)(function*(_){a.getDirectoryItems()});return function(_){return u.apply(this,arguments)}}())})}previewFile(e){window.open(`${window.location.origin}/${this.userType}/file-preview/`+e,"_blank")}gotoDirectory(e,a){this.dirId=e,"folder"==a&&(this.tempPathValues.push({link:"/document-details/"+e,name}),localStorage.setItem("pathValues",JSON.stringify(this.tempPathValues)),window.open(`${window.location.origin}/${this.userType}/manage-documents/system-documents/system-documents-detailed/`+e,"_self"))}removeElementsFromIndex(e,a){return a<0||a>=e.length||e.splice(a),e}backToDirectory(e){var a=this;return(0,h.A)(function*(){var o=a.pathValues.findIndex(i=>i.name===e.name);a.tempPathValues=yield a.removeElementsFromIndex(a.pathValues,o+1),localStorage.setItem("pathValues",JSON.stringify(a.tempPathValues)),window.open(`${window.location.origin}/${a.userType}`+e.link,"_self")})()}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(F.Ai),t.rXU(b.bZ),t.rXU(x.u),t.rXU(C.nX),t.rXU(S.h))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-system-documents-detailed"]],viewQuery:function(a,o){if(1&a&&(t.GBs(f.B4,5),t.GBs(g.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:33,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"me-2",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"click"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields",3,"click",4,"ngIf"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),t.bIt("keyup",function(){return o.searchRecords()}),t.mxI("ngModelChange",function(r){return t.DH7(o.searchItem,r)||(o.searchItem=r),r}),t.k0s(),t.j41(7,"button",7),t.bIt("click",function(){return o.searchRecords()}),t.j41(8,"mat-icon",8),t.EFF(9,"search "),t.k0s()()()(),t.j41(10,"div",9)(11,"button",10),t.bIt("click",function(){return o.addFolderModal("","")}),t.j41(12,"mat-icon",11),t.EFF(13," add_circle_outline "),t.k0s(),t.EFF(14," Add Folder "),t.k0s(),t.j41(15,"button",12),t.bIt("click",function(){return o.addDocumentsModal()}),t.j41(16,"mat-icon",11),t.EFF(17," add_circle_outline "),t.k0s(),t.EFF(18," Add Documents "),t.k0s()()()(),t.j41(19,"div",13)(20,"div",14)(21,"div",15)(22,"table",16),t.bIt("matSortChange",function(r){return o.announceSortChange(r)}),t.qex(23,17),t.DNE(24,Ve,2,0,"th",18)(25,Ge,6,5,"td",19),t.bVm(),t.qex(26,20),t.DNE(27,Oe,2,0,"th",21)(28,Be,9,1,"td",22),t.bVm(),t.DNE(29,Ye,1,0,"tr",23)(30,ze,1,0,"tr",24),t.k0s(),t.DNE(31,Xe,5,0,"div",25),t.nrm(32,"mat-paginator",26),t.k0s()()()()()),2&a&&(t.R7$(6),t.R50("ngModel",o.searchItem),t.R7$(16),t.Y8G("dataSource",o.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",0==o.arrLength&&!o.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,$e)))},dependencies:[y.bT,p.me,p.BC,p.vS,v.$z,D.An,g.iy,f.B4,f.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return n})();var Ze=d(7126);const Qe=[{path:"dashboard",component:Tt},{path:"user-managment",children:[{path:"practice-admin",component:j.V},{path:"therapists",component:j.V},{path:"support-team",component:j.V},{path:"billing-team",component:j.V},{path:"admin-profile/:adminId",component:At.W}]},{path:"appointment-details/:appointmentId",component:Lt.R},{path:"patients",children:[{path:"",component:L.G},{path:"patient-details/:userId",component:Pt.H},{path:"patient-profile/:userId",component:Nt.m}]},{path:"manage-profile",component:Mt.O},{path:"e-fax",component:et},{path:"manage-practice",component:Et},{path:"conversations",component:$t.u},{path:"conversations-chat",component:Vt.S,data:{refreshComponent:!0}},{path:"notifications",component:Rt.Y},{path:"manage-documents",component:Ot,children:[{path:"appointment-documents",component:re},{path:"system-documents",component:_e},{path:"system-documents/system-documents-detailed/:id",component:Je},{path:"protocols",component:ke},{path:"protocols/detailed-documents",component:Le}]},{path:"file-preview/:file",component:Ze.M}];let qe=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[C.iI.forChild(Qe),C.iI]})}return n})();var We=d(1796);let Ke=(()=>{class n{static#t=this.\u0275fac=function(a){return new(a||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[y.MD,qe,p.YN,p.X1,N.G,We.FdA]})}return n})()}}]);