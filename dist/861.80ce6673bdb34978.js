"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[861],{2843:(J,E,c)=>{c.d(E,{$:()=>Q});var f=c(4523),w=c(6695),b=c(2042),d=c(9159),y=c(5802),h=c(446),t=c(4438),v=c(8617),M=c(4006),D=c(4710),A=c(6992),x=c(3390),R=c(758),C=c(177),g=c(9417),I=c(8834),O=c(9213),F=c(6911);function j(r,_){if(1&r&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&r){const o=_.$implicit;t.FS9("value",o),t.R7$(),t.JRh(o)}}function T(r,_){if(1&r&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&r){const o=_.$implicit;t.FS9("value",o),t.R7$(),t.JRh(o)}}function P(r,_){1&r&&(t.j41(0,"th",36),t.EFF(1," Appointment # "),t.k0s())}function S(r,_){if(1&r&&(t.j41(0,"td",37)(1,"div",38)(2,"div",39),t.nrm(3,"img",40),t.k0s(),t.j41(4,"div")(5,"p",41),t.EFF(6),t.k0s(),t.j41(7,"p",42)(8,"span",43),t.EFF(9,"Patient"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p",42)(12,"span",43),t.EFF(13,"Appointment#"),t.k0s(),t.EFF(14),t.k0s()()()()),2&r){const o=_.$implicit;t.R7$(3),t.FS9("src",o.profileImage,t.B4B),t.R7$(3),t.JRh(o.practiceLocation),t.R7$(4),t.SpI(" ",o.patientName,""),t.R7$(4),t.SpI(" ",o.appointmentId,"")}}function L(r,_){1&r&&(t.j41(0,"th",44),t.EFF(1," Appointment Date & Time "),t.k0s())}function k(r,_){if(1&r&&(t.j41(0,"td",37),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&r){const o=_.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,o.appointmentDate,"EEE, MMM d, y h:mm a")," ")}}function B(r,_){1&r&&(t.j41(0,"th",45),t.EFF(1," Status "),t.k0s())}function N(r,_){if(1&r&&(t.j41(0,"td",37)(1,"p"),t.EFF(2),t.k0s()()),2&r){const o=_.$implicit;t.R7$(),t.ZvI("status ",o.statusFlag,""),t.R7$(),t.JRh(o.status)}}function V(r,_){1&r&&(t.j41(0,"th",45),t.EFF(1," Actions "),t.k0s())}function $(r,_){if(1&r){const o=t.RV6();t.j41(0,"td",37)(1,"div",46)(2,"button",47),t.bIt("click",function(){const i=t.eBV(o).$implicit,e=t.XpG(2);return t.Njj(e.navigateToappointmentDetails(i.id))}),t.j41(3,"mat-icon",48),t.EFF(4,"visibility "),t.k0s()()()()}}function U(r,_){1&r&&t.nrm(0,"tr",49)}function G(r,_){1&r&&t.nrm(0,"tr",50)}function K(r,_){if(1&r&&(t.j41(0,"div",51)(1,"div")(2,"p",52),t.EFF(3),t.k0s()()()),2&r){const o=t.XpG(2);t.R7$(3),t.JRh(o.validationMessages.noRecords)}}function z(r,_){if(1&r){const o=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"table",23),t.bIt("matSortChange",function(i){t.eBV(o);const e=t.XpG();return t.Njj(e.announceSortChange(i))}),t.qex(3,24),t.DNE(4,P,2,0,"th",25)(5,S,15,4,"td",26),t.bVm(),t.qex(6,27),t.DNE(7,L,2,0,"th",28)(8,k,3,4,"td",26),t.bVm(),t.qex(9,29),t.DNE(10,B,2,0,"th",30)(11,N,3,4,"td",26),t.bVm(),t.qex(12,31),t.DNE(13,V,2,0,"th",30)(14,$,5,0,"td",26),t.bVm(),t.DNE(15,U,1,0,"tr",32)(16,G,1,0,"tr",33),t.k0s(),t.DNE(17,K,4,1,"div",34),t.j41(18,"mat-paginator",35,1),t.bIt("page",function(i){t.eBV(o);const e=t.XpG();return t.Njj(e.handlePageEvent(i))}),t.k0s()()()}if(2&r){const o=t.XpG();t.R7$(2),t.Y8G("dataSource",o.appointmentsList),t.R7$(13),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",o.appointmentsList&&0==o.appointmentsList.filteredData.length),t.R7$(),t.Y8G("length",o.totalCount)("pageSize",o.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",o.pageSizeOptions)("pageIndex",o.pageIndex)}}function W(r,_){1&r&&(t.j41(0,"p",58),t.EFF(1,"No Records Found!"),t.k0s())}function X(r,_){1&r&&(t.j41(0,"p",58),t.EFF(1,"Currently there are no appointments to show!"),t.k0s())}function Y(r,_){1&r&&(t.j41(0,"p",59),t.EFF(1,"Kindly click on \u201cBook Appointment\u201d to schedule a new appointment."),t.k0s())}function H(r,_){if(1&r&&(t.j41(0,"div",53)(1,"div",54),t.nrm(2,"img",55),t.DNE(3,W,2,0,"p",56)(4,X,2,0,"p",56)(5,Y,2,0,"p",57),t.k0s()()),2&r){const o=t.XpG();t.R7$(3),t.Y8G("ngIf",!o.dayOneFlag),t.R7$(),t.Y8G("ngIf",o.dayOneFlag),t.R7$(),t.Y8G("ngIf",o.dayOneFlag)}}const q=[];let Q=(()=>{class r{constructor(o,n,i,e,p,a){this._liveAnnouncer=o,this.dialog=n,this.router=i,this.authService=e,this.commonService=p,this.adminService=a,this.displayedColumns=["name","appointmentDate","status","action"],this.dataSource=new d.I6(q),this.orderBy={updatedAt:-1},this.whereCond={},this.whereCondTotal={},this.dayTwo=!1,this.dayOne=!0,this.dayOneFlag=!0,this.totalCount=0,this.pageIndex=0,this.pageSize=h.T0,this.pageSizeOptions=h.Xe,this.searchQuery="",this.practiceLocations=h.WM,this.appointmentStatus=h.K0,this.validationMessages=y.q,this.appStatusVal="",this.practiceLocationsVal="",this.toDate="",this.fieldValues=["Accepted","Rescheduled"]}ngOnInit(){const o=new Date;o.setHours(0,0,0,0);const n=new Date(Date.now()+6048e5);this.whereCond=Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:{$gte:o,$lte:n}}),this.getAppointmentList("")}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}searchRecords(o,n){"practiceLocations"==o?this.whereCond=Object.assign(this.whereCond,{practiceLocation:{$in:n}}):"status"==o&&(this.whereCond=Object.assign(this.whereCond,{status:{$in:n}})),this.getAppointmentList("search")}reset(){this.totalCount=0,this.pageIndex=0,this.pageSize=h.T0,this.pageSizeOptions=h.Xe,this.toDate="",this.practiceLocationsVal="",this.appStatusVal="";const o=new Date;o.setHours(0,0,0,0);const n=new Date(Date.now()+6048e5);this.whereCond={},this.whereCond=Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:{$gte:o,$lte:n}}),this.getAppointmentList("reset")}onDateChange(o){let n=o.year+"-"+o.month+"-"+o.day;const i=new Date(n);i.setHours(0,0,0,0);const e=new Date(i.getFullYear(),i.getMonth(),i.getDate());e.setHours(24,0,0,0);let p={};p={$gte:n,$lte:e},Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:p}),this.getAppointmentList("search")}getAppointmentList(o=""){var n=this;return(0,f.A)(function*(){""==o&&n.commonService.showLoader();let i={query:n.whereCond,userQuery:"",fields:{_id:1,patientId:1,therapistId:1,appointmentId:1,status:1,createdAt:1,updatedAt:1,practiceLocation:1,appointmentDate:1},patientFields:{firstName:1,lastName:1,email:1,profileImage:1,status:1,practiceLocation:1},order:n.orderBy,limit:n.pageSize,offset:n.pageIndex*n.pageSize};yield n.authService.apiRequest("post","appointment/getAppointmentList",i).subscribe(function(){var e=(0,f.A)(function*(p){n.commonService.hideLoader(),n.totalCount=p.data.totalCount;let a=[];p.data.appointmentList.length>0&&(yield p.data.appointmentList.map(s=>{let m={id:s._id,appointmentId:s.appointmentId,practiceLocation:s.practiceLocation,createdAt:s.updatedAt,appointmentDate:s.appointmentDate,status:s.status,statusFlag:s.status.charAt(0).toLowerCase()+s.status.slice(1),patientName:s.patientId?.firstName+" "+s.patientId?.lastName,profileImage:h.ns.awsS3Url+h.ns.userProfileFolderPath+s.patientId?.profileImage,therapistName:s.therapistId?.firstName+" "+s.therapistId?.lastName};a.push(m)})),n.totalCount>0&&(n.dayTwo=!0,n.dayOne=!1),n.appointmentsList=new d.I6(a)});return function(p){return e.apply(this,arguments)}}())})()}resetFilter(){this.totalCount=0,this.pageIndex=0,this.pageSize=h.T0,this.pageSizeOptions=h.Xe,this.searchQuery="",this.getAppointmentList("reset")}handlePageEvent(o){this.pageSize=o.pageSize,this.pageIndex=o.pageIndex,this.getAppointmentList()}announceSortChange(o){this._liveAnnouncer.announce(o.direction?`Sorted ${o.direction}ending`:"Sorting cleared")}showDayTwo(){this.dayTwo=!0,this.dayOne=!1}navigateToappointmentDetails(o){this.router.navigate([this.commonService.getLoggedInRoute()+"/appointment-details/",o])}static#t=this.\u0275fac=function(n){return new(n||r)(t.rXU(v.Ai),t.rXU(M.bZ),t.rXU(D.Ix),t.rXU(A.u),t.rXU(x.h),t.rXU(R.z))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-appointment-requests"]],viewQuery:function(n,i){if(1&n&&(t.GBs(b.B4,5),t.GBs(w.iy,5)),2&n){let e;t.mGM(e=t.lsd())&&(i.sort=e.first),t.mGM(e=t.lsd())&&(i.paginator=e.first)}},decls:31,vars:7,consts:[["d","ngbDatepicker"],["paginator",""],[1,"col-12","appointment--wrapper"],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","ngModel"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],["readonly","","placeholder","Appointment Date","name","dp","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],["mat-stroked-button","","color","primary",3,"click"],["class","card-body",4,"ngIf"],["class","card-body day--one--wrapper d-flex align-items-center justify-content-center",4,"ngIf"],[3,"value"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["alt","Patient Profile Pic",1,"img-fluid",3,"src"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],[1,"mb-0","font-14","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,""],[1,"card-body","day--one--wrapper","d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100"],["src","assets/images/ark/calendar-lg.png","alt","",1,"img-fluid","mb-4"],["class","fw-700 clr--1F2F3E text-center mb-2",4,"ngIf"],["class","clr--1F2F3E text-center",4,"ngIf"],[1,"fw-700","clr--1F2F3E","text-center","mb-2"],[1,"clr--1F2F3E","text-center"]],template:function(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"select",10),t.bIt("ngModelChange",function(a){return t.eBV(e),t.Njj(i.searchRecords("practiceLocations",a))}),t.mxI("ngModelChange",function(a){return t.eBV(e),t.DH7(i.practiceLocationsVal,a)||(i.practiceLocationsVal=a),t.Njj(a)}),t.j41(9,"option",11),t.EFF(10,"Practice Location"),t.k0s(),t.DNE(11,j,2,2,"option",12),t.k0s()()(),t.j41(12,"div",8)(13,"div",9)(14,"select",10),t.bIt("ngModelChange",function(a){return t.eBV(e),t.Njj(i.searchRecords("status",a))}),t.mxI("ngModelChange",function(a){return t.eBV(e),t.DH7(i.appStatusVal,a)||(i.appStatusVal=a),t.Njj(a)}),t.j41(15,"option",11),t.EFF(16,"Appointment Status"),t.k0s(),t.DNE(17,T,2,2,"option",12),t.k0s()()(),t.j41(18,"div",8)(19,"div",9)(20,"div",13)(21,"input",14,0),t.bIt("ngModelChange",function(a){return t.eBV(e),t.Njj(i.onDateChange(a))}),t.mxI("ngModelChange",function(a){return t.eBV(e),t.DH7(i.toDate,a)||(i.toDate=a),t.Njj(a)}),t.k0s(),t.j41(23,"button",15),t.bIt("click",function(){t.eBV(e);const a=t.sdS(22);return t.Njj(a.toggle())}),t.nrm(24,"i",16),t.k0s()()()(),t.j41(25,"div",8)(26,"div",9)(27,"button",17),t.bIt("click",function(){return t.eBV(e),t.Njj(i.reset())}),t.EFF(28,"Reset Filter"),t.k0s()()()()()(),t.DNE(29,z,20,9,"div",18)(30,H,6,3,"div",19),t.k0s()()()}2&n&&(t.R7$(8),t.R50("ngModel",i.practiceLocationsVal),t.R7$(3),t.Y8G("ngForOf",i.practiceLocations),t.R7$(3),t.R50("ngModel",i.appStatusVal),t.R7$(3),t.Y8G("ngForOf",i.appointmentStatus),t.R7$(4),t.R50("ngModel",i.toDate),t.R7$(8),t.Y8G("ngIf",i.dayTwo),t.R7$(),t.Y8G("ngIf",i.dayOne))},dependencies:[C.Sq,C.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,I.$z,O.An,w.iy,b.B4,b.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,F.cw,C.vh],styles:[".day--one--wrapper[_ngcontent-%COMP%]{height:calc(100vh - 287px)}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}  .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}@media only screen and (max-width: 599px){.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.box--row--table.mat-mdc-table[_ngcontent-%COMP%]{width:800px}}@media only screen and (min-width: 600px) and (max-width: 979px){.day--one--wrapper[_ngcontent-%COMP%]{height:auto}.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;margin-top:70px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media screen and (orientation: landscape) and (max-width: 850px){.day--one--wrapper[_ngcontent-%COMP%]{height:auto}.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;margin-top:70px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.box--row--table.mat-mdc-table[_ngcontent-%COMP%]{width:900px}}"]})}return r})()},263:(J,E,c)=>{c.d(E,{_:()=>o});var f=c(4523),w=c(6695),b=c(2042),d=c(9159),y=c(5802),h=c(446),t=c(4438),v=c(8617),M=c(4006),D=c(4710),A=c(6992),x=c(3390),R=c(758),C=c(177),g=c(9417),I=c(8834),O=c(2765),F=c(9213),j=c(6911);function T(n,i){if(1&n&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e),t.R7$(),t.JRh(e)}}function P(n,i){if(1&n&&(t.j41(0,"option",26),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e),t.R7$(),t.JRh(e)}}function S(n,i){1&n&&(t.j41(0,"th",43),t.EFF(1," Appointment # "),t.k0s())}function L(n,i){if(1&n&&(t.j41(0,"td",44)(1,"div",45)(2,"div",46),t.nrm(3,"img",47),t.k0s(),t.j41(4,"div")(5,"p",48),t.EFF(6),t.k0s(),t.j41(7,"p",49)(8,"span",50),t.EFF(9,"Patient"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p",49)(12,"span",50),t.EFF(13,"Appointment#"),t.k0s(),t.EFF(14),t.k0s()()()()),2&n){const e=i.$implicit;t.R7$(3),t.FS9("src",e.profileImage,t.B4B),t.R7$(3),t.JRh(e.practiceLocation?e.practiceLocation:""),t.R7$(4),t.SpI(" ",e.patientName,""),t.R7$(4),t.SpI(" ",e.appointmentId,"")}}function k(n,i){1&n&&(t.j41(0,"th",51),t.EFF(1," Appointment Date & Time "),t.k0s())}function B(n,i){if(1&n&&(t.j41(0,"td",44),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.appointmentDate,"EEE, MMM d, y h:mm a")," ")}}function N(n,i){1&n&&(t.j41(0,"th",52),t.EFF(1," Status "),t.k0s())}function V(n,i){if(1&n&&(t.j41(0,"td",44)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=i.$implicit;t.R7$(),t.ZvI("status ",e.statusFlag,""),t.R7$(),t.JRh(e.status)}}function $(n,i){1&n&&(t.j41(0,"th",52),t.EFF(1," Patient Check in Status "),t.k0s())}function U(n,i){if(1&n){const e=t.RV6();t.j41(0,"td",44)(1,"mat-checkbox",53),t.bIt("change",function(a){const s=t.eBV(e).$implicit,m=t.XpG(2);return t.Njj(m.patientCheckIn(a,s))}),t.mxI("ngModelChange",function(a){const s=t.eBV(e).$implicit;return t.DH7(s.checkIn,a)||(s.checkIn=a),t.Njj(a)}),t.EFF(2,"Patient Check in Status"),t.k0s()()}if(2&n){const e=i.$implicit;t.R7$(),t.R50("ngModel",e.checkIn)}}function G(n,i){1&n&&(t.j41(0,"th",52),t.EFF(1," Actions "),t.k0s())}function K(n,i){if(1&n){const e=t.RV6();t.j41(0,"td",44)(1,"div",54)(2,"button",55),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToappointmentDetails(a.id))}),t.j41(3,"mat-icon",56),t.EFF(4,"visibility "),t.k0s()()()()}}function z(n,i){1&n&&t.nrm(0,"tr",57)}function W(n,i){1&n&&t.nrm(0,"tr",58)}function X(n,i){if(1&n&&(t.j41(0,"div",59)(1,"div")(2,"p",60),t.EFF(3),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(e.validationMessages.noRecords)}}function Y(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"table",29),t.bIt("matSortChange",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.announceSortChange(a))}),t.qex(3,30),t.DNE(4,S,2,0,"th",31)(5,L,15,4,"td",32),t.bVm(),t.qex(6,33),t.DNE(7,k,2,0,"th",34)(8,B,3,4,"td",32),t.bVm(),t.qex(9,35),t.DNE(10,N,2,0,"th",36)(11,V,3,4,"td",32),t.bVm(),t.qex(12,37),t.DNE(13,$,2,0,"th",36)(14,U,3,1,"td",32),t.bVm(),t.qex(15,38),t.DNE(16,G,2,0,"th",36)(17,K,5,0,"td",32),t.bVm(),t.DNE(18,z,1,0,"tr",39)(19,W,1,0,"tr",40),t.k0s(),t.DNE(20,X,4,1,"div",41),t.j41(21,"mat-paginator",42,2),t.bIt("page",function(a){t.eBV(e);const s=t.XpG();return t.Njj(s.handlePageEvent(a))}),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("dataSource",e.appointmentsList),t.R7$(16),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(),t.Y8G("ngIf",e.appointmentsList&&0==e.appointmentsList.filteredData.length),t.R7$(),t.Y8G("length",e.totalCount)("pageSize",e.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",e.pageSizeOptions)("pageIndex",e.pageIndex)}}function H(n,i){1&n&&(t.j41(0,"p",66),t.EFF(1,"No Records Found!"),t.k0s())}function q(n,i){1&n&&(t.j41(0,"p",66),t.EFF(1,"Currently there are no appointments to show!"),t.k0s())}function Q(n,i){1&n&&(t.j41(0,"p",67),t.EFF(1,"Kindly click on \u201cBook Appointment\u201d to schedule a new appointment."),t.k0s())}function r(n,i){if(1&n&&(t.j41(0,"div",61)(1,"div",62),t.nrm(2,"img",63),t.DNE(3,H,2,0,"p",64)(4,q,2,0,"p",64)(5,Q,2,0,"p",65),t.k0s()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("ngIf",!e.dayOneFlag),t.R7$(),t.Y8G("ngIf",e.dayOneFlag),t.R7$(),t.Y8G("ngIf",e.dayOneFlag)}}const _=[];let o=(()=>{class n{constructor(e,p,a,s,m,l,u){this._liveAnnouncer=e,this.dialog=p,this.router=a,this.authService=s,this.commonService=m,this.adminService=l,this.route=u,this.displayedColumns=["name","appointmentDate","status","patientcheckstatus","action"],this.dataSource=new d.I6(_),this.orderBy={updatedAt:-1},this.whereCond={},this.userQuery={},this.dayTwo=!1,this.dayOne=!0,this.dayOneFlag=!0,this.totalCount=0,this.pageIndex=0,this.pageSize=h.T0,this.pageSizeOptions=h.Xe,this.searchQuery="",this.practiceLocations=h.WM,this.appointmentStatus=h.K0,this.validationMessages=y.q,this.appStatusVal="",this.practiceLocationsVal="",this.toDate="",this.fromDate="",this.selectedFromDate="",this.selectedToDate="",this.seachByName="",this.seachById="",this.fieldValues=["Accepted","Rescheduled"]}ngOnInit(){this.getAppointmentList("")}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}searchRecords(e,p){let a=e.target.value.trim();if(""!=a){a=a.replace("+","\\+");let s={$regex:a,$options:"i"};"byName"==p?this.userQuery={status:"Active",role:"therapist",$or:[{firstName:s},{lastName:s},{email:s}]}:"byId"==p&&(this.whereCond=Object.assign(this.whereCond,{appointmentId:a}))}else this.userQuery={},this.whereCond={};this.getAppointmentList("search")}selectRecords(e,p){"practiceLocations"==e?this.whereCond=Object.assign(this.whereCond,{practiceLocation:{$in:p}}):"status"==e&&(this.whereCond=Object.assign(this.whereCond,{status:{$in:p}})),this.getAppointmentList("search")}reset(){this.totalCount=0,this.pageIndex=0,this.pageSize=h.T0,this.pageSizeOptions=h.Xe,this.fromDate="",this.toDate="",this.selectedFromDate="",this.selectedToDate="",this.practiceLocationsVal="",this.appStatusVal="",this.seachById="",this.seachByName="",this.whereCond={},this.getAppointmentList("reset")}onDateChange(e,p){let a=e.year+"-"+e.month+"-"+e.day,s={};"fromDate"==p?(s={$gte:a},this.selectedFromDate=a):(s={$lte:a},this.selectedToDate=a),this.selectedFromDate&&this.selectedToDate?(s={$gte:this.selectedFromDate,$lte:this.selectedToDate},Object.assign(this.whereCond,{appointmentDate:s})):Object.assign(this.whereCond,{appointmentDate:s}),this.getAppointmentList("search")}getAppointmentList(e=""){var p=this;return(0,f.A)(function*(){""==e&&p.commonService.showLoader();let a={query:p.whereCond,userQuery:p.userQuery,fields:{_id:1,patientId:1,therapistId:1,appointmentId:1,status:1,createdAt:1,updatedAt:1,practiceLocation:1,appointmentDate:1,checkIn:1},patientFields:{firstName:1,lastName:1,email:1,status:1,profileImage:1,practiceLocation:1},order:p.orderBy,limit:p.pageSize,offset:p.pageIndex*p.pageSize};yield p.authService.apiRequest("post","appointment/getAppointmentList",a).subscribe(function(){var s=(0,f.A)(function*(m){p.commonService.hideLoader(),p.totalCount=m.data.totalCount;let l=[];m.data.appointmentList.length>0&&(yield m.data.appointmentList.map(u=>{let Z={id:u._id,practiceLocation:u.practiceLocation,appointmentId:u.appointmentId,checkIn:u.checkIn,createdAt:u.updatedAt,appointmentDate:u.appointmentDate,status:u.status,statusFlag:u.status.charAt(0).toLowerCase()+u.status.slice(1),patientName:u.patientId?.firstName+" "+u.patientId?.lastName,profileImage:h.ns.awsS3Url+h.ns.userProfileFolderPath+u.patientId?.profileImage,therapistName:u.therapistId?.firstName+" "+u.therapistId?.lastName};l.push(Z)})),p.totalCount>0&&(p.dayTwo=!0,p.dayOne=!1),p.appointmentsList=new d.I6(l)});return function(m){return s.apply(this,arguments)}}())})()}handlePageEvent(e){this.pageSize=e.pageSize,this.pageIndex=e.pageIndex,this.getAppointmentList()}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}patientCheckIn(e,p){var a=this;return(0,f.A)(function*(){if(null!=e.source._checked){let s={query:{_id:p.id},updateInfo:{checkIn:e.source._checked}};yield a.authService.apiRequest("post","appointment/updatePatientCheckIn",s).subscribe(function(){var m=(0,f.A)(function*(l){});return function(l){return m.apply(this,arguments)}}())}})()}showDayTwo(){this.dayTwo=!0,this.dayOne=!1}navigateToappointmentDetails(e){this.router.navigate([this.commonService.getLoggedInRoute()+"/appointment-details/",e])}static#t=this.\u0275fac=function(p){return new(p||n)(t.rXU(v.Ai),t.rXU(M.bZ),t.rXU(D.Ix),t.rXU(A.u),t.rXU(x.h),t.rXU(R.z),t.rXU(D.nX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-appointments"]],viewQuery:function(p,a){if(1&p&&(t.GBs(b.B4,5),t.GBs(w.iy,5)),2&p){let s;t.mGM(s=t.lsd())&&(a.sort=s.first),t.mGM(s=t.lsd())&&(a.paginator=s.first)}},decls:50,vars:10,consts:[["d","ngbDatepicker"],["d2","ngbDatepicker"],["paginator",""],[1,"col-12","appointment--wrapper"],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","ngModel"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Appointment #",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0"],["type","text","placeholder","Therapist Name",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],[1,"input-group"],["readonly","","placeholder","From Date","name","dp","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],["readonly","","placeholder","To Date","name","dp2","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["mat-stroked-button","","color","primary",3,"click"],["class","card-body",4,"ngIf"],["class","card-body day--one--wrapper d-flex align-items-center justify-content-center",4,"ngIf"],[3,"value"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","patientcheckstatus"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["alt","Patient Profile Pic",1,"img-fluid",3,"src"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],[1,"mb-0","font-14","text-primary","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"",3,"change","ngModelChange","ngModel"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,""],[1,"card-body","day--one--wrapper","d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100"],["src","assets/images/ark/calendar-lg.png","alt","",1,"img-fluid","mb-4"],["class","fw-700 clr--1F2F3E text-center mb-2",4,"ngIf"],["class","clr--1F2F3E text-center",4,"ngIf"],[1,"fw-700","clr--1F2F3E","text-center","mb-2"],[1,"clr--1F2F3E","text-center"]],template:function(p,a){if(1&p){const s=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"select",11),t.bIt("ngModelChange",function(l){return t.eBV(s),t.Njj(a.selectRecords("practiceLocations",l))}),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.practiceLocationsVal,l)||(a.practiceLocationsVal=l),t.Njj(l)}),t.j41(9,"option",12),t.EFF(10,"Practice Location"),t.k0s(),t.DNE(11,T,2,2,"option",13),t.k0s()()(),t.j41(12,"div",9)(13,"div",10)(14,"input",14),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.seachById,l)||(a.seachById=l),t.Njj(l)}),t.bIt("keyup",function(l){return t.eBV(s),t.Njj(a.searchRecords(l,"byId"))}),t.k0s(),t.j41(15,"button",15)(16,"mat-icon",16),t.EFF(17,"search "),t.k0s()()()(),t.j41(18,"div",9)(19,"div",10)(20,"input",17),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.seachByName,l)||(a.seachByName=l),t.Njj(l)}),t.bIt("keyup",function(l){return t.eBV(s),t.Njj(a.searchRecords(l,"byName"))}),t.k0s(),t.j41(21,"button",15)(22,"mat-icon",16),t.EFF(23,"search "),t.k0s()()()(),t.j41(24,"div",9)(25,"div",10)(26,"select",11),t.bIt("ngModelChange",function(l){return t.eBV(s),t.Njj(a.selectRecords("status",l))}),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.appStatusVal,l)||(a.appStatusVal=l),t.Njj(l)}),t.j41(27,"option",12),t.EFF(28,"Appointment Status"),t.k0s(),t.DNE(29,P,2,2,"option",13),t.k0s()()(),t.j41(30,"div",9)(31,"div",10)(32,"div",18)(33,"input",19,0),t.bIt("ngModelChange",function(l){return t.eBV(s),t.Njj(a.onDateChange(l,"fromDate"))}),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.fromDate,l)||(a.fromDate=l),t.Njj(l)}),t.k0s(),t.j41(35,"button",20),t.bIt("click",function(){t.eBV(s);const l=t.sdS(34);return t.Njj(l.toggle())}),t.nrm(36,"i",21),t.k0s()()()(),t.j41(37,"div",9)(38,"div",10)(39,"div",18)(40,"input",22,1),t.bIt("ngModelChange",function(l){return t.eBV(s),t.Njj(a.onDateChange(l,"toDate"))}),t.mxI("ngModelChange",function(l){return t.eBV(s),t.DH7(a.toDate,l)||(a.toDate=l),t.Njj(l)}),t.k0s(),t.j41(42,"button",20),t.bIt("click",function(){t.eBV(s);const l=t.sdS(41);return t.Njj(l.toggle())}),t.nrm(43,"i",21),t.k0s()()()(),t.j41(44,"div",9)(45,"div",10)(46,"button",23),t.bIt("click",function(){return t.eBV(s),t.Njj(a.reset())}),t.EFF(47,"Reset Filter"),t.k0s()()()()()(),t.DNE(48,Y,23,9,"div",24)(49,r,6,3,"div",25),t.k0s()()()}2&p&&(t.R7$(8),t.R50("ngModel",a.practiceLocationsVal),t.R7$(3),t.Y8G("ngForOf",a.practiceLocations),t.R7$(3),t.R50("ngModel",a.seachById),t.R7$(6),t.R50("ngModel",a.seachByName),t.R7$(6),t.R50("ngModel",a.appStatusVal),t.R7$(3),t.Y8G("ngForOf",a.appointmentStatus),t.R7$(4),t.R50("ngModel",a.fromDate),t.R7$(7),t.R50("ngModel",a.toDate),t.R7$(8),t.Y8G("ngIf",a.dayTwo),t.R7$(),t.Y8G("ngIf",a.dayOne))},dependencies:[C.Sq,C.bT,g.xH,g.y7,g.me,g.wz,g.BC,g.vS,I.$z,O.So,F.An,w.iy,b.B4,b.aE,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,j.cw,C.vh],styles:[".appointment--wrapper .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .appointment--wrapper .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:35%}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(2){width:28%}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(3){width:200px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(4){width:250px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(5){width:150px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1){width:35%}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(2){width:28%}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(3){width:200px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(4){width:250px}  .appointment--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(5){width:150px}@media only screen and (max-width: 599px){.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table{width:860px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:30%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(2){width:28%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(3){width:200px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(4){width:225px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(5){width:225px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1){width:30%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(2){width:28%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(3){width:200px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(4){width:225px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(5){width:225px}}@media only screen and (min-width: 1280px) and (max-width: 1440px){.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:25%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(2){width:28%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(3){width:200px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(4){width:250px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(5){width:150px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1){width:25%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(2){width:28%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(3){width:200px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(4){width:250px}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(5){width:150px}}@media screen and (orientation: landscape) and (max-width: 850px){.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1), .appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:30%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:last-child, .appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:last-child{width:16%}.appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(3), .appointment--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(3){width:150px}}"]})}return n})()}}]);