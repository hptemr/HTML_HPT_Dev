"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[622],{2806:(F,w,o)=>{o.d(w,{s:()=>c});var f=o(8834),u=o(4006),s=o(9213),l=o(7278),m=o(9417),M=o(177),E=o(9039),R=o(5802),e=o(4438),p=o(3390),g=o(758);function I(t,h){if(1&t){const i=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function D(t,h){if(1&t){const i=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function P(t,h){if(1&t&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.validationMessages.required("New password")," ")}}function v(t,h){if(1&t&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.validationMessages.password," ")}}function C(t,h){if(1&t){const i=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function a(t,h){if(1&t){const i=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function r(t,h){if(1&t&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.validationMessages.confirmPassword," ")}}function d(t,h){if(1&t&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&t){const i=e.XpG();e.R7$(),e.SpI(" ",i.validationMessages.passwordMismatch," ")}}let c=(()=>{class t{constructor(i,_,n,O,j,T){this.dialog=i,this.fb=_,this.commonService=n,this.changePassDialogRef=O,this.adminService=j,this.data=T,this.validationMessages=R.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[m.k0.required,m.k0.pattern(E.y.password)]],confirmPassword:["",m.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(i){const _=i.get("newPassword"),n=i.get("confirmPassword");return n.value&&_.value!==n.value?{passwordMismatch:!0}:null}changePassword(){this.changePasswordForm.valid&&this.adminService.changePassword({confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId}).subscribe({next:_=>{_&&!_.error&&this.successModal(_)},error:_=>{_.error?.error&&this.commonService.openSnackBar(_.error?.message,"ERROR")}})}successModal(i){this.dialog.open(l.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:i.message}}).afterClosed().subscribe(n=>{n&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}static#e=this.\u0275fac=function(_){return new(_||t)(e.rXU(u.bZ),e.rXU(m.ok),e.rXU(p.h),e.rXU(u.CP),e.rXU(g.z),e.rXU(u.Vh))};static#o=this.\u0275cmp=e.VBU({type:t,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(_,n){1&_&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,I,2,0,"div",10)(15,D,2,0),e.k0s(),e.DNE(16,P,2,1,"div",11)(17,v,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,C,2,0,"div",10)(26,a,2,0),e.k0s(),e.DNE(27,r,2,1,"div",11)(28,d,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return n.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&_&&(e.R7$(5),e.Y8G("formGroup",n.changePasswordForm),e.R7$(8),e.Y8G("type",n.showNewPass?"text":"password"),e.R7$(),e.vxM(14,n.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",n.changePasswordForm.controls.newPassword.touched&&n.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",n.changePasswordForm.controls.newPassword.touched&&n.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",n.showConfPass?"text":"password"),e.R7$(),e.vxM(25,n.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",n.changePasswordForm.controls.confirmPassword.touched&&n.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",n.changePasswordForm.hasError("passwordMismatch")&&n.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!n.changePasswordForm.valid))},dependencies:[s.m_,f.Hl,f.$z,u.hM,u.tx,M.MD,M.bT,m.YN,m.qT,m.me,m.BC,m.cb,m.X1,m.j4,m.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return t})()},8920:(F,w,o)=>{o.d(w,{e:()=>P});var f=o(4523),u=o(177),s=o(9417),l=o(8834),m=o(4006),M=o(9213),E=o(6817),R=o(5802),e=o(4438),p=o(3390),g=o(6992),I=o(6911);function D(v,C){if(1&v&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&v){const a=e.XpG();e.R7$(),e.SpI(" ",a.validationMessages.required("your comment")," ")}}let P=(()=>{class v{constructor(a,r,d,c,t){this.commonService=a,this.authService=r,this.fb=d,this.dialogRef=c,this.data=t,this.validationMessages=R.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.fromId="",this.appointmentId=null!=t.appointmentId?t.appointmentId:"",this.userRole=null!=t.userRole?t.userRole:"",this.fromId=null!=t.fromId?t.fromId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rescheduleForm=this.fb.group({rejectComment:["",[s.k0.required,s.k0.minLength(1),s.k0.maxLength(100)]]})}trimInput(){0!==(this.rescheduleForm.controls.rejectComment.value||"").trim().length||this.rescheduleForm.controls.rejectComment.setValue("")}submitForm(a){var r=this;return(0,f.A)(function*(){if(r.appointmentId){let d={query:{_id:r.appointmentId},fromId:r.fromId,fromRole:r.userRole,commentText:a.rejectComment};r.commonService.showLoader(),yield r.authService.apiRequest("post","appointment/cancelAppointment",d).subscribe(function(){var c=(0,f.A)(function*(t){r.commonService.hideLoader(),r.dialogRef.close(t)});return function(t){return c.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(r){return new(r||v)(e.rXU(p.h),e.rXU(g.u),e.rXU(s.ok),e.rXU(m.CP),e.rXU(m.Vh))};static#o=this.\u0275cmp=e.VBU({type:v,selectors:[["app-reschedule-appointment-modal"]],standalone:!0,features:[e.aNF],decls:27,vars:3,consts:[["d","ngbDatepicker"],[1,"reschedule--app--modal","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600"],[1,"row",3,"ngSubmit","formGroup"],[1,"ra--body","w-100"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"input-group"],["placeholder","mm-dd-yyyy","name","dp","ngbDatepicker","",1,"form-control","text-lowercase",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit"],[1,"text","text-danger","mt-1"]],template:function(r,d){if(1&r){const c=e.RV6();e.j41(0,"div",1)(1,"header",2)(2,"h1",3),e.EFF(3,"Reschedule an Appointment"),e.k0s()(),e.j41(4,"form",4),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(d.submitForm(d.rescheduleForm.value))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),e.EFF(10,"Select Date & Time"),e.k0s(),e.j41(11,"div",10)(12,"input",11,0),e.mxI("ngModelChange",function(h){return e.eBV(c),e.DH7(d.model,h)||(d.model=h),e.Njj(h)}),e.k0s(),e.j41(14,"button",12),e.bIt("click",function(){e.eBV(c);const h=e.sdS(13);return e.Njj(h.toggle())}),e.nrm(15,"i",13),e.k0s()()()(),e.j41(16,"div",7)(17,"div",8)(18,"label",9),e.EFF(19,"Mention the cause "),e.k0s(),e.j41(20,"textarea",14),e.bIt("blur",function(){return e.eBV(c),e.Njj(d.trimInput())}),e.k0s(),e.DNE(21,D,2,1,"div",15),e.k0s()()()(),e.j41(22,"div",16)(23,"button",17),e.EFF(24,"Cancel"),e.k0s(),e.j41(25,"button",18),e.EFF(26,"Submit"),e.k0s()()()()}2&r&&(e.R7$(4),e.Y8G("formGroup",d.rescheduleForm),e.R7$(8),e.R50("ngModel",d.model),e.R7$(9),e.Y8G("ngIf",d.rescheduleForm.controls.rejectComment.touched&&d.rescheduleForm.controls.rejectComment.hasError("required")))},dependencies:[M.m_,l.Hl,l.$z,m.hM,m.tx,u.MD,u.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.vS,s.X1,s.j4,s.JD,E.G,I.cw],styles:[".reschedule--app--modal[_ngcontent-%COMP%]{padding:20px}.reschedule--app--modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2f3e;font-size:18px;margin-bottom:20px}"]})}return v})()},7278:(F,w,o)=>{o.d(w,{c:()=>M});var f=o(8834),u=o(4006),s=o(9213),l=o(4438),m=o(9417);let M=(()=>{class E{constructor(e,p,g){this.fb=e,this.dialogRef=p,this.data=g,this.successNote="",this.successNote=null!=g.successNote?g.successNote:this.successNote}static#e=this.\u0275fac=function(p){return new(p||E)(l.rXU(m.ok),l.rXU(u.CP),l.rXU(u.Vh))};static#o=this.\u0275cmp=l.VBU({type:E,selectors:[["app-success-modal"]],standalone:!0,features:[l.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(p,g){1&p&&(l.j41(0,"div",0)(1,"div",1),l.nrm(2,"img",2),l.j41(3,"p",3),l.EFF(4),l.k0s(),l.j41(5,"div",4)(6,"button",5),l.EFF(7,"Okay "),l.k0s()()()()),2&p&&(l.R7$(4),l.JRh(g.successNote),l.R7$(2),l.Y8G("mat-dialog-close",!0))},dependencies:[s.m_,f.Hl,f.$z,u.hM,u.tx]})}return E})()},7142:(F,w,o)=>{o.d(w,{b:()=>D});var f=o(4523),u=o(177),s=o(9417),l=o(8834),m=o(4006),M=o(9213),E=o(6817),R=o(5802),e=o(4438),p=o(3390),g=o(6992);function I(P,v){if(1&P&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&P){const C=e.XpG();e.R7$(),e.SpI(" ",C.validationMessages.required("your comment")," ")}}let D=(()=>{class P{constructor(C,a,r,d,c){this.commonService=C,this.authService=a,this.fb=r,this.dialogRef=d,this.data=c,this.validationMessages=R.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.fromId="",this.appointmentId=null!=c.appointmentId?c.appointmentId:"",this.userRole=null!=c.userRole?c.userRole:"",this.fromId=null!=c.fromId?c.fromId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rejectCommentForm=this.fb.group({rejectComment:["",[s.k0.required,s.k0.minLength(1),s.k0.maxLength(100)]]})}trimInput(){0!==(this.rejectCommentForm.controls.rejectComment.value||"").trim().length||this.rejectCommentForm.controls.rejectComment.setValue("")}submitForm(C){var a=this;return(0,f.A)(function*(){if(a.appointmentId){let r={query:{_id:a.appointmentId},fromId:a.fromId,fromRole:a.userRole,commentText:C.rejectComment};a.commonService.showLoader(),yield a.authService.apiRequest("post","appointment/cancelAppointment",r).subscribe(function(){var d=(0,f.A)(function*(c){a.commonService.hideLoader(),a.dialogRef.close(c)});return function(c){return d.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(a){return new(a||P)(e.rXU(p.h),e.rXU(g.u),e.rXU(s.ok),e.rXU(m.CP),e.rXU(m.Vh))};static#o=this.\u0275cmp=e.VBU({type:P,selectors:[["app-write-comment-modal"]],standalone:!0,features:[e.aNF],decls:18,vars:2,consts:[[1,"alert--wrapper","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600","font-18","mb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-3"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit"],[1,"text","text-danger","mt-1"]],template:function(a,r){1&a&&(e.j41(0,"div",0)(1,"header",1)(2,"h1",2),e.EFF(3,"Write a Comment"),e.k0s()(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return r.submitForm(r.rejectCommentForm.value)}),e.j41(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Mention the cause "),e.k0s(),e.j41(11,"textarea",8),e.bIt("blur",function(){return r.trimInput()}),e.k0s(),e.DNE(12,I,2,1,"div",9),e.k0s()()()(),e.j41(13,"div",10)(14,"button",11),e.EFF(15,"Cancel"),e.k0s(),e.j41(16,"button",12),e.EFF(17,"Submit"),e.k0s()()()()),2&a&&(e.R7$(4),e.Y8G("formGroup",r.rejectCommentForm),e.R7$(8),e.Y8G("ngIf",r.rejectCommentForm.controls.rejectComment.touched&&r.rejectCommentForm.controls.rejectComment.hasError("required")))},dependencies:[M.m_,l.Hl,l.$z,m.hM,m.tx,u.MD,u.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.j4,s.JD,E.G]})}return P})()}}]);