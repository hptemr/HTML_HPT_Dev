"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[711],{2806:(R,M,o)=>{o.d(M,{s:()=>g});var f=o(8834),c=o(4006),r=o(9213),i=o(7278),l=o(9417),v=o(177),p=o(9039),D=o(5802),e=o(4438),t=o(3390),C=o(758);function I(a,m){if(1&a){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function w(a,m){if(1&a){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function E(a,m){if(1&a&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.required("New password")," ")}}function F(a,m){if(1&a&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.password," ")}}function P(a,m){if(1&a){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function _(a,m){if(1&a){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function h(a,m){if(1&a&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.confirmPassword," ")}}function u(a,m){if(1&a&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&a){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.passwordMismatch," ")}}let g=(()=>{class a{constructor(n,d,s,O,j,T){this.dialog=n,this.fb=d,this.commonService=s,this.changePassDialogRef=O,this.adminService=j,this.data=T,this.validationMessages=D.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[l.k0.required,l.k0.pattern(p.y.password)]],confirmPassword:["",l.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){const d=n.get("newPassword"),s=n.get("confirmPassword");return s.value&&d.value!==s.value?{passwordMismatch:!0}:null}changePassword(){this.changePasswordForm.valid&&this.adminService.changePassword({confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId}).subscribe({next:d=>{d&&!d.error&&this.successModal(d)},error:d=>{d.error?.error&&this.commonService.openSnackBar(d.error?.message,"ERROR")}})}successModal(n){this.dialog.open(i.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:n.message}}).afterClosed().subscribe(s=>{s&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}static#e=this.\u0275fac=function(d){return new(d||a)(e.rXU(c.bZ),e.rXU(l.ok),e.rXU(t.h),e.rXU(c.CP),e.rXU(C.z),e.rXU(c.Vh))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(d,s){1&d&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,I,2,0,"div",10)(15,w,2,0),e.k0s(),e.DNE(16,E,2,1,"div",11)(17,F,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,P,2,0,"div",10)(26,_,2,0),e.k0s(),e.DNE(27,h,2,1,"div",11)(28,u,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return s.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&d&&(e.R7$(5),e.Y8G("formGroup",s.changePasswordForm),e.R7$(8),e.Y8G("type",s.showNewPass?"text":"password"),e.R7$(),e.vxM(14,s.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",s.changePasswordForm.controls.newPassword.touched&&s.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",s.changePasswordForm.controls.newPassword.touched&&s.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",s.showConfPass?"text":"password"),e.R7$(),e.vxM(25,s.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",s.changePasswordForm.controls.confirmPassword.touched&&s.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",s.changePasswordForm.hasError("passwordMismatch")&&s.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!s.changePasswordForm.valid))},dependencies:[r.m_,f.Hl,f.$z,c.hM,c.tx,v.MD,v.bT,l.YN,l.qT,l.me,l.BC,l.cb,l.X1,l.j4,l.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return a})()},8920:(R,M,o)=>{o.d(M,{e:()=>h});var f=o(4523),c=o(177),r=o(9417),i=o(8834),l=o(4006),v=o(9213),p=o(2244),D=o(5802),e=o(446),t=o(4438),C=o(3390),I=o(6992),w=o(5084),E=o(2102),F=o(9631);function P(u,g){if(1&u&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&u){const a=t.XpG();t.R7$(),t.SpI(" ",a.validationMessages.requiredDropdown("Appointment Date")," ")}}function _(u,g){if(1&u&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&u){const a=t.XpG();t.R7$(),t.SpI(" ",a.validationMessages.required("your comment")," ")}}let h=(()=>{class u{constructor(a,m,n,d,s){this.commonService=a,this.authService=m,this.fb=n,this.dialogRef=d,this.data=s,this.validationMessages=D.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.todayDate=new Date,this.appointmentId=null!=s.appointmentId?s.appointmentId:"",this.userRole=null!=s.userRole?s.userRole:"",this.userId=null!=s.userId?s.userId:""}ngOnInit(){this.maxAppntDate=new Date,this.maxAppntDate.setMonth(this.maxAppntDate.getMonth()+e.Em),this.initializeForm()}initializeForm(){this.rescheduleForm=this.fb.group({appointmentDate:["",[r.k0.required]],comment:["",[r.k0.required,r.k0.minLength(1),r.k0.maxLength(100)]]})}trimInput(){0!==(this.rescheduleForm.controls.comment.value||"").trim().length||this.rescheduleForm.controls.comment.setValue("")}submitForm(a){var m=this;return(0,f.A)(function*(){if(m.appointmentId){let n={query:{_id:m.appointmentId},updateInfo:{status:"Rescheduled",appointmentDate:a.appointmentDate,rescheduleInfo:{fromPatientId:m.userId,fromAdminId:m.userId,userRole:m.userRole,comment:a.comment}}};yield m.authService.apiRequest("post","appointment/rescheduleAppointment",n).subscribe(function(){var d=(0,f.A)(function*(s){m.dialogRef.close(s)});return function(s){return d.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(m){return new(m||u)(t.rXU(C.h),t.rXU(I.u),t.rXU(r.ok),t.rXU(l.CP),t.rXU(l.Vh))};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["app-reschedule-appointment-modal"]],standalone:!0,features:[t.aNF],decls:29,vars:8,consts:[["picker",""],[1,"reschedule--app--modal","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600"],[1,"row",3,"ngSubmit","formGroup"],[1,"ra--body","w-100"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"input-group"],[1,"w-100","am--datepicker"],["formControlName","appointmentDate","readonly","","placeholder","MM-DD-YYYY","matInput","",3,"min","max","matDatepicker"],["matIconSuffix","",3,"for"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Write your comment here","formControlName","comment","rows","4",1,"form-control",3,"blur"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(m,n){if(1&m){const d=t.RV6();t.j41(0,"div",1)(1,"header",2)(2,"h1",3),t.EFF(3,"Reschedule an Appointment"),t.k0s()(),t.j41(4,"form",4),t.bIt("ngSubmit",function(){return t.eBV(d),t.Njj(n.submitForm(n.rescheduleForm.value))}),t.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),t.EFF(10,"Select Date"),t.k0s(),t.j41(11,"div",10)(12,"mat-form-field",11),t.nrm(13,"input",12)(14,"mat-datepicker-toggle",13)(15,"mat-datepicker",null,0),t.k0s()(),t.DNE(17,P,2,1,"div",14),t.k0s()(),t.j41(18,"div",7)(19,"div",8)(20,"label",9),t.EFF(21,"Mention the cause "),t.k0s(),t.j41(22,"textarea",15),t.bIt("blur",function(){return t.eBV(d),t.Njj(n.trimInput())}),t.k0s(),t.DNE(23,_,2,1,"div",14),t.k0s()()()(),t.j41(24,"div",16)(25,"button",17),t.EFF(26,"Cancel"),t.k0s(),t.j41(27,"button",18),t.EFF(28,"Submit"),t.k0s()()()()}if(2&m){const d=t.sdS(16);t.R7$(4),t.Y8G("formGroup",n.rescheduleForm),t.R7$(9),t.Y8G("min",n.todayDate)("max",n.maxAppntDate)("matDatepicker",d),t.R7$(),t.Y8G("for",d),t.R7$(3),t.Y8G("ngIf",n.rescheduleForm.controls.appointmentDate.touched&&n.rescheduleForm.controls.appointmentDate.hasError("required")),t.R7$(6),t.Y8G("ngIf",n.rescheduleForm.controls.comment.touched&&n.rescheduleForm.controls.comment.hasError("required")),t.R7$(4),t.Y8G("disabled",n.rescheduleForm.invalid)}},dependencies:[v.m_,i.Hl,i.$z,l.hM,l.tx,c.MD,c.bT,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,p.G,w.Vh,w.bZ,w.bU,E.rl,E.yw,F.fg],styles:[".reschedule--app--modal[_ngcontent-%COMP%]{padding:20px}.reschedule--app--modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2f3e;font-size:18px;margin-bottom:20px}"]})}return u})()},7278:(R,M,o)=>{o.d(M,{c:()=>v});var f=o(8834),c=o(4006),r=o(9213),i=o(4438),l=o(9417);let v=(()=>{class p{constructor(e,t,C){this.fb=e,this.dialogRef=t,this.data=C,this.successNote="",this.successNote=null!=C.successNote?C.successNote:this.successNote}static#e=this.\u0275fac=function(t){return new(t||p)(i.rXU(l.ok),i.rXU(c.CP),i.rXU(c.Vh))};static#t=this.\u0275cmp=i.VBU({type:p,selectors:[["app-success-modal"]],standalone:!0,features:[i.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,C){1&t&&(i.j41(0,"div",0)(1,"div",1),i.nrm(2,"img",2),i.j41(3,"p",3),i.EFF(4),i.k0s(),i.j41(5,"div",4)(6,"button",5),i.EFF(7,"Okay "),i.k0s()()()()),2&t&&(i.R7$(4),i.JRh(C.successNote),i.R7$(2),i.Y8G("mat-dialog-close",!0))},dependencies:[r.m_,f.Hl,f.$z,c.hM,c.tx]})}return p})()},7142:(R,M,o)=>{o.d(M,{b:()=>w});var f=o(4523),c=o(177),r=o(9417),i=o(8834),l=o(4006),v=o(9213),p=o(2244),D=o(5802),e=o(4438),t=o(3390),C=o(6992);function I(E,F){if(1&E&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&E){const P=e.XpG();e.R7$(),e.SpI(" ",P.validationMessages.required("your comment")," ")}}let w=(()=>{class E{constructor(P,_,h,u,g){this.commonService=P,this.authService=_,this.fb=h,this.dialogRef=u,this.data=g,this.validationMessages=D.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.appointmentId=null!=g.appointmentId?g.appointmentId:"",this.userRole=null!=g.userRole?g.userRole:"",this.userId=null!=g.userId?g.userId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rejectCommentForm=this.fb.group({rejectComment:["",[r.k0.required,r.k0.minLength(1),r.k0.maxLength(100)]]})}trimInput(){0!==(this.rejectCommentForm.controls.rejectComment.value||"").trim().length||this.rejectCommentForm.controls.rejectComment.setValue("")}submitForm(P){var _=this;return(0,f.A)(function*(){if(_.appointmentId){let h={query:{_id:_.appointmentId},updateInfo:{status:"Cancelled",rejectInfo:{fromPatientId:_.userId,fromAdminId:_.userId,userRole:_.userRole,comment:P.rejectComment,rejectedDate:new Date}}};yield _.authService.apiRequest("post","appointment/cancelAppointment",h).subscribe(function(){var u=(0,f.A)(function*(g){_.dialogRef.close(g)});return function(g){return u.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(_){return new(_||E)(e.rXU(t.h),e.rXU(C.u),e.rXU(r.ok),e.rXU(l.CP),e.rXU(l.Vh))};static#t=this.\u0275cmp=e.VBU({type:E,selectors:[["app-write-comment-modal"]],standalone:!0,features:[e.aNF],decls:20,vars:3,consts:[[1,"alert--wrapper","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600","font-18","mb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-3"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(_,h){1&_&&(e.j41(0,"div",0)(1,"header",1)(2,"h1",2),e.EFF(3,"Write a Comment"),e.k0s()(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return h.submitForm(h.rejectCommentForm.value)}),e.j41(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10," Mention the cause "),e.j41(11,"span",8),e.EFF(12," *"),e.k0s()(),e.j41(13,"textarea",9),e.bIt("blur",function(){return h.trimInput()}),e.k0s(),e.DNE(14,I,2,1,"div",10),e.k0s()()()(),e.j41(15,"div",11)(16,"button",12),e.EFF(17,"Cancel"),e.k0s(),e.j41(18,"button",13),e.EFF(19,"Submit"),e.k0s()()()()),2&_&&(e.R7$(4),e.Y8G("formGroup",h.rejectCommentForm),e.R7$(10),e.Y8G("ngIf",h.rejectCommentForm.controls.rejectComment.touched&&h.rejectCommentForm.controls.rejectComment.hasError("required")),e.R7$(4),e.Y8G("disabled",h.rejectCommentForm.invalid))},dependencies:[v.m_,i.Hl,i.$z,l.hM,l.tx,c.MD,c.bT,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,p.G]})}return E})()},7664:(R,M,o)=>{o.d(M,{o:()=>r});var f=o(4710),c=o(4438);let r=(()=>{class i{constructor(v){this.router=v,this.history=[],this.router.events.subscribe(p=>{p instanceof f.Z&&this.history.push(p.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(p){return new(p||i)(c.KVO(f.Ix))};static#t=this.\u0275prov=c.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);