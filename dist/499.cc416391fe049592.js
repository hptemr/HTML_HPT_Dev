"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[499],{4499:(he,S,m)=>{m.r(S),m.d(S,{SupportTeamModule:()=>de});var g=m(177),p=m(9417),L=m(5063),u=m(2168),M=m(263),G=m(4205),B=m(2843),V=m(3716),Y=m(4288),O=m(7706),P=m(9500),X=m(3850),z=m(4152),U=m(423),q=m(7785),H=m(1641),h=m(4523),c=m(9159),f=m(446),A=m(5802),J=m(4494),t=m(4438),D=m(4006),k=m(6992),j=m(3390),y=m(8834),_=m(5084),E=m(2102),R=m(9213),I=m(9631),F=m(6695),b=m(2042);const Z=()=>["/support-team/referrals/appointment"],w=n=>["/support-team/referrals/appointment",n];function W(n,i){if(1&n&&(t.j41(0,"option",40),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e),t.R7$(),t.SpI("",e," ")}}function K(n,i){1&n&&(t.j41(0,"th",41),t.EFF(1," Appointment # "),t.k0s())}function Q(n,i){if(1&n&&(t.j41(0,"td",42)(1,"div",43)(2,"div",44),t.nrm(3,"img",45),t.k0s(),t.j41(4,"div")(5,"h2",46),t.EFF(6),t.k0s(),t.j41(7,"p",47)(8,"mat-icon",48),t.EFF(9,"mail"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p",49),t.EFF(12,"Appointment Date "),t.k0s(),t.j41(13,"p",50),t.EFF(14),t.nI1(15,"date"),t.k0s()()()()),2&n){const e=i.$implicit;t.R7$(3),t.FS9("src",e.profileImage,t.B4B),t.R7$(3),t.JRh(e.fullName),t.R7$(4),t.SpI(" ",e.email," "),t.R7$(4),t.SpI(" ",t.i5U(15,4,e.appointmentDate,"EEE, MMMM d, y"),"")}}function tt(n,i){1&n&&(t.j41(0,"th",51),t.EFF(1," Appointment Date "),t.k0s())}function et(n,i){if(1&n&&(t.j41(0,"td",42)(1,"p",49),t.EFF(2," Practice Location: "),t.j41(3,"span",52),t.EFF(4),t.k0s()(),t.j41(5,"p",49),t.EFF(6," Therapist: "),t.j41(7,"span",52),t.EFF(8),t.k0s()(),t.j41(9,"p",49),t.EFF(10," Referred By: "),t.j41(11,"span",52),t.EFF(12),t.k0s()()()),2&n){const e=i.$implicit;t.R7$(4),t.JRh(e.practiceLocation),t.R7$(4),t.JRh(e.therapistName),t.R7$(4),t.JRh(e.referredBy)}}function nt(n,i){1&n&&(t.j41(0,"th",53),t.EFF(1," Actions "),t.k0s())}function at(n,i){1&n&&(t.j41(0,"a",59),t.EFF(1,"Pending Intake Form"),t.k0s())}function ot(n,i){if(1&n&&(t.j41(0,"button",60)(1,"mat-icon",61),t.EFF(2,"visibility "),t.k0s()()),2&n){const e=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(1,w,e.id))}}function rt(n,i){if(1&n&&(t.j41(0,"button",60)(1,"mat-icon",61),t.EFF(2,"edit "),t.k0s()()),2&n){const e=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(1,w,e.id))}}function it(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",62),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.deleteAppointment(a.appointmentId))}),t.j41(1,"mat-icon",61),t.EFF(2,"delete "),t.k0s()()}}function st(n,i){if(1&n&&(t.j41(0,"td",42)(1,"div",54),t.DNE(2,at,2,0,"a",55),t.j41(3,"div",56),t.DNE(4,ot,3,3,"button",57)(5,rt,3,3,"button",57)(6,it,3,0,"button",58),t.k0s(),t.j41(7,"p",49),t.EFF(8," Sent on "),t.j41(9,"span",52),t.EFF(10),t.nI1(11,"date"),t.k0s()()()()),2&n){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",!e.intakeFormSubmit),t.R7$(2),t.Y8G("ngIf","Pending"!=e.status),t.R7$(),t.Y8G("ngIf","Pending"==e.status),t.R7$(),t.Y8G("ngIf","Pending"==e.status),t.R7$(4),t.SpI(" ",t.i5U(11,5,e.sentOn,"EEE, MMMM d, y")," ")}}function lt(n,i){1&n&&t.nrm(0,"tr",63)}function mt(n,i){1&n&&t.nrm(0,"tr",64)}function pt(n,i){if(1&n&&(t.j41(0,"div",65)(1,"div",66),t.nrm(2,"img",67),t.j41(3,"p",68),t.EFF(4),t.k0s()()()),2&n){const e=t.XpG();t.R7$(4),t.JRh(e.validationMessages.noRecords)}}const ct=[];let dt=(()=>{class n{constructor(e,r,a,o){this.dialog=e,this.authService=r,this.commonService=a,this.router=o,this.displayedColumns=["info","referred","action"],this.referralList=new c.I6(ct),this.appointmentStatus=f.K0,this.practiceLocations=f.WM,this.validationMessages=A.q,this.orderBy={createdAt:-1},this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=f.T0,this.pageSizeOptions=f.Xe,this.referredBy="",this.therapistName="",this.practiceLocVal="",this.sentOn="",this.appointmentDate="",this.maxToDate=this.commonService.getMaxAppoinmentFutureMonths(),this.maxSentDate=new Date,this.refferalId=""}ngOnInit(){this.getReferralList()}getReferralList(e=""){var r=this;return(0,h.A)(function*(){""==e&&r.commonService.showLoader();let a={queryMatch:r.whereCond,order:r.orderBy,limit:r.pageSize,offset:r.pageIndex*r.pageSize};yield r.authService.apiRequest("post","referral/getReferralList",a).subscribe(function(){var o=(0,h.A)(function*(l){r.commonService.hideLoader(),console.log(l.data),r.totalCount=l.data.totalCount;let s=[];yield l.data.referralList.map(d=>{s.push({id:d._id,referredBy:d.referredBy,sentOn:d.createdAt,fullName:d.patient.firstName+" "+d.patient.lastName,email:d.patient.email,profileImage:f.ns.awsS3Url+f.ns.userProfileFolderPath+d.patient.profileImage,status:d.appointment.status,appointmentId:d.appointment._id,appointmentDate:d.appointment.appointmentDate,practiceLocation:d.appointment.practiceLocation,intakeFormSubmit:d.appointment.intakeFormSubmit,therapistName:d.therapist?d.therapist.firstName+" "+d.therapist.lastName:"NA"})}),r.referralList=new c.I6(s)});return function(l){return o.apply(this,arguments)}}())})()}onDateChange(e,r){let a,o=new Date(e.value);a="appointmentDate"==r?{appointmentDate:o}:{createdAt:o},Object.assign(this.whereCond,a),this.getReferralList("search")}searchRecords(e,r){let a=e.target.value.trim();if(""!=a){let o;a=a.replace("+","\\+");let l={$regex:a,$options:"i"};o="referredBy"==r?{referredBy:l}:{$or:[{"therapist.firstName":l},{"therapist.lastName":l}]},Object.assign(this.whereCond,o)}else delete this.whereCond[r];this.getReferralList("search")}handlePageEvent(e){this.pageSize=e.pageSize,this.pageIndex=e.pageIndex,this.getReferralList()}reset(){this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=f.T0,this.pageSizeOptions=f.Xe,this.sentOn="",this.referredBy="",this.therapistName="",this.practiceLocVal="",this.appointmentDate="",this.getReferralList("reset")}filterDropDown(e){""!=e.target.value?Object.assign(this.whereCond,{"appointment.practiceLocation":e.target.value}):delete this.whereCond["appointment.practiceLocation"],this.getReferralList("search")}deleteAppointment(e){var r=this;this.dialog.open(J.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this appointment?"}}).afterClosed().subscribe(o=>{o&&this.authService.apiRequest("post","referral/deleteAppointment",{appointmentId:e}).subscribe(function(){var s=(0,h.A)(function*(d){d.error?r.commonService.openSnackBar(d.message,"ERROR"):(r.getReferralList(""),r.commonService.openSnackBar(d.message,"SUCCESS"))});return function(d){return s.apply(this,arguments)}}(),s=>{console.error(s)})})}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(D.bZ),t.rXU(k.u),t.rXU(j.h),t.rXU(u.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-referrals"]],decls:67,vars:23,consts:[["picker1",""],["picker2",""],["paginator",""],[1,"col-12","referrals--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-0","clr--1F2F3E"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Referred By",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],["type","text","placeholder","Therapist Name",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],[1,"input-group"],[1,"w-100","am--datepicker"],["readonly","true","placeholder","Send On","matInput","",3,"ngModelChange","dateChange","ngModel","max","matDatepicker"],["matIconSuffix","",3,"for"],["readonly","true","placeholder","Appointment Date","matInput","",3,"ngModelChange","dateChange","ngModel","max","matDatepicker"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"dataSource"],["matColumnDef","info"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","referred"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],[1,"d-flex","align-items-start"],[1,"img--box","flex-shrink-0"],["alt","",1,"img-fluid",3,"src"],[1,"mb-1","font-16","text-primary","clr--1F2F3E","fw-500"],[1,"mb-1","font-14","text-primary","clr--1F2F3E","d-flex","align-items-center","wb-ba"],[1,"mail-con","text-primary","me-2","flex-shrink-0"],[1,"mb-0","font-14","text-primary","clr--1F2F3E","fw-700"],[1,"mb-0","font-14","text-primary","clr--1F2F3E"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],[1,"fw-400"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-end","justify-content-end","flex-column"],["class","font-14 pending--link",4,"ngIf"],[1,"d-flex","w-100","my-2","justify-content-end"],["mat-button","","class","flex-shrink-0 min-width-unset",3,"routerLink",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset",3,"click",4,"ngIf"],[1,"font-14","pending--link"],["mat-button","",1,"flex-shrink-0","min-width-unset",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-button","",1,"flex-shrink-0","min-width-unset",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5,"Referrals"),t.k0s(),t.j41(6,"button",8)(7,"mat-icon",9),t.EFF(8," add_circle "),t.k0s(),t.EFF(9," Create Appointment "),t.k0s()(),t.j41(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"select",14),t.mxI("ngModelChange",function(s){return t.eBV(o),t.DH7(a.practiceLocVal,s)||(a.practiceLocVal=s),t.Njj(s)}),t.bIt("change",function(s){return t.eBV(o),t.Njj(a.filterDropDown(s))}),t.j41(15,"option",15),t.EFF(16,"Practice Location"),t.k0s(),t.DNE(17,W,2,2,"option",16),t.k0s()()(),t.j41(18,"div",12)(19,"div",13)(20,"input",17),t.mxI("ngModelChange",function(s){return t.eBV(o),t.DH7(a.referredBy,s)||(a.referredBy=s),t.Njj(s)}),t.bIt("keyup",function(s){return t.eBV(o),t.Njj(a.searchRecords(s,"referredBy"))}),t.k0s(),t.j41(21,"button",18)(22,"mat-icon",9),t.EFF(23,"search "),t.k0s()()()(),t.j41(24,"div",12)(25,"div",13)(26,"input",19),t.mxI("ngModelChange",function(s){return t.eBV(o),t.DH7(a.therapistName,s)||(a.therapistName=s),t.Njj(s)}),t.bIt("keyup",function(s){return t.eBV(o),t.Njj(a.searchRecords(s,"therapistName"))}),t.k0s(),t.j41(27,"button",18)(28,"mat-icon",9),t.EFF(29,"search "),t.k0s()()()(),t.j41(30,"div",12)(31,"div",13)(32,"div",20)(33,"mat-form-field",21)(34,"input",22),t.mxI("ngModelChange",function(s){return t.eBV(o),t.DH7(a.sentOn,s)||(a.sentOn=s),t.Njj(s)}),t.bIt("dateChange",function(s){return t.eBV(o),t.Njj(a.onDateChange(s,"createdAt"))}),t.k0s(),t.nrm(35,"mat-datepicker-toggle",23)(36,"mat-datepicker",null,0),t.k0s()()()(),t.j41(38,"div",12)(39,"div",13)(40,"div",20)(41,"mat-form-field",21)(42,"input",24),t.mxI("ngModelChange",function(s){return t.eBV(o),t.DH7(a.appointmentDate,s)||(a.appointmentDate=s),t.Njj(s)}),t.bIt("dateChange",function(s){return t.eBV(o),t.Njj(a.onDateChange(s,"appointmentDate"))}),t.k0s(),t.nrm(43,"mat-datepicker-toggle",23)(44,"mat-datepicker",null,1),t.k0s()()()(),t.j41(46,"div",12)(47,"div",13)(48,"button",25),t.bIt("click",function(){return t.eBV(o),t.Njj(a.reset())}),t.EFF(49,"Reset Filter"),t.k0s()()()()()(),t.j41(50,"div",26)(51,"div",27)(52,"table",28),t.qex(53,29),t.DNE(54,K,2,0,"th",30)(55,Q,16,7,"td",31),t.bVm(),t.qex(56,32),t.DNE(57,tt,2,0,"th",33)(58,et,13,3,"td",31),t.bVm(),t.qex(59,34),t.DNE(60,nt,2,0,"th",35)(61,st,12,8,"td",31),t.bVm(),t.DNE(62,lt,1,0,"tr",36)(63,mt,1,0,"tr",37),t.k0s(),t.DNE(64,pt,5,1,"div",38),t.j41(65,"mat-paginator",39,2),t.bIt("page",function(s){return t.eBV(o),t.Njj(a.handlePageEvent(s))}),t.k0s()()()()()}if(2&r){const o=t.sdS(37),l=t.sdS(45);t.R7$(6),t.Y8G("routerLink",t.lJ4(22,Z)),t.R7$(8),t.R50("ngModel",a.practiceLocVal),t.R7$(3),t.Y8G("ngForOf",a.practiceLocations),t.R7$(3),t.R50("ngModel",a.referredBy),t.R7$(6),t.R50("ngModel",a.therapistName),t.R7$(8),t.R50("ngModel",a.sentOn),t.Y8G("max",a.maxSentDate)("matDatepicker",o),t.R7$(),t.Y8G("for",o),t.R7$(7),t.R50("ngModel",a.appointmentDate),t.Y8G("max",a.maxToDate)("matDatepicker",l),t.R7$(),t.Y8G("for",l),t.R7$(9),t.Y8G("dataSource",a.referralList),t.R7$(10),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(),t.Y8G("ngIf",a.referralList&&0==a.referralList.filteredData.length),t.R7$(),t.Y8G("length",a.totalCount)("pageSize",a.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",a.pageSizeOptions)("pageIndex",a.pageIndex)}},dependencies:[g.Sq,g.bT,u.Wk,p.xH,p.y7,p.me,p.wz,p.BC,p.vS,y.$z,_.Vh,_.bZ,_.bU,E.rl,E.yw,R.An,I.fg,F.iy,b.B4,b.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,g.vh],styles:[".referrals--wrapper .cust--mat--table{margin-top:20px}  .referrals--wrapper .cust--mat--table thead{display:none}  .referrals--wrapper .cust--mat--table tbody tr td .mail-con{height:16px;width:16px;font-size:16px}  .referrals--wrapper .cust--mat--table tbody tr td .wb-ba{word-break:break-all}  .referrals--wrapper .cust--mat--table tbody tr td .pending--link{color:#1e87f0}  .referrals--wrapper .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .referrals--wrapper .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:40%}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(2){width:35%}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(3){width:200px}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1){width:40%}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(2){width:35%}  .referrals--wrapper .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(3){width:200px}@media only screen and (max-width: 599px){.referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table{width:860px}}@media screen and (orientation: landscape) and (max-width: 850px){.referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(1), .referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(1){width:40%}.referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:nth-child(2), .referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:nth-child(2){width:40%}.referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table tbody tr td:last-child, .referrals--wrapper[_ngcontent-%COMP%]     .cust--mat--table.box--row--table.mat-mdc-table thead tr th:last-child{width:20%}}"]})}return n})();var ut=m(7278),C=m(9039),ht=m(4511),ft=m(6555),gt=m(152);const N=()=>["/support-team/referrals"];function bt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("an email address")," ")}}function _t(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.validEmail," ")}}function vt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("your First Name")," ")}}function Ft(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.alphabeticChar("First Name")," ")}}function Ct(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("your Last Name")," ")}}function Dt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.alphabeticChar("Last Name")," ")}}function kt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.requiredDropdown("Appointment Date")," ")}}function yt(n,i){if(1&n&&(t.j41(0,"option",41),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function Et(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.requiredDropdown("Practice Location")," ")}}function Rt(n,i){if(1&n&&(t.j41(0,"option",41),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}function St(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.requiredDropdown("Therapist")," ")}}function At(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("Doctor Name")," ")}}function jt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("a valid phone number")," ")}}function It(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.invalidPhoneNumber," ")}}function wt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("Street Name")," ")}}function Nt(n,i){if(1&n&&(t.j41(0,"option",42),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e.state_code),t.R7$(),t.JRh(e.state)}}function xt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.requiredDropdown("State")," ")}}function $t(n,i){if(1&n&&(t.j41(0,"option",41),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.FS9("value",e.city),t.R7$(),t.JRh(e.city)}}function Tt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.requiredDropdown("City")," ")}}function Lt(n,i){if(1&n&&(t.j41(0,"div",40),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",e.validationMessages.required("a valid postal code")," ")}}function Mt(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.createAppointment())}),t.EFF(1," Invite "),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",!e.createAppointmentForm.valid||e.clickOnCreateAppointment)}}function Gt(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",43),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updateAppointment())}),t.EFF(1," Update "),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("disabled",!e.createAppointmentForm.valid||e.clickOnUpdateAppointment)}}let x=(()=>{class n{constructor(e,r,a,o,l,s){this.dialog=e,this.authService=r,this.commonService=a,this.fb=o,this.router=l,this.activatedRoute=s,this.regexPattern=C.y,this.validationMessages=A.q,this.practiceLocationData=f.WM,this.orderBy={updatedAt:-1},this.options=[],this.therapistList=[],this.convertPhoneNumber="",this.todayDate=new Date,this.states=ht.G,this.cities=[],this.existingEmail=new p.MJ(""),this.patientData={_id:"",firstName:"",lastName:""},this.isEmailExist=!1,this.clickOnCreateAppointment=!1,this.clickOnUpdateAppointment=!1,this.refferalId="",this.isViewAppointment=!1,this.activatedRoute.params.subscribe(d=>{this.refferalId=d.refferalId})}ngOnInit(){this.initializeAdminProfile(),this.getTherapistList(),this.getEmail(),this.refferalId&&this.getAppointmentDataById(this.refferalId)}initializeAdminProfile(){this.createAppointmentForm=this.fb.group({firstName:["",[p.k0.required,p.k0.pattern(C.y.alphabetic)]],lastName:["",[p.k0.required,p.k0.pattern(C.y.alphabetic)]],email:["",[p.k0.required,p.k0.email]],appointmentDate:["",[p.k0.required]],phoneNumber:["",[p.k0.required,p.k0.pattern(C.y.usPhoneNumber)]],practiceLocation:["",[p.k0.required]],therapist:["",[p.k0.required]],referredBy:["",[p.k0.required]],streetName:["",[p.k0.required]],appartment:[""],state:["",[p.k0.required]],city:["",[p.k0.required]],zipcode:["",[p.k0.pattern(C.y.onlyNumeric)]]})}getTherapistList(){var e=this;return(0,h.A)(function*(){let r={query:{role:"therapist",status:"Active"},fields:{_id:1,firstName:1,lastName:1},order:e.orderBy};yield e.authService.apiRequest("post","admin/getTherapistList",r).subscribe(function(){var a=(0,h.A)(function*(o){o.data&&o.data.therapistData&&(e.therapistList=o.data.therapistData)});return function(o){return a.apply(this,arguments)}}())})()}onPhoneInputChange(e){this.convertPhoneNumber=this.commonService.formatPhoneNumber(e.target.value)}onStateChange(e){this.createAppointmentForm.controls.city.setValue(""),this.getCitiesByState(e)}getCitiesByState(e){return this.cities=ft.z.filter(r=>r.state_code===e)}createAppointment(){var e=this;if(this.createAppointmentForm.valid){this.clickOnCreateAppointment=!0,this.commonService.showLoader();let r=this.createAppointmentForm.value;r.isEmailExist=this.isEmailExist,r.patientId=this.isEmailExist?this.patientData._id:"",console.log("bodyData>>",r),this.authService.apiRequest("post","referral/createAppointment",r).subscribe(function(){var a=(0,h.A)(function*(o){e.commonService.openSnackBar(o.message,"SUCCESS"),e.commonService.hideLoader(),e.router.navigate(["/support-team/referrals"])});return function(o){return a.apply(this,arguments)}}(),a=>{this.commonService.hideLoader(),console.log("createAppointment Err>>>",a),a.error?.error&&this.commonService.openSnackBar(a.error?.message,"ERROR"),this.router.navigate(["/support-team/referrals"])})}}getEmail(){this.createAppointmentForm.controls.email.valueChanges.pipe((0,gt.B)(300)).subscribe(e=>{this.checkExistingEmail(e)})}checkExistingEmail(e){this.isEmailExist=!1,this.createAppointmentForm.controls.firstName.setValue(""),this.createAppointmentForm.controls.lastName.setValue(""),this.patientData={_id:"",firstName:"",lastName:""},e&&this.regexPattern.email.test(e)&&this.authService.apiRequest("post","patients/getPatientData",{query:{email:e},fields:{firstName:1,lastName:1}}).subscribe(a=>{a.data.patientData&&null!=a.data.patientData&&(this.patientData=a.data.patientData,this.createAppointmentForm.controls.firstName.setValue(this.patientData.firstName),this.createAppointmentForm.controls.lastName.setValue(this.patientData.lastName),this.isEmailExist=!0)},a=>{})}successModal(){this.dialog.open(ut.c,{panelClass:"custom-alert-container",data:{successNote:"Your invite has been sent successfully!"}})}onChange(e){console.log(this.selectedValue=e.value)}getAppointmentDataById(e){this.authService.apiRequest("post","referral/getAppointmentDataById",{referralId:e}).subscribe(a=>{if(!a.error&&a.data.length){let o=a.data[0];this.createAppointmentForm.controls.firstName.setValue(o.patient.firstName),this.createAppointmentForm.controls.lastName.setValue(o.patient.lastName),this.createAppointmentForm.controls.email.setValue(o.patient.email),this.createAppointmentForm.controls.firstName.disable(),this.createAppointmentForm.controls.lastName.disable(),this.createAppointmentForm.controls.email.disable(),this.createAppointmentForm.controls.appointmentDate.setValue(o.appointment.appointmentDate),this.createAppointmentForm.controls.practiceLocation.setValue(o.appointment.practiceLocation),this.createAppointmentForm.controls.therapist.setValue(o.therapist._id),this.createAppointmentForm.controls.referredBy.setValue(o.referredBy),this.createAppointmentForm.controls.phoneNumber.setValue(o.phone),this.createAppointmentForm.controls.streetName.setValue(o.streetName),this.createAppointmentForm.controls.appartment.setValue(o.appartment),this.createAppointmentForm.controls.state.setValue(o.state),this.createAppointmentForm.controls.city.setValue(o.city),this.createAppointmentForm.controls.zipcode.setValue(o.zipcode),"Pending"!=o.appointment.status&&(this.isViewAppointment=!0,this.createAppointmentForm.disable())}},a=>{})}updateAppointment(){var e=this;if(this.createAppointmentForm.valid){this.clickOnUpdateAppointment=!0,this.commonService.showLoader();let r=this.createAppointmentForm.value;r.refferalId=this.refferalId,this.authService.apiRequest("post","referral/updateAppointment",r).subscribe(function(){var a=(0,h.A)(function*(o){e.commonService.openSnackBar(o.message,"SUCCESS"),e.commonService.hideLoader(),e.router.navigate(["/support-team/referrals"])});return function(o){return a.apply(this,arguments)}}(),a=>{this.commonService.hideLoader(),a.error?.error&&this.commonService.openSnackBar(a.error?.message,"ERROR"),this.router.navigate(["/support-team/referrals"])})}}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU(D.bZ),t.rXU(k.u),t.rXU(j.h),t.rXU(p.ok),t.rXU(u.Ix),t.rXU(u.nX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-create-appointment"]],decls:140,vars:32,consts:[["picker",""],[1,"container-fluid","book--appointment--wrapper"],[1,"row"],[1,"col-12","d-flex","align-items-center","mb-2"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600","d-flex","flex-wrap"],[1,"me-3"],[1,"card","m-0"],[3,"formGroup"],[1,"col-12","col-lg-6","col-md-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","email","placeholder","Enter Email","formControlName","email",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Enter First Name","formControlName","firstName","maxlength","35",1,"form-control"],["type","text","placeholder","Enter Last Name","formControlName","lastName","maxlength","35",1,"form-control"],[1,"input-group"],[1,"w-100","am--datepicker"],["formControlName","appointmentDate","placeholder","Select Date","matInput","",3,"min","matDatepicker"],["matIconSuffix","",3,"for"],["aria-label","Default select example","formControlName","practiceLocation",1,"form-select","form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","therapist",1,"form-select","form-control"],["type","text","placeholder","Enter Doctor Name","formControlName","referredBy","maxlength","200",1,"form-control"],["type","text","placeholder","Enter Phone Number","formControlName","phoneNumber","maxlength","15",1,"form-control",3,"input","value"],[1,"col-12"],[1,"text-uppercase","font-16","fw-700","mb-2","mt-4"],["type","text","placeholder","Enter Address","formControlName","streetName","maxlength","1000",1,"form-control"],["type","text","placeholder","Enter Apartment #","formControlName","appartment","maxlength","200",1,"form-control"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control",3,"ngModelChange"],["selected","","value",""],[3,"value","selected",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","city",1,"form-select","form-control"],["type","text","placeholder","Enter Postal Code","formControlName","zipcode","maxlength","6",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","w-100","footer--btns"],["mat-stroked-button","","color","primary",1,"m-1",3,"routerLink"],["mat-raised-button","","color","primary","class","m-1",3,"disabled","click",4,"ngIf"],[1,"text","text-danger","mt-1"],[3,"value"],[3,"value","selected"],["mat-raised-button","","color","primary",1,"m-1",3,"click","disabled"]],template:function(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4)(4,"mat-icon",5),t.EFF(5," keyboard_backspace "),t.k0s()(),t.j41(6,"h3",6)(7,"span",7),t.EFF(8),t.k0s()()()(),t.j41(9,"div",8)(10,"form",9)(11,"div",2)(12,"div",10)(13,"div",11)(14,"label",12),t.EFF(15,"Email "),t.j41(16,"span",13),t.EFF(17," * "),t.k0s()(),t.nrm(18,"input",14),t.DNE(19,bt,2,1,"div",15)(20,_t,2,1,"div",15),t.k0s()(),t.j41(21,"div",10)(22,"div",11)(23,"label",12),t.EFF(24,"First Name "),t.j41(25,"span",13),t.EFF(26," * "),t.k0s()(),t.nrm(27,"input",16),t.DNE(28,vt,2,1,"div",15)(29,Ft,2,1,"div",15),t.k0s()(),t.j41(30,"div",10)(31,"div",11)(32,"label",12),t.EFF(33,"Last Name "),t.j41(34,"span",13),t.EFF(35," * "),t.k0s()(),t.nrm(36,"input",17),t.DNE(37,Ct,2,1,"div",15)(38,Dt,2,1,"div",15),t.k0s()(),t.j41(39,"div",10)(40,"div",11)(41,"label",12),t.EFF(42,"Appointment Date"),t.j41(43,"span",13),t.EFF(44," * "),t.k0s()(),t.j41(45,"div",18)(46,"mat-form-field",19),t.nrm(47,"input",20)(48,"mat-datepicker-toggle",21)(49,"mat-datepicker",null,0),t.k0s()(),t.DNE(51,kt,2,1,"div",15),t.k0s()(),t.j41(52,"div",10)(53,"div",11)(54,"label",12),t.EFF(55,"Practice Location"),t.j41(56,"span",13),t.EFF(57," * "),t.k0s()(),t.j41(58,"select",22)(59,"option",23),t.EFF(60,"Select"),t.k0s(),t.DNE(61,yt,2,2,"option",24),t.k0s(),t.DNE(62,Et,2,1,"div",15),t.k0s()(),t.j41(63,"div",10)(64,"div",11)(65,"label",12),t.EFF(66,"Therapist"),t.j41(67,"span",13),t.EFF(68," * "),t.k0s()(),t.j41(69,"select",25)(70,"option",23),t.EFF(71,"Select"),t.k0s(),t.DNE(72,Rt,2,2,"option",24),t.k0s(),t.DNE(73,St,2,1,"div",15),t.k0s()(),t.j41(74,"div",10)(75,"div",11)(76,"label",12),t.EFF(77,"Referred By "),t.j41(78,"span",13),t.EFF(79," * "),t.k0s()(),t.nrm(80,"input",26),t.DNE(81,At,2,1,"div",15),t.k0s()(),t.j41(82,"div",10)(83,"div",11)(84,"label",12),t.EFF(85,"Phone Number"),t.j41(86,"span",13),t.EFF(87," * "),t.k0s()(),t.j41(88,"input",27),t.bIt("input",function(s){return t.eBV(o),t.Njj(a.onPhoneInputChange(s))}),t.k0s(),t.DNE(89,jt,2,1,"div",15)(90,It,2,1,"div",15),t.k0s()(),t.j41(91,"div",28)(92,"h2",29),t.EFF(93,"Doctor's Office Address"),t.k0s()(),t.j41(94,"div",28)(95,"div",11)(96,"label",12),t.EFF(97,"Street Name "),t.j41(98,"span",13),t.EFF(99," * "),t.k0s()(),t.nrm(100,"input",30),t.DNE(101,wt,2,1,"div",15),t.k0s()(),t.j41(102,"div",10)(103,"div",11)(104,"label",12),t.EFF(105,"Apartment # "),t.k0s(),t.nrm(106,"input",31),t.k0s()(),t.j41(107,"div",10)(108,"div",11)(109,"label",12),t.EFF(110,"State "),t.j41(111,"span",13),t.EFF(112," * "),t.k0s()(),t.j41(113,"select",32),t.bIt("ngModelChange",function(s){return t.eBV(o),t.Njj(a.onStateChange(s))}),t.j41(114,"option",33),t.EFF(115,"Select State"),t.k0s(),t.DNE(116,Nt,2,2,"option",34),t.k0s(),t.DNE(117,xt,2,1,"div",15),t.k0s()(),t.j41(118,"div",10)(119,"div",11)(120,"label",12),t.EFF(121,"City "),t.j41(122,"span",13),t.EFF(123," * "),t.k0s()(),t.j41(124,"select",35)(125,"option",33),t.EFF(126,"Select City"),t.k0s(),t.DNE(127,$t,2,2,"option",24),t.k0s(),t.DNE(128,Tt,2,1,"div",15),t.k0s()(),t.j41(129,"div",10)(130,"div",11)(131,"label",12),t.EFF(132,"Postal Code"),t.k0s(),t.nrm(133,"input",36),t.DNE(134,Lt,2,1,"div",15),t.k0s()()()()(),t.j41(135,"div",37)(136,"button",38),t.EFF(137," Cancel "),t.k0s(),t.DNE(138,Mt,2,1,"button",39)(139,Gt,2,1,"button",39),t.k0s()()}if(2&r){const o=t.sdS(50);t.R7$(3),t.Y8G("routerLink",t.lJ4(30,N)),t.R7$(5),t.SpI("",a.refferalId?"Edit":"Create"," Appointment "),t.R7$(2),t.Y8G("formGroup",a.createAppointmentForm),t.R7$(9),t.Y8G("ngIf",a.createAppointmentForm.controls.email.touched&&a.createAppointmentForm.controls.email.hasError("required")),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.email.touched&&a.createAppointmentForm.controls.email.hasError("email")),t.R7$(8),t.Y8G("ngIf",a.createAppointmentForm.controls.firstName.touched&&a.createAppointmentForm.controls.firstName.hasError("required")),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.firstName.touched&&a.createAppointmentForm.controls.firstName.hasError("pattern")),t.R7$(8),t.Y8G("ngIf",a.createAppointmentForm.controls.lastName.touched&&a.createAppointmentForm.controls.lastName.hasError("required")),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.lastName.touched&&a.createAppointmentForm.controls.lastName.hasError("pattern")),t.R7$(9),t.Y8G("min",a.todayDate)("matDatepicker",o),t.R7$(),t.Y8G("for",o),t.R7$(3),t.Y8G("ngIf",a.createAppointmentForm.controls.appointmentDate.touched&&a.createAppointmentForm.controls.appointmentDate.hasError("required")),t.R7$(10),t.Y8G("ngForOf",a.practiceLocationData),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.practiceLocation.touched&&a.createAppointmentForm.controls.practiceLocation.hasError("required")),t.R7$(10),t.Y8G("ngForOf",a.therapistList),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.therapist.touched&&a.createAppointmentForm.controls.therapist.hasError("required")),t.R7$(8),t.Y8G("ngIf",a.createAppointmentForm.controls.referredBy.touched&&a.createAppointmentForm.controls.referredBy.hasError("required")),t.R7$(7),t.Y8G("value",a.convertPhoneNumber),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.phoneNumber.touched&&a.createAppointmentForm.controls.phoneNumber.hasError("required")),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.phoneNumber.touched&&a.createAppointmentForm.controls.phoneNumber.hasError("pattern")),t.R7$(11),t.Y8G("ngIf",a.createAppointmentForm.controls.streetName.touched&&a.createAppointmentForm.controls.streetName.hasError("required")),t.R7$(15),t.Y8G("ngForOf",a.states),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.state.touched&&a.createAppointmentForm.controls.state.hasError("required")),t.R7$(10),t.Y8G("ngForOf",a.cities),t.R7$(),t.Y8G("ngIf",a.createAppointmentForm.controls.city.touched&&a.createAppointmentForm.controls.city.hasError("required")),t.R7$(6),t.Y8G("ngIf",a.createAppointmentForm.controls.zipcode.touched&&a.createAppointmentForm.controls.zipcode.hasError("pattern")),t.R7$(2),t.Y8G("routerLink",t.lJ4(31,N)),t.R7$(2),t.Y8G("ngIf",!a.refferalId),t.R7$(),t.Y8G("ngIf",a.refferalId&&!a.isViewAppointment)}},dependencies:[g.Sq,g.bT,u.Wk,p.qT,p.xH,p.y7,p.me,p.wz,p.BC,p.cb,p.tU,p.j4,p.JD,y.$z,_.Vh,_.bZ,_.bU,E.rl,E.yw,R.An,I.fg]})}return n})();var Bt=m(3078),Vt=m(4923),$=m(8617);const Yt=()=>[5,10,20];function Ot(n,i){1&n&&(t.j41(0,"th",25),t.EFF(1," Name # "),t.k0s())}function Pt(n,i){if(1&n&&(t.j41(0,"td",26)(1,"div",27)(2,"mat-icon",28),t.EFF(3,"folder"),t.k0s(),t.j41(4,"p",29),t.EFF(5),t.k0s()()()),2&n){const e=i.$implicit,r=t.XpG();t.FCK("routerLink","/",r.userType,"/document-details/",e._id,""),t.R7$(5),t.JRh(e.directory_name)}}function Xt(n,i){1&n&&t.nrm(0,"th",30)}function zt(n,i){if(1&n&&(t.j41(0,"td",31),t.EFF(1),t.k0s()),2&n){const e=i.$implicit;t.R7$(),t.SpI(" ",e.actions," ")}}function Ut(n,i){1&n&&t.nrm(0,"tr",32)}function qt(n,i){1&n&&t.nrm(0,"tr",33)}function Ht(n,i){1&n&&(t.j41(0,"p",34),t.EFF(1,"No records found"),t.k0s())}const Jt=[];let Zt=(()=>{class n{constructor(e,r,a){this._liveAnnouncer=e,this.dialog=r,this.authService=a,this.displayedColumns=["directory_name","actions"],this.dataSource=new c.I6(Jt),this.searchDirectory="",this.loading=!1,this.arrLength=0,this.userType="",this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),this.getDefaultDirectories()}getDefaultDirectories(){var e=this;this.loading=!0;var r=this.authService.getLoggedInInfo("role"),a={searchValue:this.searchDirectory.trim(),userRole:r};this.authService.apiRequest("post","admin/getDefaultDirectories",a).subscribe(function(){var o=(0,h.A)(function*(l){e.loading=!1;var s=l.data.directoryList;e.arrLength=s.length,e.dataSource.data=s,e.dataSource.paginator=e.paginator});return function(l){return o.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}searchRecords(){this.getDefaultDirectories()}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU($.Ai),t.rXU(D.bZ),t.rXU(k.u))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-document-listing"]],viewQuery:function(r,a){if(1&r&&(t.GBs(b.B4,5),t.GBs(F.iy,5)),2&r){let o;t.mGM(o=t.lsd())&&(a.sort=o.first),t.mGM(o=t.lsd())&&(a.paginator=o.first)}},decls:28,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-0","clr--1F2F3E"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-6"],[1,"form-group"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","directory_name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","text-align: center;",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"font-14","clr--292D32"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-cell",""],["mat-header-row",""],["mat-row",""],[2,"text-align","center"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),t.EFF(5,"Documents"),t.k0s()(),t.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"input",9),t.bIt("keyup",function(){return a.searchRecords()}),t.mxI("ngModelChange",function(l){return t.DH7(a.searchDirectory,l)||(a.searchDirectory=l),l}),t.k0s(),t.j41(11,"button",10),t.bIt("click",function(){return a.searchRecords()}),t.j41(12,"mat-icon",11),t.EFF(13,"search "),t.k0s()()()()()()(),t.j41(14,"div",12)(15,"div",6)(16,"div",13)(17,"table",14),t.bIt("matSortChange",function(l){return a.announceSortChange(l)}),t.qex(18,15),t.DNE(19,Ot,2,0,"th",16)(20,Pt,6,4,"td",17),t.bVm(),t.qex(21,18),t.DNE(22,Xt,1,0,"th",19)(23,zt,2,1,"td",20),t.bVm(),t.DNE(24,Ut,1,0,"tr",21)(25,qt,1,0,"tr",22),t.k0s(),t.DNE(26,Ht,2,0,"p",23),t.nrm(27,"mat-paginator",24),t.k0s()()()()()),2&r&&(t.R7$(10),t.R50("ngModel",a.searchDirectory),t.R7$(7),t.Y8G("dataSource",a.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(),t.Y8G("ngIf",0==a.arrLength&&!a.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(6,Yt)))},dependencies:[g.bT,p.me,p.BC,p.vS,y.$z,R.An,F.iy,b.B4,b.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,u.Wk],styles:[".document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .mat-icon{height:36px;width:36px;font-size:36px;color:#bae9e9;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:hover{font-weight:700}"]})}return n})();const T=()=>["/support-team/document-listing"],Wt=()=>[5,10,20];function Kt(n,i){1&n&&(t.j41(0,"th",31),t.EFF(1," Name # "),t.k0s())}function Qt(n,i){if(1&n){const e=t.RV6();t.j41(0,"td",32),t.bIt("click",function(){const a=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.gotoDirectory(a._id,a.icon))}),t.j41(1,"div",33)(2,"mat-icon",34),t.EFF(3),t.k0s(),t.j41(4,"p",35),t.EFF(5),t.k0s()()()}if(2&n){const e=i.$implicit;t.R7$(3),t.SpI(" ",e.icon,""),t.R7$(2),t.JRh(e.name)}}function te(n,i){1&n&&(t.j41(0,"th",36),t.EFF(1," Action "),t.k0s())}function ee(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,o=t.XpG();return t.Njj(o.previewFile(a._id))}),t.j41(1,"mat-icon",42),t.EFF(2,"visibility "),t.k0s()()}}function ne(n,i){1&n&&(t.j41(0,"button",43)(1,"mat-icon",42),t.EFF(2,"print "),t.k0s()())}function ae(n,i){if(1&n&&(t.j41(0,"td",37)(1,"div",38),t.DNE(2,ee,3,0,"button",39)(3,ne,3,0,"button",40),t.k0s()()),2&n){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf","folder"!=e.icon),t.R7$(),t.Y8G("ngIf","folder"!=e.icon)}}function oe(n,i){1&n&&t.nrm(0,"tr",44)}function re(n,i){1&n&&t.nrm(0,"tr",45)}function ie(n,i){1&n&&(t.j41(0,"p",46),t.EFF(1,"No records found"),t.k0s())}const se=[];let le=(()=>{class n{constructor(e,r,a,o){this._liveAnnouncer=e,this.dialog=r,this.authService=a,this.route=o,this.displayedColumns=["name","actions"],this.dataSource=new c.I6(se),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.dirId=this.route.snapshot.paramMap.get("id"),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),this.getDirectoryItems()}getDirectoryItems(){var e=this;this.loading=!0;var r={directory:this.dirId,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",r).subscribe(function(){var a=(0,h.A)(function*(o){e.loading=!1,e.listArrayItems=[],o.data.directoryList.forEach(l=>{e.listArrayItems.push({_id:l._id,name:l.directory_name,actions:"",icon:"folder",color:"description"})}),o.data.fileList.forEach(l=>{var s=l.file_name.split(".").pop(),d="",v="";"pdf"==s?(d="picture_as_pdf",v="pdf"):"png"==s||"jpg"==s||"jpeg"==s?(d="photo",v="photo"):(d="description",v="description"),e.listArrayItems.push({_id:l._id,name:l.file_name,actions:"",icon:d,color:v})}),e.arrLength=e.listArrayItems.length,e.dataSource.data=e.listArrayItems,e.dataSource.paginator=e.paginator});return function(o){return a.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}previewFile(e){window.open(`${window.location.origin}/${this.userType}/file-preview/`+e,"_blank")}gotoDirectory(e,r){this.dirId=e,"folder"==r&&window.open(`${window.location.origin}/${this.userType}/document-details/`+e,"_self")}searchRecords(){this.getDirectoryItems()}static#t=this.\u0275fac=function(r){return new(r||n)(t.rXU($.Ai),t.rXU(D.bZ),t.rXU(k.u),t.rXU(u.nX))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-document-detailing"]],viewQuery:function(r,a){if(1&r&&(t.GBs(b.B4,5),t.GBs(F.iy,5)),2&r){let o;t.mGM(o=t.lsd())&&(a.sort=o.first),t.mGM(o=t.lsd())&&(a.paginator=o.first)}},decls:34,vars:11,consts:[[1,"col-12","document--detailing--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","mb-2"],[1,"row","w-100","align-items-center"],[1,"col-12","col-sm-6","col-lg-6","d-flex"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","d-flex","align-items-center"],[1,"breadcrumb-item","fw-500"],[1,"font-12","clr--1F2F3E",3,"routerLink"],[1,"card-body"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","text-align: center;",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"click"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"font-14","clr--292D32"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-cell",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields",3,"click",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields",4,"ngIf"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields"],["mat-header-row",""],["mat-row",""],[2,"text-align","center"]],template:function(r,a){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6)(7,"mat-icon",7),t.EFF(8," keyboard_backspace "),t.k0s()(),t.j41(9,"div",8)(10,"input",9),t.bIt("keyup",function(){return a.searchRecords()}),t.mxI("ngModelChange",function(l){return t.DH7(a.searchItem,l)||(a.searchItem=l),l}),t.k0s(),t.j41(11,"button",10),t.bIt("click",function(){return a.searchRecords()}),t.j41(12,"mat-icon",11),t.EFF(13,"search "),t.k0s()()()(),t.j41(14,"div",12)(15,"nav",13)(16,"ol",14)(17,"li",15)(18,"a",16),t.EFF(19,"Documents"),t.k0s()()()()()()()(),t.j41(20,"div",17)(21,"div",18)(22,"div",19)(23,"table",20),t.bIt("matSortChange",function(l){return a.announceSortChange(l)}),t.qex(24,21),t.DNE(25,Kt,2,0,"th",22)(26,Qt,6,2,"td",23),t.bVm(),t.qex(27,24),t.DNE(28,te,2,0,"th",25)(29,ae,4,2,"td",26),t.bVm(),t.DNE(30,oe,1,0,"tr",27)(31,re,1,0,"tr",28),t.k0s(),t.DNE(32,ie,2,0,"p",29),t.nrm(33,"mat-paginator",30),t.k0s()()()()()),2&r&&(t.R7$(6),t.Y8G("routerLink",t.lJ4(8,T)),t.R7$(4),t.R50("ngModel",a.searchItem),t.R7$(8),t.Y8G("routerLink",t.lJ4(9,T)),t.R7$(5),t.Y8G("dataSource",a.dataSource),t.R7$(7),t.Y8G("matHeaderRowDef",a.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",a.displayedColumns),t.R7$(),t.Y8G("ngIf",0==a.arrLength&&!a.loading),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(10,Wt)))},dependencies:[g.bT,p.me,p.BC,p.vS,y.$z,R.An,F.iy,b.B4,b.aE,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,u.Wk],styles:[".document--detailing--wrapper[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .back--btn[_ngcontent-%COMP%]{min-width:42px}.document--detailing--wrapper[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .back--btn[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.document--detailing--wrapper[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .search--fields[_ngcontent-%COMP%]{right:6px}.document--detailing--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--detailing--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--detailing--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}"]})}return n})();var me=m(7126);const pe=[{path:"dashboard",component:B.$},{path:"appointments",component:M._},{path:"manage-profile",component:V.O},{path:"appointment-details/:appointmentId",component:G.R},{path:"intake-form",children:[{path:"step-1/:appId",component:Y.n},{path:"step-2/:appId",component:O.S},{path:"step-3/:appId",component:P.H},{path:"step-4/:appId",component:X.E},{path:"step-5/:appId",component:z.J}]},{path:"patients",children:[{path:"",component:U.G},{path:"patient-details/:userId",component:q.H},{path:"patient-profile/:userId",component:H.m}]},{path:"referrals",children:[{path:"",component:dt},{path:"appointment",component:x},{path:"appointment/:refferalId",component:x}]},{path:"conversations",component:Bt.u},{path:"conversations-chat",component:Vt.S},{path:"document-listing",component:Zt},{path:"document-details/:id",component:le},{path:"file-preview/:file",component:me.M}];let ce=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[u.iI.forChild(pe),u.iI]})}return n})(),de=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[g.MD,ce,p.YN,p.X1,L.G]})}return n})()}}]);