"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[566],{2806:(M,u,o)=>{o.d(u,{s:()=>j});var c=o(8834),a=o(4006),h=o(9213),n=o(7278),l=o(9417),f=o(177),m=o(9039),I=o(5802),e=o(4438),g=o(3390),d=o(758),R=o(6992);function p(i,E){if(1&i){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function w(i,E){if(1&i){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function _(i,E){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("New password")," ")}}function P(i,E){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.password," ")}}function C(i,E){if(1&i){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function v(i,E){if(1&i){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function b(i,E){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.confirmPassword," ")}}function F(i,E){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.passwordMismatch," ")}}let j=(()=>{class i{constructor(t,r,s,D,O,T,y){this.dialog=t,this.fb=r,this.commonService=s,this.changePassDialogRef=D,this.adminService=O,this.data=T,this.authService=y,this.validationMessages=I.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[l.k0.required,l.k0.pattern(m.y.password)]],confirmPassword:["",l.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){const r=t.get("newPassword"),s=t.get("confirmPassword");return s.value&&r.value!==s.value?{passwordMismatch:!0}:null}changePassword(){if(this.changePasswordForm.valid){const t={confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId};"patient"==this.data.userRole?this.patientChangePassword(t):this.adminChangePassword(t)}}successModal(t){this.dialog.open(n.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:t.message}}).afterClosed().subscribe(s=>{s&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}adminChangePassword(t){this.adminService.changePassword(t).subscribe({next:r=>{r&&!r.error&&this.successModal(r)},error:r=>{r.error?.error&&this.commonService.openSnackBar(r.error?.message,"ERROR")}})}patientChangePassword(t){this.authService.apiRequest("post","patients/changePassword",t).subscribe(r=>{r&&!r.error&&this.successModal(r)},r=>{r.error?.error&&this.commonService.openSnackBar(r.error?.message,"ERROR")})}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(a.bZ),e.rXU(l.ok),e.rXU(g.h),e.rXU(a.CP),e.rXU(d.z),e.rXU(a.Vh),e.rXU(R.u))};static#a=this.\u0275cmp=e.VBU({type:i,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(r,s){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,p,2,0,"div",10)(15,w,2,0),e.k0s(),e.DNE(16,_,2,1,"div",11)(17,P,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,C,2,0,"div",10)(26,v,2,0),e.k0s(),e.DNE(27,b,2,1,"div",11)(28,F,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return s.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&r&&(e.R7$(5),e.Y8G("formGroup",s.changePasswordForm),e.R7$(8),e.Y8G("type",s.showNewPass?"text":"password"),e.R7$(),e.vxM(14,s.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",s.changePasswordForm.controls.newPassword.touched&&s.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",s.changePasswordForm.controls.newPassword.touched&&s.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",s.showConfPass?"text":"password"),e.R7$(),e.vxM(25,s.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",s.changePasswordForm.controls.confirmPassword.touched&&s.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",s.changePasswordForm.hasError("passwordMismatch")&&s.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!s.changePasswordForm.valid))},dependencies:[h.m_,c.Hl,c.$z,a.hM,a.tx,f.MD,f.bT,l.YN,l.qT,l.me,l.BC,l.cb,l.X1,l.j4,l.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return i})()},7278:(M,u,o)=>{o.d(u,{c:()=>f});var c=o(8834),a=o(4006),h=o(9213),n=o(4438),l=o(9417);let f=(()=>{class m{constructor(e,g,d){this.fb=e,this.dialogRef=g,this.data=d,this.successNote="",this.successNote=null!=d.successNote?d.successNote:this.successNote}static#e=this.\u0275fac=function(g){return new(g||m)(n.rXU(l.ok),n.rXU(a.CP),n.rXU(a.Vh))};static#a=this.\u0275cmp=n.VBU({type:m,selectors:[["app-success-modal"]],standalone:!0,features:[n.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(g,d){1&g&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"p",3),n.EFF(4),n.k0s(),n.j41(5,"div",4)(6,"button",5),n.EFF(7,"Okay "),n.k0s()()()()),2&g&&(n.R7$(4),n.JRh(d.successNote),n.R7$(2),n.Y8G("mat-dialog-close",!0))},dependencies:[h.m_,c.Hl,c.$z,a.hM,a.tx]})}return m})()},1792:(M,u,o)=>{o.d(u,{m:()=>g});var c=o(4006),a=o(4438),h=o(177),n=o(8834),l=o(9213),f=o(9362);const m=d=>({image:d});function I(d,R){1&d&&(a.j41(0,"div")(1,"small",15),a.EFF(2,"Uploaded file is not a valid image"),a.k0s()())}function e(d,R){if(1&d&&(a.j41(0,"button",16),a.EFF(1,"Submit"),a.k0s()),2&d){const p=a.XpG();a.Y8G("mat-dialog-close",a.eq3(1,m,p.croppedImage))}}let g=(()=>{class d{constructor(p,w){this.dialogRef=p,this.data=w,this.imageChangedEvent="",this.croppedImage="",this.imageBase64="",this.saveButtonShow=!1,this.roundCropper=!0,this.isInvalidType=!1}fileChangeEvent(p){this.imageChangedEvent=p}imageCropped(p){this.croppedImageEvent=p,this.croppedImage=p}imageLoaded(){this.isInvalidType=!1}cropperReady(){this.saveButtonShow=!0}loadImageFailed(){this.isInvalidType=!0}static#e=this.\u0275fac=function(w){return new(w||d)(a.rXU(c.CP),a.rXU(c.Vh))};static#a=this.\u0275cmp=a.VBU({type:d,selectors:[["app-upload-img"]],decls:18,vars:7,consts:[["fileInput",""],[1,"comman-popup"],[1,"d-flex","justify-content-between","mat-header"],[1,"p-2"],[1,"fw-600","font-21","text--000"],[1,"ml-auto","p-2"],[1,"ml-auto","cursor-pointer",3,"click","mat-dialog-close"],["mat-dialog-content",""],[1,"d-flex","justify-content-center"],["mat-button","",1,"browse-btn","mb-3","text-center",3,"click"],["type","file","accept",".jpg, .jpeg, .png",2,"display","none",3,"change"],["format","png","output","base64",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","roundCropper","imageChangedEvent","maintainAspectRatio","aspectRatio"],[4,"ngIf"],["mat-dialog-actions","","d-flex",""],["mat-button","","class","submit-btn mb-3",3,"mat-dialog-close",4,"ngIf"],[1,"err"],["mat-button","",1,"submit-btn","mb-3",3,"mat-dialog-close"]],template:function(w,_){if(1&w){const P=a.RV6();a.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),a.EFF(4,"Upload Photo"),a.k0s()(),a.j41(5,"div",5)(6,"mat-icon",6),a.bIt("click",function(){return a.eBV(P),a.Njj(_.dialogRef.close(!1))}),a.EFF(7,"close"),a.k0s()()(),a.j41(8,"div",7)(9,"div",8)(10,"button",9),a.bIt("click",function(){a.eBV(P);const v=a.sdS(13);return a.Njj(v.click())}),a.EFF(11,"Browse"),a.k0s()(),a.j41(12,"input",10,0),a.bIt("change",function(v){return a.eBV(P),a.Njj(_.fileChangeEvent(v))}),a.k0s(),a.j41(14,"image-cropper",11),a.bIt("imageCropped",function(v){return a.eBV(P),a.Njj(_.imageCropped(v))})("imageLoaded",function(){return a.eBV(P),a.Njj(_.imageLoaded())})("cropperReady",function(){return a.eBV(P),a.Njj(_.cropperReady())})("loadImageFailed",function(){return a.eBV(P),a.Njj(_.loadImageFailed())}),a.k0s()(),a.DNE(15,I,3,0,"div",12),a.j41(16,"div",13),a.DNE(17,e,2,3,"button",14),a.k0s()()}2&w&&(a.R7$(6),a.Y8G("mat-dialog-close",!0),a.R7$(8),a.Y8G("roundCropper",_.roundCropper)("imageChangedEvent",_.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),a.R7$(),a.Y8G("ngIf",_.isInvalidType),a.R7$(2),a.Y8G("ngIf",_.saveButtonShow))},dependencies:[h.bT,n.$z,c.tx,c.Yi,c.E7,l.An,f._D],styles:[".submit-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}.browse-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:auto;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}  .mat-mdc-dialog-actions{justify-content:end!important}.mat-header[_ngcontent-%COMP%]{padding:8px 0 0 11px!important}.err[_ngcontent-%COMP%]{float:left;color:red;margin:13px;font-size:14px}"]})}return d})()},7664:(M,u,o)=>{o.d(u,{o:()=>h});var c=o(4710),a=o(4438);let h=(()=>{class n{constructor(f){this.router=f,this.history=[],this.router.events.subscribe(m=>{m instanceof c.Z&&this.history.push(m.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(m){return new(m||n)(a.KVO(c.Ix))};static#a=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},9039:(M,u,o)=>{o.d(u,{y:()=>c});const c={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-@$!%*?&#^()+=_<>,./;:'"|\`~])[A-Za-z\d-@$!%*?&#^()+=_<>,./;:'"|\`~]{8,16}$/,usPhoneNumber:/^\(\d{3}\) \d{3}-\d{4}$/,alphabetic:/^[a-zA-Z]*$/,onlyNumeric:/^[0-9]+$/,numericAndSpecialCharacter:/^[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/}},5802:(M,u,o)=>{o.d(u,{q:()=>c});const c={required:a=>`Please enter ${a}`,validEmail:"The email address seems to be incorrect",email:a=>`Please enter a valid ${a}`,password:"Minimum 8 and maximum 16 character, atleast one special character, one numeric & 1 uppercase and lowercase letter",passwordMismatch:"The passwords do not match. Please try again",confirmPassword:"Please confirm your password",invalidPhoneNumber:"Invalid phone number format",alphabeticChar:a=>`Please enter a valid ${a}`,newPasswordRequired:"Please set a password for your account",minlength:(a,h)=>`${a} should be at least ${h} characters.`,maxlength:(a,h)=>`${a} should not exceed ${h} characters.`,noRecords:"No records found!",requiredDropdown:a=>`Please select ${a}`,radioButton:"Gender is required",requiredCheckbox:a=>`Please check ${a}`,requiredProofDocument:"Document uploaded, Please select ID Proof document type",requiredDocument:"ID Proof document type is slected, Please upload document",isUnique:a=>`${a} should be unique`}}}]);