"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[711],{2806:(F,w,t)=>{t.d(w,{s:()=>c});var p=t(8834),u=t(4006),s=t(9213),n=t(7278),m=t(9417),P=t(177),h=t(9039),R=t(5802),e=t(4438),g=t(3390),E=t(758);function D(o,f){if(1&o){const l=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function I(o,f){if(1&o){const l=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function C(o,f){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const l=e.XpG();e.R7$(),e.SpI(" ",l.validationMessages.required("New password")," ")}}function M(o,f){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const l=e.XpG();e.R7$(),e.SpI(" ",l.validationMessages.password," ")}}function v(o,f){if(1&o){const l=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function i(o,f){if(1&o){const l=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(l);const r=e.XpG();return e.Njj(r.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function a(o,f){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const l=e.XpG();e.R7$(),e.SpI(" ",l.validationMessages.confirmPassword," ")}}function d(o,f){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const l=e.XpG();e.R7$(),e.SpI(" ",l.validationMessages.passwordMismatch," ")}}let c=(()=>{class o{constructor(l,_,r,O,j,T){this.dialog=l,this.fb=_,this.commonService=r,this.changePassDialogRef=O,this.adminService=j,this.data=T,this.validationMessages=R.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[m.k0.required,m.k0.pattern(h.y.password)]],confirmPassword:["",m.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(l){const _=l.get("newPassword"),r=l.get("confirmPassword");return r.value&&_.value!==r.value?{passwordMismatch:!0}:null}changePassword(){this.changePasswordForm.valid&&this.adminService.changePassword({confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId}).subscribe({next:_=>{_&&!_.error&&this.successModal(_)},error:_=>{_.error?.error&&this.commonService.openSnackBar(_.error?.message,"ERROR")}})}successModal(l){this.dialog.open(n.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:l.message}}).afterClosed().subscribe(r=>{r&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}static#e=this.\u0275fac=function(_){return new(_||o)(e.rXU(u.bZ),e.rXU(m.ok),e.rXU(g.h),e.rXU(u.CP),e.rXU(E.z),e.rXU(u.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(_,r){1&_&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,D,2,0,"div",10)(15,I,2,0),e.k0s(),e.DNE(16,C,2,1,"div",11)(17,M,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,v,2,0,"div",10)(26,i,2,0),e.k0s(),e.DNE(27,a,2,1,"div",11)(28,d,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return r.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&_&&(e.R7$(5),e.Y8G("formGroup",r.changePasswordForm),e.R7$(8),e.Y8G("type",r.showNewPass?"text":"password"),e.R7$(),e.vxM(14,r.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",r.changePasswordForm.controls.newPassword.touched&&r.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",r.changePasswordForm.controls.newPassword.touched&&r.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",r.showConfPass?"text":"password"),e.R7$(),e.vxM(25,r.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",r.changePasswordForm.controls.confirmPassword.touched&&r.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",r.changePasswordForm.hasError("passwordMismatch")&&r.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!r.changePasswordForm.valid))},dependencies:[s.m_,p.Hl,p.$z,u.hM,u.tx,P.MD,P.bT,m.YN,m.qT,m.me,m.BC,m.cb,m.X1,m.j4,m.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return o})()},8920:(F,w,t)=>{t.d(w,{e:()=>C});var p=t(4523),u=t(177),s=t(9417),n=t(8834),m=t(4006),P=t(9213),h=t(2244),R=t(5802),e=t(4438),g=t(3390),E=t(6992),D=t(6911);function I(M,v){if(1&M&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&M){const i=e.XpG();e.R7$(),e.SpI(" ",i.validationMessages.required("your comment")," ")}}let C=(()=>{class M{constructor(i,a,d,c,o){this.commonService=i,this.authService=a,this.fb=d,this.dialogRef=c,this.data=o,this.validationMessages=R.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.fromId="",this.appointmentId=null!=o.appointmentId?o.appointmentId:"",this.userRole=null!=o.userRole?o.userRole:"",this.fromId=null!=o.fromId?o.fromId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rescheduleForm=this.fb.group({rejectComment:["",[s.k0.required,s.k0.minLength(1),s.k0.maxLength(100)]]})}trimInput(){0!==(this.rescheduleForm.controls.rejectComment.value||"").trim().length||this.rescheduleForm.controls.rejectComment.setValue("")}submitForm(i){var a=this;return(0,p.A)(function*(){if(a.appointmentId){let d={query:{_id:a.appointmentId},fromId:a.fromId,fromRole:a.userRole,commentText:i.rejectComment};a.commonService.showLoader(),yield a.authService.apiRequest("post","appointment/cancelAppointment",d).subscribe(function(){var c=(0,p.A)(function*(o){a.commonService.hideLoader(),a.dialogRef.close(o)});return function(o){return c.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(a){return new(a||M)(e.rXU(g.h),e.rXU(E.u),e.rXU(s.ok),e.rXU(m.CP),e.rXU(m.Vh))};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["app-reschedule-appointment-modal"]],standalone:!0,features:[e.aNF],decls:27,vars:3,consts:[["d","ngbDatepicker"],[1,"reschedule--app--modal","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600"],[1,"row",3,"ngSubmit","formGroup"],[1,"ra--body","w-100"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"input-group"],["placeholder","mm-dd-yyyy","name","dp","ngbDatepicker","",1,"form-control","text-lowercase",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit"],[1,"text","text-danger","mt-1"]],template:function(a,d){if(1&a){const c=e.RV6();e.j41(0,"div",1)(1,"header",2)(2,"h1",3),e.EFF(3,"Reschedule an Appointment"),e.k0s()(),e.j41(4,"form",4),e.bIt("ngSubmit",function(){return e.eBV(c),e.Njj(d.submitForm(d.rescheduleForm.value))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),e.EFF(10,"Select Date & Time"),e.k0s(),e.j41(11,"div",10)(12,"input",11,0),e.mxI("ngModelChange",function(f){return e.eBV(c),e.DH7(d.model,f)||(d.model=f),e.Njj(f)}),e.k0s(),e.j41(14,"button",12),e.bIt("click",function(){e.eBV(c);const f=e.sdS(13);return e.Njj(f.toggle())}),e.nrm(15,"i",13),e.k0s()()()(),e.j41(16,"div",7)(17,"div",8)(18,"label",9),e.EFF(19,"Mention the cause "),e.k0s(),e.j41(20,"textarea",14),e.bIt("blur",function(){return e.eBV(c),e.Njj(d.trimInput())}),e.k0s(),e.DNE(21,I,2,1,"div",15),e.k0s()()()(),e.j41(22,"div",16)(23,"button",17),e.EFF(24,"Cancel"),e.k0s(),e.j41(25,"button",18),e.EFF(26,"Submit"),e.k0s()()()()}2&a&&(e.R7$(4),e.Y8G("formGroup",d.rescheduleForm),e.R7$(8),e.R50("ngModel",d.model),e.R7$(9),e.Y8G("ngIf",d.rescheduleForm.controls.rejectComment.touched&&d.rescheduleForm.controls.rejectComment.hasError("required")))},dependencies:[P.m_,n.Hl,n.$z,m.hM,m.tx,u.MD,u.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.vS,s.X1,s.j4,s.JD,h.G,D.cw],styles:[".reschedule--app--modal[_ngcontent-%COMP%]{padding:20px}.reschedule--app--modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2f3e;font-size:18px;margin-bottom:20px}"]})}return M})()},7278:(F,w,t)=>{t.d(w,{c:()=>P});var p=t(8834),u=t(4006),s=t(9213),n=t(4438),m=t(9417);let P=(()=>{class h{constructor(e,g,E){this.fb=e,this.dialogRef=g,this.data=E,this.successNote="",this.successNote=null!=E.successNote?E.successNote:this.successNote}static#e=this.\u0275fac=function(g){return new(g||h)(n.rXU(m.ok),n.rXU(u.CP),n.rXU(u.Vh))};static#t=this.\u0275cmp=n.VBU({type:h,selectors:[["app-success-modal"]],standalone:!0,features:[n.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(g,E){1&g&&(n.j41(0,"div",0)(1,"div",1),n.nrm(2,"img",2),n.j41(3,"p",3),n.EFF(4),n.k0s(),n.j41(5,"div",4)(6,"button",5),n.EFF(7,"Okay "),n.k0s()()()()),2&g&&(n.R7$(4),n.JRh(E.successNote),n.R7$(2),n.Y8G("mat-dialog-close",!0))},dependencies:[s.m_,p.Hl,p.$z,u.hM,u.tx]})}return h})()},7142:(F,w,t)=>{t.d(w,{b:()=>I});var p=t(4523),u=t(177),s=t(9417),n=t(8834),m=t(4006),P=t(9213),h=t(2244),R=t(5802),e=t(4438),g=t(3390),E=t(6992);function D(C,M){if(1&C&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&C){const v=e.XpG();e.R7$(),e.SpI(" ",v.validationMessages.required("your comment")," ")}}let I=(()=>{class C{constructor(v,i,a,d,c){this.commonService=v,this.authService=i,this.fb=a,this.dialogRef=d,this.data=c,this.validationMessages=R.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.fromId="",this.appointmentId=null!=c.appointmentId?c.appointmentId:"",this.userRole=null!=c.userRole?c.userRole:"",this.fromId=null!=c.fromId?c.fromId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rejectCommentForm=this.fb.group({rejectComment:["",[s.k0.required,s.k0.minLength(1),s.k0.maxLength(100)]]})}trimInput(){0!==(this.rejectCommentForm.controls.rejectComment.value||"").trim().length||this.rejectCommentForm.controls.rejectComment.setValue("")}submitForm(v){var i=this;return(0,p.A)(function*(){if(i.appointmentId){let a={query:{_id:i.appointmentId},fromId:i.fromId,fromRole:i.userRole,commentText:v.rejectComment};i.commonService.showLoader(),yield i.authService.apiRequest("post","appointment/cancelAppointment",a).subscribe(function(){var d=(0,p.A)(function*(c){i.commonService.hideLoader(),i.dialogRef.close(c)});return function(c){return d.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(i){return new(i||C)(e.rXU(g.h),e.rXU(E.u),e.rXU(s.ok),e.rXU(m.CP),e.rXU(m.Vh))};static#t=this.\u0275cmp=e.VBU({type:C,selectors:[["app-write-comment-modal"]],standalone:!0,features:[e.aNF],decls:18,vars:2,consts:[[1,"alert--wrapper","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600","font-18","mb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-3"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit"],[1,"text","text-danger","mt-1"]],template:function(i,a){1&i&&(e.j41(0,"div",0)(1,"header",1)(2,"h1",2),e.EFF(3,"Write a Comment"),e.k0s()(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return a.submitForm(a.rejectCommentForm.value)}),e.j41(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"Mention the cause "),e.k0s(),e.j41(11,"textarea",8),e.bIt("blur",function(){return a.trimInput()}),e.k0s(),e.DNE(12,D,2,1,"div",9),e.k0s()()()(),e.j41(13,"div",10)(14,"button",11),e.EFF(15,"Cancel"),e.k0s(),e.j41(16,"button",12),e.EFF(17,"Submit"),e.k0s()()()()),2&i&&(e.R7$(4),e.Y8G("formGroup",a.rejectCommentForm),e.R7$(8),e.Y8G("ngIf",a.rejectCommentForm.controls.rejectComment.touched&&a.rejectCommentForm.controls.rejectComment.hasError("required")))},dependencies:[P.m_,n.Hl,n.$z,m.hM,m.tx,u.MD,u.bT,s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.j4,s.JD,h.G]})}return C})()},7664:(F,w,t)=>{t.d(w,{o:()=>s});var p=t(4710),u=t(4438);let s=(()=>{class n{constructor(P){this.router=P,this.history=[],this.router.events.subscribe(h=>{h instanceof p.Z&&this.history.push(h.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(h){return new(h||n)(u.KVO(p.Ix))};static#t=this.\u0275prov=u.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);