"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[428],{2806:(R,v,a)=>{a.d(v,{s:()=>h});var u=a(8834),o=a(4006),d=a(9213),s=a(7278),p=a(9417),t=a(177),g=a(9039),D=a(5802),e=a(4438),C=a(3390),_=a(758),b=a(6992);function f(c,F){if(1&c){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function I(c,F){if(1&c){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function P(c,F){if(1&c&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&c){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.required("New password")," ")}}function M(c,F){if(1&c&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&c){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.password," ")}}function l(c,F){if(1&c){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function E(c,F){if(1&c){const n=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(n);const r=e.XpG();return e.Njj(r.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function m(c,F){if(1&c&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&c){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.confirmPassword," ")}}function w(c,F){if(1&c&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&c){const n=e.XpG();e.R7$(),e.SpI(" ",n.validationMessages.passwordMismatch," ")}}let h=(()=>{class c{constructor(n,i,r,O,j,T,U){this.dialog=n,this.fb=i,this.commonService=r,this.changePassDialogRef=O,this.adminService=j,this.data=T,this.authService=U,this.validationMessages=D.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[p.k0.required,p.k0.pattern(g.y.password)]],confirmPassword:["",p.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(n){const i=n.get("newPassword"),r=n.get("confirmPassword");return r.value&&i.value!==r.value?{passwordMismatch:!0}:null}changePassword(){if(this.changePasswordForm.valid){const n={confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId};"patient"==this.data.userRole?this.patientChangePassword(n):this.adminChangePassword(n)}}successModal(n){this.dialog.open(s.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:n.message}}).afterClosed().subscribe(r=>{r&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}adminChangePassword(n){this.adminService.changePassword(n).subscribe({next:i=>{i&&!i.error&&this.successModal(i)},error:i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")}})}patientChangePassword(n){this.authService.apiRequest("post","patients/changePassword",n).subscribe(i=>{i&&!i.error&&this.successModal(i)},i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")})}static#e=this.\u0275fac=function(i){return new(i||c)(e.rXU(o.bZ),e.rXU(p.ok),e.rXU(C.h),e.rXU(o.CP),e.rXU(_.z),e.rXU(o.Vh),e.rXU(b.u))};static#o=this.\u0275cmp=e.VBU({type:c,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(i,r){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,f,2,0,"div",10)(15,I,2,0),e.k0s(),e.DNE(16,P,2,1,"div",11)(17,M,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,l,2,0,"div",10)(26,E,2,0),e.k0s(),e.DNE(27,m,2,1,"div",11)(28,w,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return r.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",r.changePasswordForm),e.R7$(8),e.Y8G("type",r.showNewPass?"text":"password"),e.R7$(),e.vxM(14,r.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",r.changePasswordForm.controls.newPassword.touched&&r.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",r.changePasswordForm.controls.newPassword.touched&&r.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",r.showConfPass?"text":"password"),e.R7$(),e.vxM(25,r.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",r.changePasswordForm.controls.confirmPassword.touched&&r.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",r.changePasswordForm.hasError("passwordMismatch")&&r.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!r.changePasswordForm.valid))},dependencies:[d.m_,u.Hl,u.$z,o.hM,o.tx,t.MD,t.bT,p.YN,p.qT,p.me,p.BC,p.cb,p.X1,p.j4,p.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return c})()},7278:(R,v,a)=>{a.d(v,{c:()=>t});var u=a(8834),o=a(4006),d=a(9213),s=a(4438),p=a(9417);let t=(()=>{class g{constructor(e,C,_){this.fb=e,this.dialogRef=C,this.data=_,this.successNote="",this.successHeader="",this.successNote=null!=_.successNote?_.successNote:this.successNote,this.successHeader=null!=_.successHeader?_.successHeader:this.successHeader}static#e=this.\u0275fac=function(C){return new(C||g)(s.rXU(p.ok),s.rXU(o.CP),s.rXU(o.Vh))};static#o=this.\u0275cmp=s.VBU({type:g,selectors:[["app-success-modal"]],standalone:!0,features:[s.aNF],decls:10,vars:3,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"font-16","fw-600","text-center","mt-2"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(C,_){1&C&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"h2",3),s.EFF(4),s.k0s(),s.j41(5,"p",4),s.EFF(6),s.k0s(),s.j41(7,"div",5)(8,"button",6),s.EFF(9,"Okay "),s.k0s()()()()),2&C&&(s.R7$(4),s.JRh(_.successHeader),s.R7$(2),s.JRh(_.successNote),s.R7$(2),s.Y8G("mat-dialog-close",!0))},dependencies:[d.m_,u.Hl,u.$z,o.hM,o.tx]})}return g})()},1631:(R,v,a)=>{a.d(v,{b:()=>M});var u=a(4523),o=a(5802),d=a(9417),s=a(7278),p=a(4006),t=a(4438),g=a(2168),D=a(3390),e=a(6992),C=a(177),_=a(8834);function b(l,E){if(1&l&&(t.j41(0,"option",19),t.EFF(1),t.k0s()),2&l){const m=E.$implicit;t.Y8G("value",m),t.R7$(),t.JRh(m)}}function f(l,E){if(1&l&&(t.j41(0,"div",20),t.EFF(1),t.k0s()),2&l){const m=t.XpG(2);t.R7$(),t.SpI(" ",m.validationMessages.requiredDropdown("Creation date"),"")}}function I(l,E){if(1&l&&(t.j41(0,"div",20),t.EFF(1),t.k0s()),2&l){const m=t.XpG(2);t.R7$(),t.SpI(" ",m.validationMessages.required("Comment"),"")}}function P(l,E){if(1&l){const m=t.RV6();t.j41(0,"form",1)(1,"div",2)(2,"div",3)(3,"h1",4),t.EFF(4,"Create Case Note"),t.k0s()(),t.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"label",8),t.EFF(9,"Creation Date "),t.j41(10,"span",9),t.EFF(11," * "),t.k0s()(),t.j41(12,"select",10)(13,"option",11),t.EFF(14,"Select date"),t.k0s(),t.DNE(15,b,2,2,"option",12),t.k0s(),t.DNE(16,f,2,1,"div",13),t.k0s()(),t.j41(17,"div",6)(18,"div",7),t.nrm(19,"textarea",14),t.DNE(20,I,2,1,"div",13),t.k0s()()(),t.j41(21,"div",15)(22,"button",16),t.EFF(23,"Cancel"),t.k0s(),t.j41(24,"button",17),t.bIt("click",function(){t.eBV(m);const h=t.XpG();return t.Njj(h.caseNoteSubmit(h.caseNoteForm.value,"save"))}),t.EFF(25,"Save"),t.k0s(),t.j41(26,"button",18),t.bIt("click",function(){t.eBV(m);const h=t.XpG();return t.Njj(h.caseNoteSubmit(h.caseNoteForm.value,"finalize"))}),t.EFF(27,"Finalize"),t.k0s()()()()}if(2&l){const m=t.XpG();t.Y8G("formGroup",m.caseNoteForm),t.R7$(15),t.Y8G("ngForOf",m.appointment_dates),t.R7$(),t.Y8G("ngIf",m.caseNoteForm.controls.case_note_date.touched&&m.caseNoteForm.controls.case_note_date.hasError("required")),t.R7$(4),t.Y8G("ngIf",m.caseNoteForm.controls.case_comment.hasError("required")&&m.caseNoteForm.controls.case_comment.touched)}}let M=(()=>{class l{constructor(m,w,h,c,F,n,i,r){this.router=m,this.fb=w,this.route=h,this.dialog=c,this.commonService=F,this.authService=n,this.dialogRef=i,this.data=r,this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),this.validationMessages=o.q,this.appointment_dates=["07/12/2024","05/14/2024","04/10/2024"],this.appointmentId=r.appointmentId}ngOnInit(){this.caseNoteForm=this.fb.group({appointmentId:[this.appointmentId],case_note_date:["",[d.k0.required,d.k0.minLength(1),d.k0.maxLength(500)]],case_comment:["",[d.k0.required,d.k0.minLength(1),d.k0.maxLength(1e3)]]})}caseNoteSubmit(m,w){var h=this;return(0,u.A)(function*(){h.caseNoteForm.invalid?h.caseNoteForm.markAllAsTouched():h.appointmentId&&(h.dialogRef.close(),h.successModal()),console.log(w,">>>>formData>>>>",m)})()}successModal(){this.dialog.open(s.c,{panelClass:"custom-alert-container",data:{successNote:"Case note has been created successfully!"}})}static#e=this.\u0275fac=function(w){return new(w||l)(t.rXU(g.Ix),t.rXU(d.ok),t.rXU(g.nX),t.rXU(p.bZ),t.rXU(D.h),t.rXU(e.u),t.rXU(p.CP),t.rXU(p.Vh))};static#o=this.\u0275cmp=t.VBU({type:l,selectors:[["app-case-note-modal"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0"],[1,"modal--body","w-100","pt-1"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-700","font-16"],[1,"clr--DF0404","ms-1"],["aria-label","Default select example","formControlName","case_note_date",1,"form-select","form-control","form-control-md"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Write your comment here","formControlName","case_comment","rows","5",1,"form-control"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-stroked-button","","color","primary",1,"me-3",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],[1,"text","text-danger","mt-1"]],template:function(w,h){1&w&&t.DNE(0,P,28,4,"form",0),2&w&&t.Y8G("ngIf",h.caseNoteForm)},dependencies:[C.Sq,C.bT,d.qT,d.xH,d.y7,d.me,d.wz,d.BC,d.cb,_.$z,p.tx,d.j4,d.JD]})}return l})()},1792:(R,v,a)=>{a.d(v,{m:()=>C});var u=a(4006),o=a(4438),d=a(177),s=a(8834),p=a(9213),t=a(9362);const g=_=>({image:_});function D(_,b){1&_&&(o.j41(0,"div")(1,"small",15),o.EFF(2,"Uploaded file is not a valid image"),o.k0s()())}function e(_,b){if(1&_&&(o.j41(0,"button",16),o.EFF(1,"Submit"),o.k0s()),2&_){const f=o.XpG();o.Y8G("mat-dialog-close",o.eq3(1,g,f.croppedImage))}}let C=(()=>{class _{constructor(f,I){this.dialogRef=f,this.data=I,this.imageChangedEvent="",this.croppedImage="",this.imageBase64="",this.saveButtonShow=!1,this.roundCropper=!0,this.isInvalidType=!1}fileChangeEvent(f){this.imageChangedEvent=f}imageCropped(f){this.croppedImageEvent=f,this.croppedImage=f}imageLoaded(){this.isInvalidType=!1}cropperReady(){this.saveButtonShow=!0}loadImageFailed(){this.isInvalidType=!0}static#e=this.\u0275fac=function(I){return new(I||_)(o.rXU(u.CP),o.rXU(u.Vh))};static#o=this.\u0275cmp=o.VBU({type:_,selectors:[["app-upload-img"]],decls:18,vars:7,consts:[["fileInput",""],[1,"comman-popup"],[1,"d-flex","justify-content-between","mat-header"],[1,"p-2"],[1,"fw-600","font-21","text--000"],[1,"ml-auto","p-2"],[1,"ml-auto","cursor-pointer",3,"click","mat-dialog-close"],["mat-dialog-content",""],[1,"d-flex","justify-content-center"],["mat-button","",1,"browse-btn","mb-3","text-center",3,"click"],["type","file","accept",".jpg, .jpeg, .png",2,"display","none",3,"change"],["format","png","output","base64",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","roundCropper","imageChangedEvent","maintainAspectRatio","aspectRatio"],[4,"ngIf"],["mat-dialog-actions","","d-flex",""],["mat-button","","class","submit-btn mb-3",3,"mat-dialog-close",4,"ngIf"],[1,"err"],["mat-button","",1,"submit-btn","mb-3",3,"mat-dialog-close"]],template:function(I,P){if(1&I){const M=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),o.EFF(4,"Upload Photo"),o.k0s()(),o.j41(5,"div",5)(6,"mat-icon",6),o.bIt("click",function(){return o.eBV(M),o.Njj(P.dialogRef.close(!1))}),o.EFF(7,"close"),o.k0s()()(),o.j41(8,"div",7)(9,"div",8)(10,"button",9),o.bIt("click",function(){o.eBV(M);const E=o.sdS(13);return o.Njj(E.click())}),o.EFF(11,"Browse"),o.k0s()(),o.j41(12,"input",10,0),o.bIt("change",function(E){return o.eBV(M),o.Njj(P.fileChangeEvent(E))}),o.k0s(),o.j41(14,"image-cropper",11),o.bIt("imageCropped",function(E){return o.eBV(M),o.Njj(P.imageCropped(E))})("imageLoaded",function(){return o.eBV(M),o.Njj(P.imageLoaded())})("cropperReady",function(){return o.eBV(M),o.Njj(P.cropperReady())})("loadImageFailed",function(){return o.eBV(M),o.Njj(P.loadImageFailed())}),o.k0s()(),o.DNE(15,D,3,0,"div",12),o.j41(16,"div",13),o.DNE(17,e,2,3,"button",14),o.k0s()()}2&I&&(o.R7$(6),o.Y8G("mat-dialog-close",!0),o.R7$(8),o.Y8G("roundCropper",P.roundCropper)("imageChangedEvent",P.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),o.R7$(),o.Y8G("ngIf",P.isInvalidType),o.R7$(2),o.Y8G("ngIf",P.saveButtonShow))},dependencies:[d.bT,s.$z,u.tx,u.Yi,u.E7,p.An,t._D],styles:[".submit-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}.browse-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:auto;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}  .mat-mdc-dialog-actions{justify-content:end!important}.mat-header[_ngcontent-%COMP%]{padding:8px 0 0 11px!important}.err[_ngcontent-%COMP%]{float:left;color:red;margin:13px;font-size:14px}"]})}return _})()},7664:(R,v,a)=>{a.d(v,{o:()=>d});var u=a(2168),o=a(4438);let d=(()=>{class s{constructor(t){this.router=t,this.history=[],this.router.events.subscribe(g=>{g instanceof u.Z&&this.history.push(g.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(g){return new(g||s)(o.KVO(u.Ix))};static#o=this.\u0275prov=o.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},9039:(R,v,a)=>{a.d(v,{y:()=>u});const u={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-@$!%*?&#^()+=_<>,./;:'"|\`~])[A-Za-z\d-@$!%*?&#^()+=_<>,./;:'"|\`~]{8,16}$/,usPhoneNumber:/^\(\d{3}\) \d{3}-\d{4}$/,alphabetic:/^[a-zA-Z]*$/,onlyNumeric:/^[0-9]+$/,numericAndSpecialCharacter:/^[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/,alphanumeric:/^[a-zA-Z0-9]*$/}},5802:(R,v,a)=>{a.d(v,{q:()=>u});const u={required:o=>`Please enter ${o}`,validEmail:"The email address seems to be incorrect",email:o=>`Please enter a valid ${o}`,password:"Minimum 8 and maximum 16 character, atleast one special character, one numeric & 1 uppercase and lowercase letter",passwordMismatch:"The passwords do not match. Please try again",confirmPassword:"Please confirm your password",invalidPhoneNumber:"Invalid phone number format",alphabeticChar:o=>`Please enter a valid ${o}`,newPasswordRequired:"Please set a password for your account",minlength:(o,d)=>`${o} should be at least ${d} characters.`,maxlength:(o,d)=>`${o} should not exceed ${d} characters.`,noRecords:"No records found!",requiredDropdown:o=>`Please select ${o}`,radioButton:"Gender is required",requiredCheckbox:o=>`Please check ${o}`,requiredProofDocument:"Document uploaded, Please select ID Proof document type",requiredDocument:"ID Proof document type is slected, Please upload document",isUnique:o=>`${o} should be unique`}}}]);