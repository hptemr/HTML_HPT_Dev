"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[619],{3716:(H,V,m)=>{m.d(V,{O:()=>E});var C=m(4523),t=m(4494),I=m(2806),b=m(9417),e=m(5802),i=m(9039),T=m(1792),U=m(446),n=m(4438),v=m(4006),M=m(3390),X=m(6992),A=m(758),G=m(177),L=m(8834),W=m(9213),N=m(3902),R=m(4710);const w=()=>["/support-team/dashboard"];function g(u,d){if(1&u){const s=n.RV6();n.j41(0,"mat-list-item",33),n.bIt("click",function(){n.eBV(s);const p=n.XpG(2);return n.Njj(p.removePhoto())}),n.EFF(1,"Remove Photo "),n.k0s()}}function S(u,d){if(1&u){const s=n.RV6();n.j41(0,"mat-list")(1,"mat-list-item",33),n.bIt("click",function(){n.eBV(s);const p=n.XpG();return n.Njj(p.changePhoto())}),n.EFF(2,"Change Photo "),n.k0s(),n.DNE(3,g,2,0,"mat-list-item",34),n.k0s()}if(2&u){const s=n.XpG();n.R7$(3),n.Y8G("ngIf",s.isDefaultImage)}}function D(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG();n.R7$(),n.SpI(" ",s.validationMessages.required("your First Name")," ")}}function O(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG();n.R7$(),n.SpI(" ",s.validationMessages.alphabeticChar("First Name")," ")}}function B(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG();n.R7$(),n.SpI(" ",s.validationMessages.required("your Last Name")," ")}}function x(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG();n.R7$(),n.SpI(" ",s.validationMessages.alphabeticChar("Last Name")," ")}}function y(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid phone number")," ")}}function $(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.invalidPhoneNumber," ")}}function Y(u,d){if(1&u){const s=n.RV6();n.j41(0,"div",22)(1,"div",23)(2,"label",24),n.EFF(3,"Phone "),n.j41(4,"span",25),n.EFF(5," * "),n.k0s()(),n.j41(6,"input",36),n.bIt("input",function(p){n.eBV(s);const r=n.XpG();return n.Njj(r.onPhoneInputChange(p))}),n.k0s(),n.DNE(7,y,2,1,"div",27)(8,$,2,1,"div",27),n.k0s()()}if(2&u){const s=n.XpG();n.R7$(6),n.Y8G("value",s.convertPhoneNumber),n.R7$(),n.Y8G("ngIf",s.updateProfileForm.controls.phoneNumber.touched&&s.updateProfileForm.controls.phoneNumber.hasError("required")),n.R7$(),n.Y8G("ngIf",s.updateProfileForm.controls.phoneNumber.touched&&s.updateProfileForm.controls.phoneNumber.hasError("pattern"))}}function K(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid NPI number")," ")}}function z(u,d){if(1&u&&(n.j41(0,"div",22)(1,"div",23)(2,"label",24),n.EFF(3,"NPI "),n.j41(4,"span",25),n.EFF(5," *"),n.k0s()(),n.nrm(6,"input",37),n.DNE(7,K,2,1,"div",27),n.k0s()()),2&u){const s=n.XpG();n.R7$(7),n.Y8G("ngIf",s.updateProfileForm.controls.NPI.touched&&(s.updateProfileForm.controls.NPI.hasError("required")||s.updateProfileForm.controls.NPI.hasError("pattern")))}}function h(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid SSN")," ")}}function k(u,d){if(1&u&&(n.j41(0,"div",22)(1,"div",23)(2,"label",24),n.EFF(3,"SSN "),n.j41(4,"span",25),n.EFF(5," *"),n.k0s()(),n.nrm(6,"input",38),n.DNE(7,h,2,1,"div",27),n.k0s()()),2&u){const s=n.XpG();n.R7$(7),n.Y8G("ngIf",s.updateProfileForm.controls.SSN.touched&&(s.updateProfileForm.controls.SSN.hasError("required")||s.updateProfileForm.controls.SSN.hasError("pattern")))}}function f(u,d){if(1&u&&(n.j41(0,"div",35),n.EFF(1),n.k0s()),2&u){const s=n.XpG(2);n.R7$(),n.SpI(" ",s.validationMessages.required("a valid Licence number")," ")}}function F(u,d){if(1&u&&(n.j41(0,"div",22)(1,"div",23)(2,"label",24),n.EFF(3,"Licence Number"),n.k0s(),n.nrm(4,"input",39),n.DNE(5,f,2,1,"div",27),n.k0s()()),2&u){const s=n.XpG();n.R7$(5),n.Y8G("ngIf",s.updateProfileForm.controls.licenceNumber.touched&&s.updateProfileForm.controls.licenceNumber.hasError("required"))}}let E=(()=>{class u{constructor(s,l,p,r,_){this.dialog=s,this.fb=l,this.commonService=p,this.authService=r,this.adminService=_,this.validationMessages=e.q,this.editOptions=!1,this.isTherapist=!1,this.convertPhoneNumber="",this.isDefaultImage=!0}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role"),this.profileImage=U.ns.awsS3Url+U.ns.userProfileFolderPath+this.authService.getLoggedInInfo("profileImage"),this.isDefaultImage="default.png"!=this.authService.getLoggedInInfo("profileImage"),this.initializeUpdateProfileForm(),this.getProfile(),"therapist"==this.userType&&(this.initializeTherapistFields(),this.isTherapist=!0)}initializeUpdateProfileForm(){this.updateProfileForm=this.fb.group({firstName:["",[b.k0.required,b.k0.pattern(i.y.alphabetic)]],lastName:["",[b.k0.required,b.k0.pattern(i.y.alphabetic)]],email:[{value:"",disabled:!0}]})}initializeTherapistFields(){this.updateProfileForm.addControl("phoneNumber",this.fb.control("",[b.k0.required,b.k0.pattern(i.y.usPhoneNumber)])),this.updateProfileForm.addControl("NPI",this.fb.control("",[b.k0.required,b.k0.pattern(i.y.onlyNumeric)])),this.updateProfileForm.addControl("SSN",this.fb.control("",[b.k0.required,b.k0.pattern(i.y.numericAndSpecialCharacter)])),this.updateProfileForm.addControl("licenceNumber",this.fb.control("",[]))}getProfile(){this.adminService.profile({query:{_id:this.userId},params:{firstName:1,lastName:1,email:1,phoneNumber:1,status:1,practiceLocation:1,NPI:1,SSN:1,licenceNumber:1}}).subscribe({next:l=>{l&&!l.error&&(this.updateProfileForm.controls.firstName.setValue(l.data?l.data.firstName:""),this.updateProfileForm.controls.lastName.setValue(l.data?l.data.lastName:""),this.updateProfileForm.controls.email.setValue(l.data?l.data.email:""),"therapist"==this.userType&&(this.updateProfileForm.controls.phoneNumber.setValue(l.data&&l.data.phoneNumber?l.data.phoneNumber:""),this.updateProfileForm.controls.NPI.setValue(l.data&&l.data.NPI?l.data.NPI:""),this.updateProfileForm.controls.SSN.setValue(l.data&&l.data.SSN?l.data.SSN:""),this.updateProfileForm.controls.licenceNumber.setValue(l.data&&l.data.licenceNumber?l.data.licenceNumber:"")))},error:l=>{l.error?.error&&this.commonService.openSnackBar(l.error?.message,"ERROR")}})}updateProfile(){this.updateProfileForm.valid&&(this.updateProfileForm.value.userId=this.userId,this.updateProfileForm.value.clickAction="update",this.adminService.updateProfile(this.updateProfileForm.value).subscribe({next:s=>{s&&!s.error&&(this.updateAdminInLocalStorage(s.data),this.commonService.openSnackBar(s.message,"SUCCESS"))},error:s=>{s.error?.error&&this.commonService.openSnackBar(s.error?.message,"ERROR")}}))}updateAdminInLocalStorage(s){let l=this.authService.getLoggedInInfo("all");l.firstName=s.firstName,l.lastName=s.lastName,localStorage.setItem("user",JSON.stringify(l)),window.location.reload()}changePhoto(){var s=this;return(0,C.A)(function*(){s.editOptions=!1,s.dialog.open(T.m,{width:"600px",disableClose:!0,data:{cropperFor:"Profile Picture"}}).afterClosed().subscribe(function(){var p=(0,C.A)(function*(r){if(s.commonService.showLoader(),!1!==r&&null!=r.image){let _={userId:s.authService.getLoggedInInfo("_id"),profileImage:r.image.base64};yield s.authService.apiRequest("post","admin/changeProfileImage",_).subscribe(function(){var a=(0,C.A)(function*(o){let c;s.commonService.hideLoader(),c=s.authService.getLoggedInInfo(),c.profileImage=s.authService.getLoggedInInfo("_id").toString()+".png",localStorage.setItem("user",JSON.stringify(c)),s.commonService.openSnackBar(o.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(o){return a.apply(this,arguments)}}())}else s.commonService.hideLoader()});return function(r){return p.apply(this,arguments)}}())})()}editProfile(){this.editOptions=!this.editOptions}removePhoto(){var s=this;this.editOptions=!1,this.dialog.open(t.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to remove this image?"}}).afterClosed().subscribe(function(){var p=(0,C.A)(function*(r){if(r){let _={userId:s.authService.getLoggedInInfo("_id")};yield s.authService.apiRequest("post","admin/deleteProfileImage",_).subscribe(function(){var a=(0,C.A)(function*(o){let c;c=s.authService.getLoggedInInfo(),c.profileImage=o.data,localStorage.setItem("user",JSON.stringify(c)),s.commonService.openSnackBar(o.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(o){return a.apply(this,arguments)}}())}});return function(r){return p.apply(this,arguments)}}())}changePassword(){var s=this;this.dialog.open(I.s,{disableClose:!0,panelClass:"change--password--modal",data:{userId:this.userId,userRole:this.userType}}).afterClosed().subscribe(function(){var p=(0,C.A)(function*(r){r&&s.authService.logout(s.userType)});return function(r){return p.apply(this,arguments)}}())}checkSpace(s,l){this.updateProfileForm.controls[s].setValue(this.commonService.capitalize(l.target.value.trim()))}onPhoneInputChange(s){this.convertPhoneNumber=this.commonService.formatPhoneNumber(s.target.value)}static#t=this.\u0275fac=function(l){return new(l||u)(n.rXU(v.bZ),n.rXU(b.ok),n.rXU(M.h),n.rXU(X.u),n.rXU(A.z))};static#e=this.\u0275cmp=n.VBU({type:u,selectors:[["app-manage-profile"]],decls:62,vars:17,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center",3,"routerLink"],["mat-stroked-button","","color","primary",1,"me-3","back--btn"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[4,"ngIf"],[1,"profile--round","position-relative"],["alt","Profile Picture",1,"img-fluid","user--img",3,"src"],["mat-raised-button","","color","primary",1,"edit--btn",3,"click"],[1,"d-flex","flex-column","w-100","body--sec"],["mat-stroked-button","","color","primary",1,"w-100","mb-3",3,"click"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-12","col-lg-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","First name","formControlName","firstName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Last name","formControlName","lastName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["type","text","placeholder","Email ","formControlName","email",1,"form-control","form-control-md"],["class","col-12 col-lg-6",4,"ngIf"],[1,"col-12","my-2","d-flex","justify-content-end"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"click"],[3,"click",4,"ngIf"],[1,"text","text-danger","mt-1"],["type","text","placeholder","Phone ","formControlName","phoneNumber","maxlength","15",1,"form-control","form-control-md",3,"input","value"],["type","text","placeholder","NPI ","formControlName","NPI","maxlength","10",1,"form-control","form-control-md"],["type","text","placeholder","SSN ","formControlName","SSN","maxlength","9",1,"form-control","form-control-md"],["type","text","placeholder","Licence Number ","formControlName","licenceNumber","maxlength","15",1,"form-control","form-control-md"]],template:function(l,p){1&l&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"mat-icon",5),n.EFF(6," keyboard_backspace "),n.k0s()(),n.j41(7,"h3",6),n.EFF(8,"Manage Profile"),n.k0s()()(),n.j41(9,"div",7)(10,"div",8)(11,"div",9),n.DNE(12,S,4,1,"mat-list",10),n.k0s(),n.j41(13,"div",11),n.nrm(14,"img",12),n.j41(15,"button",13),n.bIt("click",function(){return p.editProfile()}),n.j41(16,"mat-icon",5),n.EFF(17," edit "),n.k0s()()(),n.j41(18,"div",14)(19,"button",15),n.bIt("click",function(){return p.changePassword()}),n.EFF(20,"Change Password"),n.k0s()()(),n.j41(21,"div",16)(22,"div",17)(23,"div",2)(24,"div",18)(25,"h3",6),n.EFF(26,"Basic Information"),n.k0s()()(),n.j41(27,"div",19)(28,"div",20)(29,"form",21)(30,"div",22)(31,"div",23)(32,"label",24),n.EFF(33,"First Name "),n.j41(34,"span",25),n.EFF(35," * "),n.k0s()(),n.j41(36,"input",26),n.bIt("blur",function(_){return p.checkSpace("firstName",_)}),n.k0s(),n.DNE(37,D,2,1,"div",27)(38,O,2,1,"div",27),n.k0s()(),n.j41(39,"div",22)(40,"div",23)(41,"label",24),n.EFF(42,"Last Name"),n.j41(43,"span",25),n.EFF(44," * "),n.k0s()(),n.j41(45,"input",28),n.bIt("blur",function(_){return p.checkSpace("lastName",_)}),n.k0s(),n.DNE(46,B,2,1,"div",27)(47,x,2,1,"div",27),n.k0s()(),n.j41(48,"div")(49,"div",23)(50,"label",24),n.EFF(51,"Email "),n.j41(52,"span",25),n.EFF(53," * "),n.k0s()(),n.nrm(54,"input",29),n.k0s()(),n.DNE(55,Y,9,3,"div",30)(56,z,8,1,"div",30)(57,k,8,1,"div",30)(58,F,6,1,"div",30),n.j41(59,"div",31)(60,"button",32),n.bIt("click",function(){return p.updateProfile()}),n.EFF(61,"Save"),n.k0s()()()()()()()()()()),2&l&&(n.R7$(3),n.Y8G("routerLink",n.lJ4(16,w)),n.R7$(9),n.Y8G("ngIf",p.editOptions),n.R7$(2),n.FS9("src",p.profileImage,n.B4B),n.R7$(15),n.Y8G("formGroup",p.updateProfileForm),n.R7$(8),n.Y8G("ngIf",p.updateProfileForm.controls.firstName.touched&&p.updateProfileForm.controls.firstName.hasError("required")),n.R7$(),n.Y8G("ngIf",p.updateProfileForm.controls.firstName.touched&&p.updateProfileForm.controls.firstName.hasError("pattern")),n.R7$(8),n.Y8G("ngIf",p.updateProfileForm.controls.lastName.touched&&p.updateProfileForm.controls.lastName.hasError("required")),n.R7$(),n.Y8G("ngIf",p.updateProfileForm.controls.lastName.touched&&p.updateProfileForm.controls.lastName.hasError("pattern")),n.R7$(),n.ZvI("col-12 ",p.isTherapist?"col-lg-6":"",""),n.R7$(7),n.Y8G("ngIf",p.isTherapist),n.R7$(),n.Y8G("ngIf",p.isTherapist),n.R7$(),n.Y8G("ngIf",p.isTherapist),n.R7$(),n.Y8G("ngIf",p.isTherapist),n.R7$(2),n.Y8G("disabled",!p.updateProfileForm.valid))},dependencies:[G.bT,b.qT,b.me,b.BC,b.cb,b.tU,L.$z,W.An,N.jt,N.YE,R.Wk,b.j4,b.JD]})}return u})()},9498:(H,V,m)=>{m.d(V,{R:()=>p});var C=m(4523),t=m(4438),I=m(4006),b=m(8834),e=m(9213);let i=(()=>{class r{constructor(a){this.dialog=a}chooseTherapistAlert(){}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(I.bZ))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-system-followup-modal"]],decls:44,vars:0,consts:[[1,"container-fluid","sfh--wrapper"],[1,"col-12"],[1,"clr--1F2F3E","font-18","mb-4","fw-600"],[1,"d-flex","align-items-center","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"m-0","clr--1F2F3E","font-16","fw-500"],[1,"col-12","d-flex","align-items-center","justify-content-center","mt-4"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"]],template:function(o,c){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h1",2),t.EFF(3,"System Followup History"),t.k0s()(),t.j41(4,"div",1)(5,"div",3)(6,"div",4)(7,"mat-icon",5),t.EFF(8,"mail"),t.k0s()(),t.j41(9,"h3",6),t.EFF(10,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(11,"div",3)(12,"div",4)(13,"mat-icon",5),t.EFF(14,"phone_iphone"),t.k0s()(),t.j41(15,"h3",6),t.EFF(16,"Fri, Nov 09, 2023 10:30 am"),t.k0s()(),t.j41(17,"div",3)(18,"div",4)(19,"mat-icon",5),t.EFF(20,"mail"),t.k0s()(),t.j41(21,"h3",6),t.EFF(22,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(23,"div",3)(24,"div",4)(25,"mat-icon",5),t.EFF(26,"phone_iphone"),t.k0s()(),t.j41(27,"h3",6),t.EFF(28,"Fri, Nov 09, 2023 10:30 am"),t.k0s()(),t.j41(29,"div",3)(30,"div",4)(31,"mat-icon",5),t.EFF(32,"mail"),t.k0s()(),t.j41(33,"h3",6),t.EFF(34,"Sat, Nov 10, 2023 10:00 am"),t.k0s()(),t.j41(35,"div",3)(36,"div",4)(37,"mat-icon",5),t.EFF(38,"phone_iphone"),t.k0s()(),t.j41(39,"h3",6),t.EFF(40,"Fri, Nov 09, 2023 10:30 am"),t.k0s()()(),t.j41(41,"div",7)(42,"button",8),t.bIt("click",function(){return c.chooseTherapistAlert()}),t.EFF(43,"Close"),t.k0s()()())},dependencies:[b.$z,I.tx,e.An],styles:[".sfh--wrapper[_ngcontent-%COMP%]{padding:30px 20px}.sfh--wrapper[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}"]})}return r})();var T=m(7142),U=m(8920),n=m(7278),v=m(9417),M=m(6354),X=m(9172),A=m(5802),G=m(620),L=m(446),W=m(7664),N=m(4710),R=m(6992),w=m(3390),g=m(177),S=m(850),D=m(6600),O=m(2765),B=m(9631);const x=(r,_)=>[r,"intake-form","step-1",_];function y(r,_){if(1&r){const a=t.RV6();t.j41(0,"div",23)(1,"h3",24),t.EFF(2),t.k0s(),t.j41(3,"div",25)(4,"mat-icon",26),t.EFF(5,"mail "),t.k0s(),t.j41(6,"p",27),t.EFF(7),t.k0s()(),t.j41(8,"div",25)(9,"mat-icon",26),t.EFF(10,"call "),t.k0s(),t.j41(11,"p",27),t.EFF(12),t.k0s()(),t.j41(13,"button",28),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.navigateTopatientDetails(c.appointmentData.patientId._id))}),t.EFF(14," View Patient Profile "),t.k0s(),t.j41(15,"button",28),t.bIt("click",function(){t.eBV(a);const c=t.XpG(2);return t.Njj(c.systemFollowup())}),t.EFF(16," Appointment Reminders "),t.k0s()()}if(2&r){const a=t.XpG(2);t.R7$(2),t.Lme(" ",a.appointmentData.patientInfo.firstName," ",a.appointmentData.patientInfo.lastName," "),t.R7$(5),t.JRh(a.appointmentData.patientInfo.email),t.R7$(5),t.SpI("+1 ",a.appointmentData.patientInfo.phoneNumber,"")}}function $(r,_){if(1&r&&(t.j41(0,"div",4)(1,"div",29)(2,"h3",8),t.EFF(3,"Basic Information"),t.k0s(),t.j41(4,"button",30),t.EFF(5," View Intake Form "),t.k0s()()()),2&r){const a=t.XpG(2);t.R7$(4),t.Y8G("routerLink",t.l_i(1,x,a.activeUserRoute,a.appointmentId))}}function Y(r,_){if(1&r){const a=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(a);const c=t.XpG(3);return t.Njj(c.rescheduleModal(c.appointmentData._id))}),t.j41(1,"mat-icon",58),t.EFF(2," replay "),t.k0s(),t.EFF(3," Reschedule "),t.k0s()}}function K(r,_){if(1&r){const a=t.RV6();t.j41(0,"button",57),t.bIt("click",function(){t.eBV(a);const c=t.XpG(3);return t.Njj(c.viewInsuranveModal())}),t.j41(1,"mat-icon",59),t.EFF(2," visibility "),t.k0s(),t.EFF(3," View Insurance "),t.k0s()}}function z(r,_){1&r&&(t.j41(0,"mat-option",60),t.EFF(1," Select The Therapist "),t.k0s())}function h(r,_){if(1&r&&(t.j41(0,"mat-option",61),t.EFF(1),t.k0s()),2&r){const a=_.$implicit;t.Y8G("value",a),t.R7$(),t.SpI(" ",a.name," ")}}function k(r,_){if(1&r&&(t.j41(0,"div",62),t.EFF(1),t.k0s()),2&r){const a=t.XpG(3);t.R7$(),t.SpI(" ",a.validationMessages.requiredDropdown("Assign Therapist")," ")}}function f(r,_){if(1&r&&(t.j41(0,"div",62),t.EFF(1),t.k0s()),2&r){const a=t.XpG(3);t.R7$(),t.SpI(" ",a.validationMessages.requiredDropdown("assign therapist from the list")," ")}}function F(r,_){if(1&r&&(t.j41(0,"div",62),t.EFF(1),t.k0s()),2&r){const a=t.XpG(3);t.R7$(),t.SpI(" ",a.validationMessages.required("Case Name")," ")}}function E(r,_){if(1&r&&(t.j41(0,"div",62),t.EFF(1),t.k0s()),2&r){const a=t.XpG(3);t.R7$(),t.SpI(" ",a.validationMessages.required("Copay Amount")," ")}}function u(r,_){if(1&r&&(t.j41(0,"div",62),t.EFF(1),t.k0s()),2&r){const a=t.XpG(3);t.R7$(),t.SpI(" ",a.validationMessages.required("High Deductibles")," ")}}function d(r,_){if(1&r){const a=t.RV6();t.j41(0,"div",31)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",33)(5,"div",32)(6,"div",35)(7,"div",36)(8,"mat-icon",37),t.EFF(9,"location_on"),t.k0s()(),t.j41(10,"div",38)(11,"h3",39),t.EFF(12,"Practice Location "),t.k0s(),t.j41(13,"p",40),t.EFF(14),t.k0s()()()(),t.j41(15,"div",32)(16,"div",35)(17,"div",36)(18,"mat-icon",37),t.EFF(19,"call"),t.k0s()(),t.j41(20,"div",38)(21,"h3",39),t.EFF(22,"Appointment #"),t.k0s(),t.j41(23,"p",40),t.EFF(24),t.k0s()()()(),t.j41(25,"div",32)(26,"div",35)(27,"div",36)(28,"mat-icon",37),t.EFF(29,"calendar_today"),t.k0s()(),t.j41(30,"div",41)(31,"div",42)(32,"h3",39),t.EFF(33,"Appointment Date "),t.k0s(),t.j41(34,"p",40),t.EFF(35),t.nI1(36,"date"),t.k0s()(),t.DNE(37,Y,4,0,"button",43),t.k0s()()(),t.j41(38,"div",32)(39,"div",35)(40,"div",36)(41,"mat-icon",37),t.EFF(42,"published_with_changes"),t.k0s()(),t.j41(43,"div",38)(44,"h3",39),t.EFF(45,"Appointment Status "),t.k0s(),t.j41(46,"p"),t.EFF(47),t.k0s()()()(),t.j41(48,"div",32)(49,"div",35)(50,"div",36)(51,"mat-icon",37),t.EFF(52,"paid"),t.k0s()(),t.j41(53,"div",41)(54,"div",42)(55,"h3",39),t.EFF(56,"Payment Mode"),t.k0s(),t.j41(57,"p",40),t.EFF(58),t.k0s()(),t.DNE(59,K,4,0,"button",44),t.k0s()()()()(),t.j41(60,"div",34)(61,"div",33)(62,"div",32)(63,"div",45)(64,"label",46),t.EFF(65,"Assign Therapist "),t.j41(66,"span",47),t.EFF(67," * "),t.k0s()(),t.nrm(68,"input",48),t.j41(69,"mat-autocomplete",49,0),t.DNE(71,z,2,0,"mat-option",50)(72,h,2,2,"mat-option",51),t.nI1(73,"async"),t.k0s(),t.DNE(74,k,2,1,"div",52)(75,f,2,1,"div",52),t.k0s()(),t.j41(76,"div",32)(77,"div",45)(78,"label",46),t.EFF(79,"Case Name"),t.k0s(),t.j41(80,"input",53),t.bIt("blur",function(c){t.eBV(a);const P=t.XpG(2);return t.Njj(P.checkSpace("caseName",c))}),t.k0s(),t.DNE(81,F,2,1,"div",52),t.k0s()(),t.j41(82,"div",32)(83,"div",45)(84,"label",46),t.EFF(85,"Copay Amount"),t.k0s(),t.j41(86,"input",54),t.bIt("blur",function(c){t.eBV(a);const P=t.XpG(2);return t.Njj(P.checkSpace("coPayAmount",c))}),t.k0s(),t.DNE(87,E,2,1,"div",52),t.k0s()(),t.j41(88,"div",32)(89,"div",45)(90,"label",46),t.EFF(91,"High Deductibles"),t.k0s(),t.j41(92,"input",55),t.bIt("blur",function(c){t.eBV(a);const P=t.XpG(2);return t.Njj(P.checkSpace("highDeductibles",c))}),t.k0s(),t.DNE(93,u,2,1,"div",52),t.k0s(),t.j41(94,"mat-checkbox",56),t.bIt("change",function(c){t.eBV(a);const P=t.XpG(2);return t.Njj(P.patientCheckIn(c,P.appointmentData))}),t.mxI("ngModelChange",function(c){t.eBV(a);const P=t.XpG(2);return t.DH7(P.appointmentData.checkIn,c)||(P.appointmentData.checkIn=c),t.Njj(c)}),t.EFF(95,"Patient Checked-In"),t.k0s()()()()()()()}if(2&r){const a=t.sdS(70),o=t.XpG(2);t.R7$(14),t.SpI(" ",o.appointmentData.practiceLocation,""),t.R7$(10),t.SpI(" ",o.appointmentData.appointmentId?o.appointmentData.appointmentId:"",""),t.R7$(11),t.SpI(" ",t.i5U(36,22,o.appointmentData.appointmentDate,"mediumDate")," "),t.R7$(2),t.Y8G("ngIf",o.isFormEditable&&"Rescheduled"!=o.appointmentData.status),t.R7$(9),t.ZvI("mb-0 font-16 fw-400 status ",o.statusFlag,""),t.R7$(),t.SpI(" ",o.appointmentData.status," "),t.R7$(11),t.SpI(" ",o.appointmentData.payVia," "),t.R7$(),t.Y8G("ngIf","Insurance"==o.appointmentData.payVia),t.R7$(9),t.Y8G("disabled",!o.isFormEditable)("matAutocomplete",a),t.R7$(),t.Y8G("displayWith",o.getValue),t.R7$(2),t.Y8G("ngIf",!o.appoitmentForm.controls.therapistId.value),t.R7$(),t.Y8G("ngForOf",t.bMT(73,25,o.therapistList)),t.R7$(2),t.Y8G("ngIf",o.appoitmentForm.controls.therapistId.touched&&o.appoitmentForm.controls.therapistId.hasError("required")&&o.appoitmentForm.controls.therapistId.invalid),t.R7$(),t.Y8G("ngIf",o.appoitmentForm.controls.therapistId.touched&&o.appoitmentForm.controls.therapistId.hasError("incorrect")&&o.appoitmentForm.controls.therapistId.invalid),t.R7$(6),t.Y8G("ngIf",o.appoitmentForm.controls.caseName.touched&&(o.appoitmentForm.controls.caseName.hasError("required")||o.appoitmentForm.controls.caseName.invalid)),t.R7$(6),t.Y8G("ngIf",o.appoitmentForm.controls.coPayAmount.touched&&(o.appoitmentForm.controls.coPayAmount.hasError("required")||o.appoitmentForm.controls.coPayAmount.invalid)),t.R7$(6),t.Y8G("ngIf",o.appoitmentForm.controls.highDeductibles.touched&&(o.appoitmentForm.controls.highDeductibles.hasError("required")||o.appoitmentForm.controls.highDeductibles.invalid)),t.R7$(),t.Y8G("disabled",!o.isFormEditable),t.R50("ngModel",o.appointmentData.checkIn)}}function s(r,_){if(1&r&&(t.j41(0,"div",11)(1,"div",12),t.nrm(2,"div",13),t.j41(3,"div",14)(4,"div",15)(5,"span",16),t.nrm(6,"img",17),t.k0s()()(),t.DNE(7,y,17,4,"div",18),t.k0s(),t.j41(8,"div",19)(9,"div",20),t.DNE(10,$,6,4,"div",21)(11,d,96,27,"div",22),t.k0s()()()),2&r){const a=t.XpG();t.R7$(6),t.FS9("src",a.profileImage,t.B4B),t.R7$(),t.Y8G("ngIf",a.appointmentData.patientInfo),t.R7$(3),t.Y8G("ngIf",a.isFormEditable),t.R7$(),t.Y8G("ngIf",a.appointmentData)}}function l(r,_){if(1&r){const a=t.RV6();t.j41(0,"div",63)(1,"button",64),t.EFF(2),t.k0s(),t.j41(3,"button",65),t.bIt("click",function(){t.eBV(a);const c=t.XpG();return t.Njj(c.writeComment(c.appointmentData._id))}),t.EFF(4),t.k0s()()}if(2&r){const a=t.XpG();t.R7$(),t.Y8G("disabled","Accepted"==a.appointmentData.status||"Cancelled"==a.appointmentData.status),t.R7$(),t.SpI(" ","Accepted"==a.appointmentData.status?"Accepted":"Accept Appointment"," "),t.R7$(),t.Y8G("disabled","Cancelled"==a.appointmentData.status||"Accepted"==a.appointmentData.status),t.R7$(),t.SpI(" ","Cancelled"==a.appointmentData.status?"Cancelled":"Cancel Appointment"," ")}}let p=(()=>{class r{constructor(a,o,c,P,j,J,Z){this.dialog=a,this.fb=o,this.navigationService=c,this.router=P,this.route=j,this.authService=J,this.commonService=Z,this.appointmentData=[],this.appointment_flag=!1,this.profileImage="",this.assign_therapist="",this.orderBy={updatedAt:-1},this.options=[],this.validationMessages=A.q,this.isFormEditable=!1,this.activeUserRoute="/"+this.commonService.getLoggedInRoute()+"/",this.route.params.subscribe(Q=>{this.appointmentId=Q.appointmentId})}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),this.appoitmentForm=this.fb.group({therapistId:["",[v.k0.required,v.k0.minLength(1),v.k0.maxLength(35)]],caseName:["",[v.k0.pattern("^[ A-Za-z ]*$"),v.k0.required,v.k0.minLength(1),v.k0.maxLength(35)]],coPayAmount:["",[v.k0.required,v.k0.minLength(1),v.k0.maxLength(35)]],highDeductibles:["",[v.k0.required,v.k0.minLength(1),v.k0.maxLength(35)]]}),"support_team"==this.userRole?this.isFormEditable=!0:this.appoitmentForm.disable(),this.getAppointmentDetails(),this.getTherapistList()}getValue(a){return a&&a.name?a.name:""}_filter(a){const o=a.toLowerCase();return this.options.filter(c=>c.name.toLowerCase().includes(o))}checkthevalue(a){let o="";return a&&a.name&&(o=a.name),o}getTherapistList(){var a=this;return(0,C.A)(function*(){let o={query:{role:"therapist",status:"Active"},fields:{_id:1,firstName:1,lastName:1},order:a.orderBy};yield a.authService.apiRequest("post","admin/getTherapistList",o).subscribe(function(){var c=(0,C.A)(function*(P){a.commonService.hideLoader(),P.data&&P.data.therapistData&&(a.options=P.data.therapistData,a.therapistList=a.appoitmentForm.controls.therapistId.valueChanges.pipe((0,X.Z)(""),(0,M.T)(j=>a.checkthevalue(j)),(0,M.T)(j=>j?a._filter(j):a.options.slice())))});return function(P){return c.apply(this,arguments)}}())})()}getAppointmentDetails(){var a=this;return(0,C.A)(function*(){if(a.appointmentId){a.commonService.showLoader();let o={query:{_id:a.appointmentId},fields:{},patientFields:{_id:1,firstName:1,lastName:1,profileImage:1},therapistFields:{_id:1,firstName:1,lastName:1,profileImage:1}};yield a.authService.apiRequest("post","appointment/getAppointmentDetails",o).subscribe(function(){var c=(0,C.A)(function*(P){a.commonService.hideLoader(),P.data&&P.data.appointmentData&&(a.appointmentData=P.data.appointmentData,a.statusFlag=a.appointmentData.status.charAt(0).toLowerCase()+a.appointmentData.status.slice(1),a.profileImage=L.ns.awsS3Url+L.ns.userProfileFolderPath+a.appointmentData.patientId.profileImage,a.appointmentData.therapistId&&a.appointmentData.therapistId.firstName&&(a.assign_therapist=a.appointmentData.therapistId.firstName+" "+a.appointmentData.therapistId.lastName,a.appoitmentForm.controls.therapistId.setValue({id:a.appointmentData.therapistId,name:a.assign_therapist})),a.appoitmentForm.controls.caseName.setValue(a.appointmentData.caseName?a.appointmentData.caseName:""),a.appoitmentForm.controls.highDeductibles.setValue(a.appointmentData.highDeductibles?a.appointmentData.highDeductibles:""),a.appoitmentForm.controls.coPayAmount.setValue(a.appointmentData.coPayAmount?a.appointmentData.coPayAmount:""),a.appointment_flag=!0)});return function(P){return c.apply(this,arguments)}}())}})()}formSubmit(a=null){var o=this;return(0,C.A)(function*(){if(!o.appoitmentForm.invalid)return a.therapistId.id?(o.assign_therapist=a.therapistId.name,void o.acceptAppointment(a)):(o.appoitmentForm.controls.therapistId.setErrors({incorrect:!0}),o.appoitmentForm.controls.therapistId.markAsTouched(),void console.log("appoitmentForm >>>>",o.appoitmentForm.controls));o.appoitmentForm.markAllAsTouched()})()}patientCheckIn(a,o){var c=this;return(0,C.A)(function*(){if(null!=a.source._checked){let P={query:{_id:o._id},updateInfo:{checkIn:a.source._checked}};yield c.authService.apiRequest("post","appointment/updatePatientCheckIn",P).subscribe(function(){var j=(0,C.A)(function*(J){});return function(J){return j.apply(this,arguments)}}())}})()}getPreviousPageLink(){return this.navigationService.getPreviousUrl()?this.navigationService.getPreviousUrl():this.activeUserRoute+"/dashboard/"}systemFollowup(){return this.dialog.open(i,{panelClass:"custom-alert-container"}).afterClosed().subscribe(o=>!1),!1}writeComment(a){this.dialog.open(T.b,{disableClose:!0,panelClass:"custom-alert-container",data:{appointmentId:a,userRole:this.userRole,userId:this.userId}}).afterClosed().subscribe(c=>{c&&!c.error&&(this.getAppointmentDetails(),this.commonService.openSnackBar(c.message,"SUCCESS"))})}rescheduleModal(a){return this.dialog.open(U.e,{disableClose:!0,panelClass:["custom-alert-container","rechedule--wrapper"],data:{appointmentId:a,userRole:this.userRole,userId:this.userId}}).afterClosed().subscribe(c=>{c&&!c.error&&(this.getAppointmentDetails(),this.commonService.openSnackBar(c.message,"SUCCESS"))}),!1}successModal(){this.dialog.open(n.c,{panelClass:"custom-alert-container",data:{successNote:"Kindly choose a therapist prior to confirming the appointment request."}})}acceptAppointment(a){var o=this;return(0,C.A)(function*(){if(o.appointmentId){let c={query:{_id:o.appointmentId},userId:o.userId,userRole:o.userRole,data:a};yield o.authService.apiRequest("post","appointment/acceptAppointment",c).subscribe(function(){var P=(0,C.A)(function*(j){o.commonService.hideLoader(),j.error?o.commonService.openSnackBar(j.message,"ERROR"):(o.commonService.openSnackBar(j.message,"SUCCESS"),o.getAppointmentDetails(),o.successModal())});return function(j){return P.apply(this,arguments)}}())}})()}checkSpace(a,o){this.appoitmentForm.controls[a].setValue(this.commonService.capitalize(o.target.value.trim()))}navigateTopatientDetails(a){this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-profile/",a])}viewInsuranveModal(){return this.dialog.open(G.C,{panelClass:"modal--wrapper",data:this.appointmentData}),!1}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(I.bZ),t.rXU(v.ok),t.rXU(W.o),t.rXU(N.Ix),t.rXU(N.nX),t.rXU(R.u),t.rXU(w.h))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-appointment-details"]],decls:12,vars:4,consts:[["auto","matAutocomplete"],[1,"col-12","app--details--wrapper","profile--right--wrapper"],[1,"card"],[3,"ngSubmit","formGroup"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],["class","card-body d-flex flex-column flex-sm-row",4,"ngIf"],["class","d-flex align-items-center justify-content-center w-100 footer--btns",4,"ngIf"],[1,"card-body","d-flex","flex-column","flex-sm-row"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[1,"profile--round","position-relative"],[1,"user--name","d-flex","align-items-center","justify-content-center"],[1,"text-primary","fw-700","text-uppercase"],[1,"img-fluid","user--img",3,"src"],["class","d-flex flex-column align-items-center justify-content-center w-100 body--sec",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],["class","card-header pb-0",4,"ngIf"],["class","card-body mt-4",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100","body--sec"],[1,"font-18","fw-700"],[1,"d-flex","align-items-center","user--email"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"my-2","font-15"],["mat-stroked-button","","color","primary",1,"mp--btn",3,"click"],[1,"col-12","d-flex","align-items-center","align-items-sm-start","flex-sm-column","flex-lg-row","justify-content-between"],["mat-raised-button","","color","primary",3,"routerLink"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row"],[1,"col-12","col-xl-6","col-md-12"],[1,"d-flex","align-items-start","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"d-flex","flex-column"],[1,"m-0","clr--1F2F3E","font-16","fw-700"],[1,"mb-0","clr--1F2F3E","font-16","fw-400"],[1,"d-flex","flex-column","flex-sm-column","flex-lg-row"],[1,"d-flex","flex-column","me-3"],["mat-stroked-button","","color","primary","class","flex-shrink-0",3,"click",4,"ngIf"],["class","flex-shrink-0","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","matInput","","formControlName","therapistId",1,"form-control","form-control-md",3,"disabled","matAutocomplete"],[3,"displayWith"],["disabled","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Search Case Name","formControlName","caseName",1,"form-control","form-control-md",3,"blur"],["type","number","formControlName","coPayAmount","placeholder","$",1,"form-control","form-control-md",3,"blur"],["type","number","formControlName","highDeductibles","placeholder","$",1,"form-control","form-control-md",3,"blur"],[1,"",3,"change","ngModelChange","disabled","ngModel"],["mat-stroked-button","","color","primary",1,"flex-shrink-0",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-1"],[1,"material-symbols-outlined","flex-shrink-0","me-1","ms-1"],["disabled","",3,"value"],[3,"value"],[1,"text","text-danger","mt-1"],[1,"d-flex","align-items-center","justify-content-center","w-100","footer--btns"],["mat-raised-button","","color","green--btn","type","submit",1,"m-1",3,"disabled"],["mat-raised-button","","color","warn",1,"m-1",3,"click","disabled"]],template:function(o,c){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"form",3),t.bIt("ngSubmit",function(){return c.formSubmit(c.appoitmentForm.value)}),t.j41(3,"div",4)(4,"div",5)(5,"button",6)(6,"mat-icon",7),t.EFF(7," keyboard_backspace "),t.k0s()(),t.j41(8,"h3",8),t.EFF(9,"Appointment Details"),t.k0s()()(),t.DNE(10,s,12,4,"div",9)(11,l,5,4,"div",10),t.k0s()()()),2&o&&(t.R7$(2),t.Y8G("formGroup",c.appoitmentForm),t.R7$(3),t.Y8G("routerLink",c.getPreviousPageLink()),t.R7$(5),t.Y8G("ngIf",c.appointment_flag),t.R7$(),t.Y8G("ngIf",c.isFormEditable))},dependencies:[g.Sq,g.bT,v.qT,v.me,v.Q0,v.BC,v.cb,v.vS,S.$3,D.wT,S.pN,b.$z,O.So,e.An,B.fg,N.Wk,v.j4,v.JD,g.Jj,g.vh],styles:[".profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 38px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 5px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;margin-right:5px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .mp--btn[_ngcontent-%COMP%]{min-width:184px;margin-top:24px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]{border-top:1px solid rgba(49,184,184,.3019607843);margin-top:25px;padding-top:25px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]{overflow:auto}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]   .v--box[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;overflow:hidden;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:fixed;bottom:15px;z-index:99}@media only screen and (max-width: 599px){.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:relative;flex-direction:column}}@media screen and (orientation: landscape) and (max-width: 850px){.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:relative;flex-direction:column}}"]})}return r})()},7785:(H,V,m)=>{m.d(V,{H:()=>u});var C=m(4523),t=m(9159),I=m(446),b=m(5802),e=m(4438),i=m(4006),T=m(6992),U=m(3390),n=m(4710),v=m(177),M=m(9417),X=m(8834),A=m(5084),G=m(2102),L=m(9213),W=m(9631),N=m(6695),R=m(2042);const w=(d,s)=>["/",d,"patients","patient-profile",s],g=(d,s)=>["/",d,"appointment-details",s];function S(d,s){if(1&d&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&d){const l=s.$implicit;e.FS9("value",l),e.R7$(),e.SpI("",l," ")}}function D(d,s){if(1&d&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&d){const l=s.$implicit;e.FS9("value",l),e.R7$(),e.SpI("",l," ")}}function O(d,s){1&d&&(e.j41(0,"th",44),e.EFF(1," Appointment # "),e.k0s())}function B(d,s){if(1&d&&(e.j41(0,"p",51)(1,"span",52),e.EFF(2,"Therapist"),e.k0s(),e.EFF(3),e.k0s()),2&d){const l=e.XpG().$implicit;e.R7$(3),e.SpI(" ",l.info.fullName," ")}}function x(d,s){if(1&d&&(e.j41(0,"td",45)(1,"div",46)(2,"div",47),e.nrm(3,"img",48),e.k0s(),e.j41(4,"div")(5,"p",49),e.EFF(6),e.k0s(),e.DNE(7,B,4,1,"p",50),e.j41(8,"p",51)(9,"span",52),e.EFF(10,"Appointment #"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"p",51)(13,"span",52),e.EFF(14,"Case Name"),e.k0s(),e.EFF(15),e.k0s()()()()),2&d){const l=s.$implicit;e.R7$(3),e.FS9("src",l.info.profileImage,e.B4B),e.R7$(3),e.SpI(" ",l.practiceLocation," "),e.R7$(),e.Y8G("ngIf",""!=l.info.fullName),e.R7$(4),e.SpI(" ",l.appointmentId," "),e.R7$(4),e.SpI(" ",l.caseName?l.caseName:"N/A"," ")}}function y(d,s){1&d&&(e.j41(0,"th",53),e.EFF(1," Appointment Date "),e.k0s())}function $(d,s){if(1&d&&(e.j41(0,"td",45),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&d){const l=s.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,l.appointmentDate,"mediumDate")," ")}}function Y(d,s){1&d&&(e.j41(0,"th",54),e.EFF(1," Status "),e.k0s())}function K(d,s){if(1&d&&(e.j41(0,"td",45)(1,"p"),e.EFF(2),e.k0s()()),2&d){const l=s.$implicit;e.R7$(),e.ZvI("status ",l.statusClass,""),e.R7$(),e.JRh(l.statusClass)}}function z(d,s){1&d&&(e.j41(0,"th",55),e.EFF(1," Action "),e.k0s())}function h(d,s){if(1&d&&(e.j41(0,"td",45)(1,"div",56)(2,"button",57)(3,"mat-icon",58),e.EFF(4,"visibility "),e.k0s()()()()),2&d){const l=s.$implicit,p=e.XpG();e.R7$(2),e.Y8G("routerLink",e.l_i(1,g,p.activeUserRoute,l.id))}}function k(d,s){1&d&&e.nrm(0,"tr",59)}function f(d,s){1&d&&e.nrm(0,"tr",60)}function F(d,s){if(1&d&&(e.j41(0,"div",61)(1,"div",62),e.nrm(2,"img",63),e.j41(3,"p",64),e.EFF(4),e.k0s()()()),2&d){const l=e.XpG();e.R7$(4),e.JRh(l.validationMessages.noRecords)}}const E=[];let u=(()=>{class d{constructor(l,p,r,_){this.dialog=l,this.authService=p,this.commonService=r,this.route=_,this.displayedColumns=["info","appointmentDate","status","action"],this.dataSource=new t.I6(E),this.appointmentStatus=I.K0,this.practiceLocations=I.WM,this.validationMessages=b.q,this.orderBy={createdAt:-1},this.whereCond={},this.userQuery={},this.totalCount=0,this.pageIndex=0,this.pageSize=I.T0,this.pageSizeOptions=I.Xe,this.seachByName="",this.appStatusVal="",this.practiceLocVal="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe(a=>{this.patientId=a.userId})}ngOnInit(){let l=this.commonService.getMaxAppoinmentFutureMonths();this.maxFromDate=l,this.maxToDate=l,this.whereCond={patientId:this.patientId},this.getPatientDetail(),this.getAppointmentList()}getPatientDetail(){var l=this;return(0,C.A)(function*(){let p={query:{_id:l.patientId},fields:{firstName:1,lastName:1}};yield l.authService.apiRequest("post","patients/getPatientData",p).subscribe(function(){var r=(0,C.A)(function*(_){l.patientName=_.data.patientData.firstName+" "+_.data.patientData.lastName});return function(_){return r.apply(this,arguments)}}())})()}getAppointmentList(l=""){var p=this;return(0,C.A)(function*(){""==l&&p.commonService.showLoader();let r={query:p.whereCond,userQuery:p.userQuery,fields:{practiceLocation:1,appointmentId:1,appointmentDate:1,status:1,caseName:1},patientFields:{firstName:1,lastName:1},therapistFields:{firstName:1,lastName:1,profileImage:1},order:p.orderBy,limit:p.pageSize,offset:p.pageIndex*p.pageSize};yield p.authService.apiRequest("post","appointment/getAppointmentList",r).subscribe(function(){var _=(0,C.A)(function*(a){p.commonService.hideLoader(),p.totalCount=a.data.totalCount;let o=[];yield a.data.appointmentList.map(c=>{let P={fullName:"",profileImage:I.ns.awsS3Url+I.ns.userProfileFolderPath+"default.png"};c.therapistId&&(P.profileImage=I.ns.awsS3Url+I.ns.userProfileFolderPath+c.therapistId.profileImage,P.fullName=c.therapistId.firstName+" "+c.therapistId.lastName),p.patientName=c.patientId.firstName+" "+c.patientId.lastName;let j={id:c._id,info:P,appointmentId:c.appointmentId,appointmentDate:c.appointmentDate,status:c.status,caseName:c.caseName,statusClass:c.status.toLowerCase(),practiceLocation:c.practiceLocation};o.push(j)}),p.appointmentList=new t.I6(o)});return function(a){return _.apply(this,arguments)}}())})()}onDateChange(l,p){let r;"fromDate"==p&&(this.minToDate=new Date(l.target.value)),r=this.fromDate&&this.toDate?{appointmentDate:{$gte:this.fromDate,$lte:this.toDate}}:this.fromDate?{appointmentDate:{$gte:this.fromDate}}:{appointmentDate:{$lte:this.toDate}},Object.assign(this.whereCond,r),this.getAppointmentList("search")}announceSortChange(l){let p;p="desc"==l.direction?-1:1,this.orderBy="info"==l.active?{appointmentId:p}:{[l.active]:p},this.getAppointmentList()}searchRecords(l){let p=l.target.value.trim();if(""!=p){p=p.replace("+","\\+");let r={$regex:p,$options:"i"};this.userQuery={status:"Active",role:"therapist",$or:[{firstName:r},{lastName:r},{email:r}]}}else this.userQuery={};this.getAppointmentList("search")}handlePageEvent(l){this.pageSize=l.pageSize,this.pageIndex=l.pageIndex,this.getAppointmentList()}reset(){this.userQuery={},this.whereCond={patientId:this.patientId},this.totalCount=0,this.pageIndex=0,this.pageSize=I.T0,this.pageSizeOptions=I.Xe,this.practiceLocVal="",this.appStatusVal="",this.fromDate="",this.toDate="",this.seachByName="",this.getAppointmentList("reset")}filterDropDown(l,p){""!=l.target.value?Object.assign(this.whereCond,{[p]:l.target.value}):delete this.whereCond[p],this.getAppointmentList("search")}static#t=this.\u0275fac=function(p){return new(p||d)(e.rXU(i.bZ),e.rXU(T.u),e.rXU(U.h),e.rXU(n.nX))};static#e=this.\u0275cmp=e.VBU({type:d,selectors:[["app-patient-details"]],decls:70,vars:28,consts:[["picker",""],["picker2",""],["paginator",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","mb-3","flex-wrap"],[1,"mb-0","clr--1F2F3E","fw-500","me-2"],[1,"mb-0","clr--1F2F3E","me-2"],[1,"mb-0","text-primary","fw-600","font-16",3,"routerLink"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search by Therapist Name",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0"],["value","","selected",""],[1,"input-group"],[1,"w-100","am--datepicker"],["readonly","isReadonly","placeholder","From Date","matInput","",3,"ngModelChange","dateChange","ngModel","max","matDatepicker"],["matIconSuffix","",3,"for"],["readonly","isReadonly","placeholder","To Date","matInput","",3,"ngModelChange","dateChange","ngModel","min","max","matDatepicker"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","info"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["alt","",1,"img-fluid",3,"src"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],["class","mb-0 font-14 text-primary clr--1F2F3E",4,"ngIf"],[1,"mb-0","font-14","text-primary","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],["mat-header-cell","","mat-sort-header",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(p,r){if(1&p){const _=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h3",7),e.EFF(5,"Patient:"),e.k0s(),e.j41(6,"h3",8),e.EFF(7),e.k0s(),e.j41(8,"a",9),e.EFF(9," View Patient Profile "),e.k0s()(),e.j41(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"select",14),e.mxI("ngModelChange",function(o){return e.eBV(_),e.DH7(r.practiceLocVal,o)||(r.practiceLocVal=o),e.Njj(o)}),e.bIt("change",function(o){return e.eBV(_),e.Njj(r.filterDropDown(o,"practiceLocation"))}),e.j41(15,"option",15),e.EFF(16,"Practice Location"),e.k0s(),e.DNE(17,S,2,2,"option",16),e.k0s()()(),e.j41(18,"div",12)(19,"div",13)(20,"input",17),e.mxI("ngModelChange",function(o){return e.eBV(_),e.DH7(r.seachByName,o)||(r.seachByName=o),e.Njj(o)}),e.bIt("keyup",function(o){return e.eBV(_),e.Njj(r.searchRecords(o))}),e.k0s(),e.j41(21,"button",18)(22,"mat-icon",19),e.EFF(23,"search "),e.k0s()()()(),e.j41(24,"div",12)(25,"div",13)(26,"select",14),e.mxI("ngModelChange",function(o){return e.eBV(_),e.DH7(r.appStatusVal,o)||(r.appStatusVal=o),e.Njj(o)}),e.bIt("change",function(o){return e.eBV(_),e.Njj(r.filterDropDown(o,"status"))}),e.j41(27,"option",20),e.EFF(28,"Appointment Status"),e.k0s(),e.DNE(29,D,2,2,"option",16),e.k0s()()(),e.j41(30,"div",12)(31,"div",13)(32,"div",21)(33,"mat-form-field",22)(34,"input",23),e.mxI("ngModelChange",function(o){return e.eBV(_),e.DH7(r.fromDate,o)||(r.fromDate=o),e.Njj(o)}),e.bIt("dateChange",function(o){return e.eBV(_),e.Njj(r.onDateChange(o,"fromDate"))}),e.k0s(),e.nrm(35,"mat-datepicker-toggle",24)(36,"mat-datepicker",null,0),e.k0s()()()(),e.j41(38,"div",12)(39,"div",13)(40,"div",21)(41,"mat-form-field",22)(42,"input",25),e.mxI("ngModelChange",function(o){return e.eBV(_),e.DH7(r.toDate,o)||(r.toDate=o),e.Njj(o)}),e.bIt("dateChange",function(o){return e.eBV(_),e.Njj(r.onDateChange(o,"toDate"))}),e.k0s(),e.nrm(43,"mat-datepicker-toggle",24)(44,"mat-datepicker",null,1),e.k0s()()()(),e.j41(46,"div",12)(47,"div",13)(48,"button",26),e.bIt("click",function(){return e.eBV(_),e.Njj(r.reset())}),e.EFF(49,"Reset Filter"),e.k0s()()()()()(),e.j41(50,"div",27)(51,"div",28)(52,"table",29),e.bIt("matSortChange",function(o){return e.eBV(_),e.Njj(r.announceSortChange(o))}),e.qex(53,30),e.DNE(54,O,2,0,"th",31)(55,x,16,5,"td",32),e.bVm(),e.qex(56,33),e.DNE(57,y,2,0,"th",34)(58,$,3,4,"td",32),e.bVm(),e.qex(59,35),e.DNE(60,Y,2,0,"th",36)(61,K,3,4,"td",32),e.bVm(),e.qex(62,37),e.DNE(63,z,2,0,"th",38)(64,h,5,4,"td",32),e.bVm(),e.DNE(65,k,1,0,"tr",39)(66,f,1,0,"tr",40),e.k0s(),e.DNE(67,F,5,1,"div",41),e.j41(68,"mat-paginator",42,2),e.bIt("page",function(o){return e.eBV(_),e.Njj(r.handlePageEvent(o))}),e.k0s()()()()()}if(2&p){const _=e.sdS(37),a=e.sdS(45);e.R7$(7),e.JRh(r.patientName),e.R7$(),e.Y8G("routerLink",e.l_i(25,w,r.activeUserRoute,r.patientId)),e.R7$(6),e.R50("ngModel",r.practiceLocVal),e.R7$(3),e.Y8G("ngForOf",r.practiceLocations),e.R7$(3),e.R50("ngModel",r.seachByName),e.R7$(6),e.R50("ngModel",r.appStatusVal),e.R7$(3),e.Y8G("ngForOf",r.appointmentStatus),e.R7$(5),e.R50("ngModel",r.fromDate),e.Y8G("max",r.maxFromDate)("matDatepicker",_),e.R7$(),e.Y8G("for",_),e.R7$(7),e.R50("ngModel",r.toDate),e.Y8G("min",r.minToDate)("max",r.maxToDate)("matDatepicker",a),e.R7$(),e.Y8G("for",a),e.R7$(9),e.Y8G("dataSource",r.appointmentList),e.R7$(13),e.Y8G("matHeaderRowDef",r.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",r.displayedColumns),e.R7$(),e.Y8G("ngIf",r.appointmentList&&0==r.appointmentList.filteredData.length),e.R7$(),e.Y8G("length",r.totalCount)("pageSize",r.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",r.pageSizeOptions)("pageIndex",r.pageIndex)}},dependencies:[v.Sq,v.bT,M.xH,M.y7,M.me,M.wz,M.BC,M.vS,X.$z,A.Vh,A.bZ,A.bU,G.rl,G.yw,L.An,W.fg,N.iy,R.B4,R.aE,t.Zl,t.tL,t.ji,t.cC,t.YV,t.iL,t.KS,t.$R,t.YZ,t.NB,n.Wk,v.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}"]})}return d})()},1641:(H,V,m)=>{m.d(V,{m:()=>N});var C=m(4523),t=m(4494),I=m(2806),b=m(446),e=m(177),i=m(4438),T=m(4710),U=m(4006),n=m(7664),v=m(6992),M=m(3390),X=m(8834),A=m(9213);const G=(R,w)=>["/",R,"patients","patient-details",w];function L(R,w){if(1&R&&(i.j41(0,"h3",35),i.EFF(1,"SSN "),i.j41(2,"span",36),i.EFF(3),i.k0s()()),2&R){const g=i.XpG();i.R7$(3),i.JRh(null!=g.patientData&&g.patientData.ssn?g.patientData.ssn:"")}}function W(R,w){if(1&R&&(i.j41(0,"div",37),i.nrm(1,"img",38),i.k0s()),2&R){const g=i.XpG();i.R7$(),i.FS9("src",g.documentsLink,i.B4B),i.FS9("alt",g.patientData.documents_type)}}let N=(()=>{class R{constructor(g,S,D,O,B,x,y){this.router=g,this.dialog=S,this.navigationService=D,this.route=O,this.authService=B,this.commonService=x,this.datePipe=y,this.patientId="",this.profileImage="",this.documentsLink="",this.birthdate="",this.patientData="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe($=>{this.patientId=$.userId})}ngOnInit(){this.getPatientDetail()}getPatientDetail(){var g=this;return(0,C.A)(function*(){let S={query:{_id:g.patientId}};yield g.authService.apiRequest("post","patients/getPatientData",S).subscribe(function(){var D=(0,C.A)(function*(O){if(g.patientData=O.data.patientData,g.profileImage=b.ns.awsS3Url+b.ns.userProfileFolderPath+g.patientData.profileImage,g.patientData.dob){let x=g.patientData.dob.split("T");g.birthdate=new Date(x[0])}let B={query:{_id:g.patientId},fileName:g.patientData.document_temp_name};g.commonService.showLoader(),yield g.authService.apiRequest("post","patients/getPreviewDocument",B).subscribe(function(){var x=(0,C.A)(function*(y){g.commonService.hideLoader(),y.error?g.commonService.openSnackBar(y.message,"ERROR"):g.documentsLink=y.data.document});return function(y){return x.apply(this,arguments)}}())});return function(O){return D.apply(this,arguments)}}())})()}deleteAccount(){this.dialog.open(t.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this account?"}})}changePassword(){this.dialog.open(I.s,{panelClass:"change--password--modal"})}navigateToAppointmentDetails(){this.navigationService.getPreviousUrl()?this.router.navigate([this.navigationService.getPreviousUrl()]):this.router.navigate([this.activeUserRoute,"dashboard"])}static#t=this.\u0275fac=function(S){return new(S||R)(i.rXU(T.Ix),i.rXU(U.bZ),i.rXU(n.o),i.rXU(T.nX),i.rXU(v.u),i.rXU(M.h),i.rXU(e.vh))};static#e=this.\u0275cmp=i.VBU({type:R,selectors:[["app-patient-profile"]],features:[i.Jv_([e.vh])],decls:118,vars:22,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[1,"profile--round","position-relative"],[1,"user--name","d-flex","align-items-center","justify-content-center"],[1,"text-primary","fw-600"],[1,"img-fluid","user--img",3,"src"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100","body--sec"],[1,"font-18","fw-700"],[1,"d-flex","align-items-center","user--email"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"my-2","font-16"],["class","font-16 fw-700 my-2",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row"],[1,"col-12","col-lg-6"],[1,"d-flex","align-items-start","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"d-flex","flex-column"],[1,"m-0","clr--1F2F3E","font-16","fw-700"],[1,"mb-0","clr--1F2F3E","font-16","fw-400"],[1,"mb-1","clr--1F2F3E","font-16","fw-700"],[1,"fw-700"],["class","document--box",4,"ngIf"],[1,"font-16","fw-700","my-2"],[1,"fw-500"],[1,"document--box"],[1,"img-fluid",3,"src","alt"]],template:function(S,D){1&S&&(i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"mat-icon",5),i.EFF(6," keyboard_backspace "),i.k0s()(),i.j41(7,"h3",6),i.EFF(8,"Patient Profile"),i.k0s()()(),i.j41(9,"div",7)(10,"div",8),i.nrm(11,"div",9),i.j41(12,"div",10)(13,"div",11)(14,"span",12),i.nrm(15,"img",13),i.k0s()()(),i.j41(16,"div",14)(17,"h3",15),i.EFF(18),i.k0s(),i.j41(19,"div",16)(20,"mat-icon",17),i.EFF(21,"mail "),i.k0s(),i.j41(22,"p",18),i.EFF(23),i.k0s()(),i.DNE(24,L,4,1,"h3",19),i.k0s()(),i.j41(25,"div",20)(26,"div",21)(27,"div",2)(28,"div",3)(29,"h3",6),i.EFF(30,"Basic Information"),i.k0s()()(),i.j41(31,"div",22)(32,"div",23)(33,"div",24)(34,"div",25)(35,"div",24)(36,"div",23)(37,"div",26)(38,"div",27)(39,"mat-icon",28),i.EFF(40,"call"),i.k0s()(),i.j41(41,"div",29)(42,"h3",30),i.EFF(43,"Home Phone Number"),i.k0s(),i.j41(44,"p",31),i.EFF(45),i.k0s()()()(),i.j41(46,"div",23)(47,"div",26)(48,"div",27)(49,"mat-icon",28),i.EFF(50,"smartphone"),i.k0s()(),i.j41(51,"div",29)(52,"h3",30),i.EFF(53,"Cell Phone Number"),i.k0s(),i.j41(54,"p",31),i.EFF(55),i.k0s()()()(),i.j41(56,"div",23)(57,"div",26)(58,"div",27)(59,"mat-icon",28),i.EFF(60,"call"),i.k0s()(),i.j41(61,"div",29)(62,"h3",30),i.EFF(63,"Work Extension Number "),i.k0s(),i.j41(64,"p",31),i.EFF(65),i.k0s()()()(),i.j41(66,"div",23)(67,"div",26)(68,"div",27)(69,"mat-icon",28),i.EFF(70,"transgender"),i.k0s()(),i.j41(71,"div",29)(72,"h3",30),i.EFF(73,"Gender"),i.k0s(),i.j41(74,"p",31),i.EFF(75),i.k0s()()()(),i.j41(76,"div",23)(77,"div",26)(78,"div",27)(79,"mat-icon",28),i.EFF(80,"cake"),i.k0s()(),i.j41(81,"div",29)(82,"h3",30),i.EFF(83,"Date of Birth"),i.k0s(),i.j41(84,"p",31),i.EFF(85),i.nI1(86,"date"),i.k0s()()()()()(),i.j41(87,"div",25)(88,"div",24)(89,"div",23)(90,"div",26)(91,"div",27)(92,"mat-icon",28),i.EFF(93,"location_on"),i.k0s()(),i.j41(94,"div",29)(95,"h3",32),i.EFF(96,"Mailing Address"),i.k0s(),i.j41(97,"p",31)(98,"span",33),i.EFF(99,"City: "),i.k0s(),i.EFF(100),i.k0s(),i.j41(101,"p",31)(102,"span",33),i.EFF(103,"State/province/area: "),i.k0s(),i.EFF(104),i.k0s(),i.j41(105,"p",31)(106,"span",33),i.EFF(107,"Postal Code: "),i.k0s(),i.EFF(108),i.k0s()()()(),i.j41(109,"div",23)(110,"div",26)(111,"div",27)(112,"mat-icon",28),i.EFF(113,"assignment_ind"),i.k0s()(),i.j41(114,"div",29)(115,"h3",30),i.EFF(116),i.k0s(),i.DNE(117,W,2,2,"div",34),i.k0s()()()()()()()()()()()()()),2&S&&(i.R7$(4),i.Y8G("routerLink",i.l_i(19,G,D.activeUserRoute,D.patientId)),i.R7$(11),i.FS9("src",D.profileImage,i.B4B),i.R7$(3),i.Lme("",D.patientData.firstName," ",D.patientData.lastName,""),i.R7$(5),i.JRh(D.patientData.email),i.R7$(),i.Y8G("ngIf",D.patientData.ssn),i.R7$(21),i.JRh(D.patientData.phoneNumber?"+1 "+D.patientData.phoneNumber:"N/A"),i.R7$(10),i.SpI(" ",D.patientData.cellPhoneNumber?"+1 "+D.patientData.cellPhoneNumber:"N/A",""),i.R7$(10),i.SpI(" ",D.patientData.workExtensionNumber?"+1 "+D.patientData.workExtensionNumber:"N/A",""),i.R7$(10),i.SpI("",D.patientData.gender," "),i.R7$(10),i.JRh(i.i5U(86,16,D.birthdate,"mediumDate")),i.R7$(15),i.SpI(" ",D.patientData.city,""),i.R7$(4),i.SpI(" ",D.patientData.state,""),i.R7$(4),i.SpI(" ",D.patientData.zipcode," "),i.R7$(8),i.SpI(" ",D.patientData.documents_type,""),i.R7$(),i.Y8G("ngIf",D.patientData.documents_type&&D.documentsLink))},dependencies:[e.bT,X.$z,A.An,T.Wk,e.vh],styles:[".profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 38px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 15px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px;margin-right:10px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .document--box[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:180px}"]})}return R})()},423:(H,V,m)=>{m.d(V,{G:()=>z});var C=m(4523),t=m(9159),I=m(446),b=m(5802),e=m(4438),i=m(4006),T=m(6992),U=m(3390),n=m(4710),v=m(177),M=m(9417),X=m(8834),A=m(9213),G=m(6695),L=m(2042);function W(h,k){if(1&h&&(e.j41(0,"option",34),e.EFF(1),e.k0s()),2&h){const f=k.$implicit;e.FS9("value",f),e.R7$(),e.SpI("",f," ")}}function N(h,k){1&h&&(e.j41(0,"th",35),e.EFF(1," Name "),e.k0s())}function R(h,k){if(1&h&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&h){const f=k.$implicit;e.R7$(),e.SpI(" ",f.name," ")}}function w(h,k){1&h&&(e.j41(0,"th",37),e.EFF(1," Email Id "),e.k0s())}function g(h,k){if(1&h&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&h){const f=k.$implicit;e.R7$(),e.SpI(" ",f.email," ")}}function S(h,k){1&h&&(e.j41(0,"th",38),e.EFF(1," Gender "),e.k0s())}function D(h,k){if(1&h&&(e.j41(0,"td",36),e.EFF(1),e.k0s()),2&h){const f=k.$implicit;e.R7$(),e.SpI(" ",f.gender," ")}}function O(h,k){1&h&&(e.j41(0,"th",38),e.EFF(1," Date of Birth "),e.k0s())}function B(h,k){if(1&h&&(e.j41(0,"td",36),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&h){const f=k.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,f.dob,"mediumDate")," ")}}function x(h,k){1&h&&(e.j41(0,"th",39),e.EFF(1," Actions "),e.k0s())}function y(h,k){if(1&h){const f=e.RV6();e.j41(0,"td",36)(1,"div",40)(2,"button",41),e.bIt("click",function(){const E=e.eBV(f).$implicit,u=e.XpG();return e.Njj(u.navigateToAdminUserDetails(E.id))}),e.j41(3,"mat-icon",42),e.EFF(4,"visibility "),e.k0s()()()()}}function $(h,k){1&h&&e.nrm(0,"tr",43)}function Y(h,k){1&h&&e.nrm(0,"tr",44)}function K(h,k){if(1&h&&(e.j41(0,"div",45)(1,"div",46),e.nrm(2,"img",47),e.j41(3,"p",48),e.EFF(4),e.k0s()()()),2&h){const f=e.XpG();e.R7$(4),e.JRh(f.validationMessages.noRecords)}}let z=(()=>{class h{constructor(f,F,E,u){this.dialog=f,this.authService=F,this.commonService=E,this.router=u,this.displayedColumns=["name","email","gender","dob","action"],this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=I.T0,this.pageSizeOptions=I.Xe,this.validationMessages=b.q,this.orderBy={createdAt:-1},this.practiceLocVal="",this.practiceLocations=I.WM,this.maxFromDate=this.commonService.getMaxAppoinmentFutureMonths()}ngOnInit(){this.getPatientList()}announceSortChange(f){let F;F="desc"==f.direction?-1:1,this.orderBy="name"==f.active?{firstName:F}:{[f.active]:F},this.getPatientList()}searchRecords(){let f=this.searchPatient.trim();if(""!=f){f=f.replace("+","\\+");let F={$regex:f,$options:"i"};Object.assign(this.whereCond,{$or:[{firstName:F},{lastName:F},{email:F}]})}else delete this.whereCond.$or;this.getPatientList("search")}getPatientList(f=""){var F=this;return(0,C.A)(function*(){""==f&&F.commonService.showLoader();let E={queryMatch:F.whereCond,fields:{firstName:1,lastName:1,email:1,dob:1,gender:1},order:F.orderBy,limit:F.pageSize,offset:F.pageIndex*F.pageSize};yield F.authService.apiRequest("post","patients/getPatientList",E).subscribe(function(){var u=(0,C.A)(function*(d){F.commonService.hideLoader(),F.totalCount=d.data.totalCount;let s=[];yield d.data.patientList.map(l=>{s.push({id:l._id,email:l.email,dob:l.dob,gender:l.gender,name:l.firstName+" "+l.lastName})}),F.patientList=new t.I6(s)});return function(d){return u.apply(this,arguments)}}())})()}handlePageEvent(f){this.pageSize=f.pageSize,this.pageIndex=f.pageIndex,this.getPatientList()}reset(){this.searchPatient="",this.practiceLocVal="",this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=I.T0,this.pageSizeOptions=I.Xe,this.getPatientList("reset")}navigateToAdminUserDetails(f){this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-details/",f])}filterDropDown(f,F){""!=f.target.value?Object.assign(this.whereCond,{"appmnt.practiceLocation":f.target.value}):delete this.whereCond["appmnt.practiceLocation"],this.getPatientList("search")}static#t=this.\u0275fac=function(F){return new(F||h)(e.rXU(i.bZ),e.rXU(T.u),e.rXU(U.h),e.rXU(n.Ix))};static#e=this.\u0275cmp=e.VBU({type:h,selectors:[["app-patients"]],decls:44,vars:12,consts:[["paginator",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-2","clr--1F2F3E"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4"],["type","text","placeholder","Search Patient",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","dob"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(F,E){if(1&F){const u=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),e.EFF(5,"Patients"),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"select",10),e.mxI("ngModelChange",function(s){return e.eBV(u),e.DH7(E.practiceLocVal,s)||(E.practiceLocVal=s),e.Njj(s)}),e.bIt("change",function(s){return e.eBV(u),e.Njj(E.filterDropDown(s,"practiceLocation"))}),e.j41(11,"option",11),e.EFF(12,"Practice Location"),e.k0s(),e.DNE(13,W,2,2,"option",12),e.k0s()()(),e.j41(14,"div",13)(15,"div",9)(16,"input",14),e.bIt("keyup",function(){return e.eBV(u),e.Njj(E.searchRecords())}),e.mxI("ngModelChange",function(s){return e.eBV(u),e.DH7(E.searchPatient,s)||(E.searchPatient=s),e.Njj(s)}),e.k0s()()(),e.j41(17,"div",15)(18,"div",9)(19,"button",16),e.bIt("click",function(){return e.eBV(u),e.Njj(E.reset())}),e.EFF(20,"Reset Filter"),e.k0s()()()()()(),e.j41(21,"div",17)(22,"div",18)(23,"table",19),e.bIt("matSortChange",function(s){return e.eBV(u),e.Njj(E.announceSortChange(s))}),e.qex(24,20),e.DNE(25,N,2,0,"th",21)(26,R,2,1,"td",22),e.bVm(),e.qex(27,23),e.DNE(28,w,2,0,"th",24)(29,g,2,1,"td",22),e.bVm(),e.qex(30,25),e.DNE(31,S,2,0,"th",26)(32,D,2,1,"td",22),e.bVm(),e.qex(33,27),e.DNE(34,O,2,0,"th",26)(35,B,3,4,"td",22),e.bVm(),e.qex(36,28),e.DNE(37,x,2,0,"th",29)(38,y,5,0,"td",22),e.bVm(),e.DNE(39,$,1,0,"tr",30)(40,Y,1,0,"tr",31),e.k0s(),e.DNE(41,K,5,1,"div",32),e.j41(42,"mat-paginator",33,0),e.bIt("page",function(s){return e.eBV(u),e.Njj(E.handlePageEvent(s))}),e.k0s()()()()()}2&F&&(e.R7$(10),e.R50("ngModel",E.practiceLocVal),e.R7$(3),e.Y8G("ngForOf",E.practiceLocations),e.R7$(3),e.R50("ngModel",E.searchPatient),e.R7$(7),e.Y8G("dataSource",E.patientList),e.R7$(16),e.Y8G("matHeaderRowDef",E.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",E.displayedColumns),e.R7$(),e.Y8G("ngIf",E.patientList&&0==E.patientList.filteredData.length),e.R7$(),e.Y8G("length",E.totalCount)("pageSize",E.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",E.pageSizeOptions)("pageIndex",E.pageIndex))},dependencies:[v.Sq,v.bT,M.xH,M.y7,M.me,M.wz,M.BC,M.vS,X.$z,A.An,G.iy,L.B4,L.aE,t.Zl,t.tL,t.ji,t.cC,t.YV,t.iL,t.KS,t.$R,t.YZ,t.NB,v.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return h})()}}]);