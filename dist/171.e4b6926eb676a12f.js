"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[171],{2806:(O,P,o)=>{o.d(P,{s:()=>U});var p=o(8834),t=o(4006),v=o(9213),s=o(7278),_=o(9417),w=o(177),g=o(9039),I=o(5802),e=o(4438),u=o(3390),d=o(758),R=o(6992);function r(l,M){if(1&l){const a=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function f(l,M){if(1&l){const a=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function c(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.SpI(" ",a.validationMessages.required("New password")," ")}}function m(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.SpI(" ",a.validationMessages.password," ")}}function h(l,M){if(1&l){const a=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function C(l,M){if(1&l){const a=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function D(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.SpI(" ",a.validationMessages.confirmPassword," ")}}function E(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const a=e.XpG();e.R7$(),e.SpI(" ",a.validationMessages.passwordMismatch," ")}}let U=(()=>{class l{constructor(a,i,n,T,F,y,j){this.dialog=a,this.fb=i,this.commonService=n,this.changePassDialogRef=T,this.adminService=F,this.data=y,this.authService=j,this.validationMessages=I.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[_.k0.required,_.k0.pattern(g.y.password)]],confirmPassword:["",_.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(a){const i=a.get("newPassword"),n=a.get("confirmPassword");return n.value&&i.value!==n.value?{passwordMismatch:!0}:null}changePassword(){if(this.changePasswordForm.valid){const a={confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId};"patient"==this.data.userRole?this.patientChangePassword(a):this.adminChangePassword(a)}}successModal(a){this.dialog.open(s.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:a.message}}).afterClosed().subscribe(n=>{n&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}adminChangePassword(a){this.adminService.changePassword(a).subscribe({next:i=>{i&&!i.error&&this.successModal(i)},error:i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")}})}patientChangePassword(a){this.authService.apiRequest("post","patients/changePassword",a).subscribe(i=>{i&&!i.error&&this.successModal(i)},i=>{i.error?.error&&this.commonService.openSnackBar(i.error?.message,"ERROR")})}static#e=this.\u0275fac=function(i){return new(i||l)(e.rXU(t.bZ),e.rXU(_.ok),e.rXU(u.h),e.rXU(t.CP),e.rXU(d.z),e.rXU(t.Vh),e.rXU(R.u))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control","text-trans--none",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control","text-trans--none",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,r,2,0,"div",10)(15,f,2,0),e.k0s(),e.DNE(16,c,2,1,"div",11)(17,m,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,h,2,0,"div",10)(26,C,2,0),e.k0s(),e.DNE(27,D,2,1,"div",11)(28,E,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return n.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&i&&(e.R7$(5),e.Y8G("formGroup",n.changePasswordForm),e.R7$(8),e.Y8G("type",n.showNewPass?"text":"password"),e.R7$(),e.vxM(14,n.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",n.changePasswordForm.controls.newPassword.touched&&n.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",n.changePasswordForm.controls.newPassword.touched&&n.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",n.showConfPass?"text":"password"),e.R7$(),e.vxM(25,n.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",n.changePasswordForm.controls.confirmPassword.touched&&n.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",n.changePasswordForm.hasError("passwordMismatch")&&n.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!n.changePasswordForm.valid))},dependencies:[v.m_,p.Hl,p.$z,t.hM,t.tx,w.MD,w.bT,_.YN,_.qT,_.me,_.BC,_.cb,_.X1,_.j4,_.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return l})()},7278:(O,P,o)=>{o.d(P,{c:()=>w});var p=o(8834),t=o(4006),v=o(9213),s=o(4438),_=o(9417);let w=(()=>{class g{constructor(e,u,d){this.fb=e,this.dialogRef=u,this.data=d,this.successNote="",this.successHeader="",this.successNote=null!=d.successNote?d.successNote:this.successNote,this.successHeader=null!=d.successHeader?d.successHeader:this.successHeader}static#e=this.\u0275fac=function(u){return new(u||g)(s.rXU(_.ok),s.rXU(t.CP),s.rXU(t.Vh))};static#t=this.\u0275cmp=s.VBU({type:g,selectors:[["app-success-modal"]],standalone:!0,features:[s.aNF],decls:10,vars:3,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"font-16","fw-600","text-center","mt-2"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(u,d){1&u&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.j41(3,"h2",3),s.EFF(4),s.k0s(),s.j41(5,"p",4),s.EFF(6),s.k0s(),s.j41(7,"div",5)(8,"button",6),s.EFF(9,"Okay "),s.k0s()()()()),2&u&&(s.R7$(4),s.JRh(d.successHeader),s.R7$(2),s.JRh(d.successNote),s.R7$(2),s.Y8G("mat-dialog-close",!0))},dependencies:[v.m_,p.Hl,p.$z,t.hM,t.tx]})}return g})()},1396:(O,P,o)=>{o.d(P,{M:()=>R});var p=o(4006),t=o(4438),v=o(6992),s=o(2168),_=o(3390),w=o(177),g=o(6144);function I(r,f){if(1&r&&t.nrm(0,"ngx-doc-viewer",4),2&r){const c=t.XpG();t.Y8G("url",c.previewUrl)}}function e(r,f){if(1&r&&(t.j41(0,"audio",5),t.nrm(1,"source",6)(2,"source",7),t.k0s()),2&r){const c=t.XpG();t.R7$(),t.Y8G("src",c.previewUrl,t.B4B),t.R7$(),t.Y8G("src",c.previewUrl,t.B4B)}}function u(r,f){if(1&r&&t.nrm(0,"img",8),2&r){const c=t.XpG();t.Y8G("src",c.previewUrl,t.B4B)}}function d(r,f){if(1&r&&t.nrm(0,"video",9),2&r){const c=t.XpG();t.Y8G("src",c.previewUrl,t.B4B)}}let R=(()=>{class r{constructor(c,m,h,C,D,E){this.authService=c,this.route=m,this.commonService=h,this.dialog=C,this.dialogRef=D,this.data=E,this.fileType="",this.fileName="",this.previewUrl="",this.icon="",this.commonService.showLoader(),this.previewUrl=E.documentsLink,this.fileType=E.fileType,this.fileName=E.fileName,this.icon=E.icon}getIcon(c){}ngOnInit(){}ngAfterViewInit(){this.commonService.hideLoader()}static#e=this.\u0275fac=function(m){return new(m||r)(t.rXU(v.u),t.rXU(s.nX),t.rXU(_.h),t.rXU(p.bZ),t.rXU(p.CP),t.rXU(p.Vh))};static#t=this.\u0275cmp=t.VBU({type:r,selectors:[["app-preview"]],decls:4,vars:4,consts:[["viewer","google","style","width:100%;height:90vh;",3,"url",4,"ngIf"],["controls","","class","w-100","controlsList","nodownload",4,"ngIf"],["class","img-fluid","alt","",3,"src",4,"ngIf"],["width","300","height","200","controls","","controlsList","nodownload","style","height: auto;width: 100%;",3,"src",4,"ngIf"],["viewer","google",2,"width","100%","height","90vh",3,"url"],["controls","","controlsList","nodownload",1,"w-100"],["type","audio/ogg",3,"src"],["type","audio/mpeg",3,"src"],["alt","",1,"img-fluid",3,"src"],["width","300","height","200","controls","","controlsList","nodownload",2,"height","auto","width","100%",3,"src"]],template:function(m,h){1&m&&t.DNE(0,I,1,1,"ngx-doc-viewer",0)(1,e,3,2,"audio",1)(2,u,1,1,"img",2)(3,d,1,1,"video",3),2&m&&(t.Y8G("ngIf",""!=h.previewUrl&&"doc"==h.fileType),t.R7$(),t.Y8G("ngIf","audio"==h.fileType),t.R7$(),t.Y8G("ngIf","image"==h.fileType),t.R7$(),t.Y8G("ngIf","video"==h.fileType))},dependencies:[w.bT,g.$j],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#31b7b7}"]})}return r})()},1792:(O,P,o)=>{o.d(P,{m:()=>u});var p=o(4006),t=o(4438),v=o(177),s=o(8834),_=o(9213),w=o(9362);const g=d=>({image:d});function I(d,R){1&d&&(t.j41(0,"div")(1,"small",15),t.EFF(2,"Uploaded file is not a valid image"),t.k0s()())}function e(d,R){if(1&d&&(t.j41(0,"button",16),t.EFF(1,"Submit"),t.k0s()),2&d){const r=t.XpG();t.Y8G("mat-dialog-close",t.eq3(1,g,r.croppedImage))}}let u=(()=>{class d{constructor(r,f){this.dialogRef=r,this.data=f,this.imageChangedEvent="",this.croppedImage="",this.imageBase64="",this.saveButtonShow=!1,this.roundCropper=!0,this.isInvalidType=!1}fileChangeEvent(r){this.imageChangedEvent=r}imageCropped(r){this.croppedImageEvent=r,this.croppedImage=r}imageLoaded(){this.isInvalidType=!1}cropperReady(){this.saveButtonShow=!0}loadImageFailed(){this.isInvalidType=!0}static#e=this.\u0275fac=function(f){return new(f||d)(t.rXU(p.CP),t.rXU(p.Vh))};static#t=this.\u0275cmp=t.VBU({type:d,selectors:[["app-upload-img"]],decls:18,vars:7,consts:[["fileInput",""],[1,"comman-popup"],[1,"d-flex","justify-content-between","mat-header"],[1,"p-2"],[1,"fw-600","font-21","text--000"],[1,"ml-auto","p-2"],[1,"ml-auto","cursor-pointer",3,"click","mat-dialog-close"],["mat-dialog-content",""],[1,"d-flex","justify-content-center"],["mat-button","",1,"browse-btn","mb-3","text-center",3,"click"],["type","file","accept",".jpg, .jpeg, .png",2,"display","none",3,"change"],["format","png","output","base64",3,"imageCropped","imageLoaded","cropperReady","loadImageFailed","roundCropper","imageChangedEvent","maintainAspectRatio","aspectRatio"],[4,"ngIf"],["mat-dialog-actions","","d-flex",""],["mat-button","","class","submit-btn mb-3",3,"mat-dialog-close",4,"ngIf"],[1,"err"],["mat-button","",1,"submit-btn","mb-3",3,"mat-dialog-close"]],template:function(f,c){if(1&f){const m=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2",4),t.EFF(4,"Upload Photo"),t.k0s()(),t.j41(5,"div",5)(6,"mat-icon",6),t.bIt("click",function(){return t.eBV(m),t.Njj(c.dialogRef.close(!1))}),t.EFF(7,"close"),t.k0s()()(),t.j41(8,"div",7)(9,"div",8)(10,"button",9),t.bIt("click",function(){t.eBV(m);const C=t.sdS(13);return t.Njj(C.click())}),t.EFF(11,"Browse"),t.k0s()(),t.j41(12,"input",10,0),t.bIt("change",function(C){return t.eBV(m),t.Njj(c.fileChangeEvent(C))}),t.k0s(),t.j41(14,"image-cropper",11),t.bIt("imageCropped",function(C){return t.eBV(m),t.Njj(c.imageCropped(C))})("imageLoaded",function(){return t.eBV(m),t.Njj(c.imageLoaded())})("cropperReady",function(){return t.eBV(m),t.Njj(c.cropperReady())})("loadImageFailed",function(){return t.eBV(m),t.Njj(c.loadImageFailed())}),t.k0s()(),t.DNE(15,I,3,0,"div",12),t.j41(16,"div",13),t.DNE(17,e,2,3,"button",14),t.k0s()()}2&f&&(t.R7$(6),t.Y8G("mat-dialog-close",!0),t.R7$(8),t.Y8G("roundCropper",c.roundCropper)("imageChangedEvent",c.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),t.R7$(),t.Y8G("ngIf",c.isInvalidType),t.R7$(2),t.Y8G("ngIf",c.saveButtonShow))},dependencies:[v.bT,s.$z,p.tx,p.Yi,p.E7,_.An,w._D],styles:[".submit-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}.browse-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:auto;height:40px!important;border-radius:5px;background:#9155a3;font-family:Inter;font-size:16px!important;font-weight:600!important;color:#fff!important;line-height:1.2;letter-spacing:1px;box-shadow:none!important;cursor:pointer!important}  .mat-mdc-dialog-actions{justify-content:end!important}.mat-header[_ngcontent-%COMP%]{padding:8px 0 0 11px!important}.err[_ngcontent-%COMP%]{float:left;color:red;margin:13px;font-size:14px}"]})}return d})()},7664:(O,P,o)=>{o.d(P,{o:()=>v});var p=o(2168),t=o(4438);let v=(()=>{class s{constructor(w){this.router=w,this.history=[],this.router.events.subscribe(g=>{g instanceof p.Z&&this.history.push(g.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(g){return new(g||s)(t.KVO(p.Ix))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);