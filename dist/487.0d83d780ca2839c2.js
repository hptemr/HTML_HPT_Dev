"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[487],{9487:(on,L,p)=>{p.r(L),p.d(L,{SystemAndPracticeModule:()=>en});var g=p(177),V=p(5063),m=p(9417),F=p(2168),B=p(423),v=p(6695),f=p(2042),l=p(9159),_=p(4006),j=p(5802),I=p(9039),b=p(446),e=p(4438),S=p(3390),P=p(758),C=p(8834);function O(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("your First Name")," ")}}function X(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.alphabeticChar("First Name")," ")}}function Y(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("your Last Name")," ")}}function z(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.alphabeticChar("Last Name")," ")}}function q(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("an email address")," ")}}function H(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.validEmail," ")}}function J(o,r){if(1&o&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function Q(o,r){if(1&o&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredDropdown("the Practice location")," ")}}let $=(()=>{class o{constructor(t,n,i,a,s){this.commonService=t,this.adminService=n,this.fb=i,this.dialogRef=a,this.data=s,this.validationMessages=j.q,this.heading="",this.practiceLocationData=b.WM,this.inviteButton=!1,this.heading=null!=s.heading?s.heading:this.heading}ngOnInit(){this.initializePasswordForm()}initializePasswordForm(){this.inviteUserForm=this.fb.group({firstName:["",[m.k0.required,m.k0.pattern(I.y.alphabetic)]],lastName:["",[m.k0.required,m.k0.pattern(I.y.alphabetic)]],email:["",[m.k0.required,m.k0.email]],practiceLocation:["",m.k0.required]})}inviteUser(){this.inviteUserForm.valid&&(this.inviteButton=!0,this.inviteUserForm.value.userRole=this.data.userRole,this.adminService.invite(this.inviteUserForm.value).subscribe({next:t=>{this.dialogRef.close(t)},error:t=>{this.dialogRef.close(),t.error?.error&&this.commonService.openSnackBar(t.error?.message,"ERROR")}}))}checkSpace(t,n){this.inviteUserForm.controls[t].setValue(this.commonService.capitalize(n.target.value.trim()))}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(S.h),e.rXU(P.z),e.rXU(m.ok),e.rXU(_.CP),e.rXU(_.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-invite-popup"]],decls:46,vars:12,consts:[[1,"inivite--wrapper","d-flex","flex-column"],[1,"inivite--header","w-100"],[1,"inivite--body","w-100"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-400"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Enter First Name","maxlength","35","formControlName","firstName",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Enter Last Name","maxlength","35","formControlName","lastName",1,"form-control","form-control-md",3,"blur"],["type","text","placeholder","Email","formControlName","email","maxlength","50",1,"form-control","form-control-md"],["aria-label","Default select example","formControlName","practiceLocation",1,"form-select","form-control","form-control-md"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"inivite--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary",1,"me-2",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text","text-danger","mt-1"],[3,"value"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"First Name "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"input",8),e.bIt("blur",function(s){return i.checkSpace("firstName",s)}),e.k0s(),e.DNE(13,O,2,1,"div",9)(14,X,2,1,"div",9),e.k0s(),e.j41(15,"div",5)(16,"label",6),e.EFF(17,"Last Name "),e.j41(18,"span",7),e.EFF(19," * "),e.k0s()(),e.j41(20,"input",10),e.bIt("blur",function(s){return i.checkSpace("lastName",s)}),e.k0s(),e.DNE(21,Y,2,1,"div",9)(22,z,2,1,"div",9),e.k0s(),e.j41(23,"div",5)(24,"label",6),e.EFF(25,"Email "),e.j41(26,"span",7),e.EFF(27," * "),e.k0s()(),e.nrm(28,"input",11),e.DNE(29,q,2,1,"div",9)(30,H,2,1,"div",9),e.k0s(),e.j41(31,"div",5)(32,"label",6),e.EFF(33,"Practice Location "),e.j41(34,"span",7),e.EFF(35," * "),e.k0s()(),e.j41(36,"select",12)(37,"option",13),e.EFF(38,"Select"),e.k0s(),e.DNE(39,J,2,2,"option",14),e.k0s(),e.DNE(40,Q,2,1,"div",9),e.k0s()()()(),e.j41(41,"div",15)(42,"button",16),e.EFF(43,"Cancel"),e.k0s(),e.j41(44,"button",17),e.bIt("click",function(){return i.inviteUser()}),e.EFF(45,"Invite"),e.k0s()()()),2&n&&(e.R7$(3),e.JRh(i.heading),e.R7$(2),e.Y8G("formGroup",i.inviteUserForm),e.R7$(8),e.Y8G("ngIf",i.inviteUserForm.controls.firstName.touched&&i.inviteUserForm.controls.firstName.hasError("required")),e.R7$(),e.Y8G("ngIf",i.inviteUserForm.controls.firstName.touched&&i.inviteUserForm.controls.firstName.hasError("pattern")),e.R7$(7),e.Y8G("ngIf",i.inviteUserForm.controls.lastName.touched&&i.inviteUserForm.controls.lastName.hasError("required")),e.R7$(),e.Y8G("ngIf",i.inviteUserForm.controls.lastName.touched&&i.inviteUserForm.controls.lastName.hasError("pattern")),e.R7$(7),e.Y8G("ngIf",i.inviteUserForm.controls.email.touched&&i.inviteUserForm.controls.email.hasError("required")),e.R7$(),e.Y8G("ngIf",i.inviteUserForm.controls.email.touched&&i.inviteUserForm.controls.email.hasError("email")),e.R7$(9),e.Y8G("ngForOf",i.practiceLocationData),e.R7$(),e.Y8G("ngIf",i.inviteUserForm.controls.practiceLocation.touched&&i.inviteUserForm.controls.practiceLocation.hasError("required")),e.R7$(2),e.Y8G("mat-dialog-close",!1),e.R7$(2),e.Y8G("disabled",!i.inviteUserForm.valid||i.inviteButton))},dependencies:[g.Sq,g.bT,m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,m.tU,m.j4,m.JD,C.$z,_.tx],styles:[".inivite--modal .mat-mdc-dialog-container{width:423px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper{padding:30px 24px}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .inivite--modal .mat-mdc-dialog-container .inivite--wrapper .inivite--footer{margin-top:17px}"]})}return o})();var x=p(8617),k=p(9213);const Z=()=>[5,10,20],W=()=>["/system-admin/user-managment/practice-admin-profile"];function K(o,r){1&o&&(e.j41(0,"th",34),e.EFF(1," Name "),e.k0s())}function ee(o,r){if(1&o&&(e.j41(0,"td",35),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function te(o,r){1&o&&(e.j41(0,"th",36),e.EFF(1," Date Added "),e.k0s())}function oe(o,r){if(1&o&&(e.j41(0,"td",35),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.dateAdded," ")}}function ne(o,r){1&o&&(e.j41(0,"th",37),e.EFF(1," Status "),e.k0s())}function ie(o,r){1&o&&(e.j41(0,"p",42),e.EFF(1,"Pending"),e.k0s())}function ae(o,r){1&o&&(e.j41(0,"p",43),e.EFF(1,"Suspended"),e.k0s())}function re(o,r){1&o&&(e.j41(0,"p",44),e.EFF(1,"Deleted"),e.k0s())}function se(o,r){1&o&&(e.j41(0,"td",35)(1,"p",38),e.EFF(2,"Active"),e.k0s(),e.DNE(3,ie,2,0,"p",39)(4,ae,2,0,"p",40)(5,re,2,0,"p",41),e.k0s())}function ce(o,r){1&o&&(e.j41(0,"th",37),e.EFF(1," Actions "),e.k0s())}function le(o,r){1&o&&(e.j41(0,"td",35)(1,"div",45)(2,"button",46)(3,"mat-icon",47),e.EFF(4,"visibility "),e.k0s()()()()),2&o&&(e.R7$(2),e.Y8G("routerLink",e.lJ4(1,W)))}function me(o,r){1&o&&e.nrm(0,"tr",48)}function de(o,r){1&o&&e.nrm(0,"tr",49)}const pe=[{name:"Jane Cooper",dateAdded:"02/12/2023",status:"Active",action:""},{name:"Floyd Miles",dateAdded:"10/31/2023",status:"Pending",action:""},{name:"Ronald Richards",dateAdded:"10/05/2023",status:"Suspended",action:""},{name:"Marvin McKinney",dateAdded:"09/12/2023",status:"Deleted",action:""}];let ue=(()=>{class o{constructor(t,n){this._liveAnnouncer=t,this.dialog=n,this.displayedColumns=["name","dateAdded","status","action"],this.dataSource=new l.I6(pe)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}invitePopup(){this.dialog.open($,{panelClass:"inivite--modal",data:{heading:"Add Template"}})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-efax"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:49,vars:5,consts:[[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-0","clr--1F2F3E"],["mat-raised-button","","color","primary",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-group"],["type","text","placeholder","Search Template",1,"form-control","search--outer"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"col-12","col-sm-6","col-lg-3"],["aria-label","Default select example",1,"form-select","form-control"],["selected",""],["value","1"],["value","2"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dateAdded"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"status"],["class","status pending",4,"ngIf"],["class","status suspended",4,"ngIf"],["class","status deleted",4,"ngIf"],[1,"status","pending"],[1,"status","suspended"],[1,"status","deleted"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e.EFF(5,"E-Fax"),e.k0s(),e.j41(6,"button",5),e.bIt("click",function(){return i.invitePopup()}),e.j41(7,"mat-icon",6),e.EFF(8," add_circle "),e.k0s(),e.EFF(9," Add Template "),e.k0s()(),e.j41(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),e.nrm(14,"input",11),e.j41(15,"button",12)(16,"mat-icon",6),e.EFF(17,"search "),e.k0s()()()(),e.j41(18,"div",13)(19,"div",10)(20,"select",14)(21,"option",15),e.EFF(22,"Appointment Status"),e.k0s(),e.j41(23,"option",16),e.EFF(24,"Pending"),e.k0s(),e.j41(25,"option",17),e.EFF(26,"Approve"),e.k0s()()()(),e.j41(27,"div",18)(28,"div",10)(29,"button",19),e.EFF(30,"Reset Filter"),e.k0s()()()()()(),e.j41(31,"div",20)(32,"div",21)(33,"table",22),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(34,23),e.DNE(35,K,2,0,"th",24)(36,ee,2,1,"td",25),e.bVm(),e.qex(37,26),e.DNE(38,te,2,0,"th",27)(39,oe,2,1,"td",25),e.bVm(),e.qex(40,28),e.DNE(41,ne,2,0,"th",29)(42,se,6,0,"td",25),e.bVm(),e.qex(43,30),e.DNE(44,ce,2,0,"th",29)(45,le,5,2,"td",25),e.bVm(),e.DNE(46,me,1,0,"tr",31)(47,de,1,0,"tr",32),e.k0s(),e.nrm(48,"mat-paginator",33),e.k0s()()()()),2&n&&(e.R7$(33),e.Y8G("dataSource",i.dataSource),e.R7$(13),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(4,Z)))},dependencies:[g.bT,F.Wk,m.xH,m.y7,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return o})();var h=p(4523),D=p(6992),M=p(6850);function he(o,r){if(1&o&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.FS9("value",t),e.R7$(),e.JRh(t)}}function fe(o,r){1&o&&(e.j41(0,"th",33),e.EFF(1," Name "),e.k0s())}function _e(o,r){if(1&o&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function ge(o,r){1&o&&(e.j41(0,"th",35),e.EFF(1," Email Id "),e.k0s())}function ve(o,r){if(1&o&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.email," ")}}function be(o,r){1&o&&(e.j41(0,"th",36),e.EFF(1," Status "),e.k0s())}function Fe(o,r){if(1&o&&(e.j41(0,"td",34)(1,"p"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(),e.ZvI("status ",t.statusClass,""),e.R7$(),e.JRh(t.status)}}function Ce(o,r){1&o&&(e.j41(0,"th",33),e.EFF(1," Assign As "),e.k0s())}function ye(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",34)(1,"select",37),e.bIt("change",function(i){const a=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.assignAsFun(i,a))}),e.j41(2,"option",38),e.EFF(3," Select"),e.k0s(),e.j41(4,"option",39),e.EFF(5," Site Leader"),e.k0s(),e.j41(6,"option",40),e.EFF(7," None"),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.Y8G("selected",""==t.siteLeaderForPracLocation),e.R7$(2),e.Y8G("selected","Site Leader"==t.siteLeaderForPracLocation),e.R7$(2),e.Y8G("selected","None"==t.siteLeaderForPracLocation)}}function ke(o,r){1&o&&(e.j41(0,"th",36),e.EFF(1," Actions "),e.k0s())}function Se(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",34)(1,"div",41)(2,"button",42),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.navigateToAdminUserDetails(i.id))}),e.j41(3,"mat-icon",43),e.EFF(4,"visibility "),e.k0s()()()()}}function De(o,r){1&o&&e.nrm(0,"tr",44)}function xe(o,r){1&o&&e.nrm(0,"tr",45)}function Ie(o,r){if(1&o&&(e.j41(0,"div",46)(1,"div")(2,"p",47),e.EFF(3),e.k0s()()()),2&o){const t=e.XpG();e.R7$(3),e.JRh(t.validationMessages.noRecords)}}function we(o,r){1&o&&(e.j41(0,"th",48),e.EFF(1," Name "),e.k0s())}function je(o,r){if(1&o&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Ee(o,r){1&o&&(e.j41(0,"th",33),e.EFF(1," Email Id "),e.k0s())}function Re(o,r){if(1&o&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.email," ")}}function Pe(o,r){1&o&&(e.j41(0,"th",36),e.EFF(1," Status "),e.k0s())}function Ae(o,r){if(1&o&&(e.j41(0,"td",34)(1,"p"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(),e.ZvI("status ",t.statusClass,""),e.R7$(),e.JRh(t.status)}}function Ne(o,r){1&o&&(e.j41(0,"th",36),e.EFF(1," Actions "),e.k0s())}function Te(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",34)(1,"div",41)(2,"button",42),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.navigateToAdminUserDetails(i.id))}),e.j41(3,"mat-icon",43),e.EFF(4,"visibility "),e.k0s()()()()}}function Le(o,r){1&o&&e.nrm(0,"tr",44)}function $e(o,r){1&o&&e.nrm(0,"tr",45)}function Me(o,r){if(1&o&&(e.j41(0,"div",46)(1,"div")(2,"p",47),e.EFF(3),e.k0s()()()),2&o){const t=e.XpG();e.R7$(3),e.JRh(t.validationMessages.noRecords)}}const Ue=[],Ge=[];let Ve=(()=>{class o{constructor(t,n,i,a,s){this._liveAnnouncer=t,this.dialog=n,this.authService=i,this.commonService=a,this.router=s,this.displayedColumns=["name","email","status","assignAs","action"],this.displayedColumns2=["name","email","status","action"],this.dataSource=new l.I6(Ue),this.dataSource2=new l.I6(Ge),this.practiceLocations=b.WM,this.orderBy={createdAt:-1},this.whereCond={},this.whereCondPracticeAdmin={},this.practiceAdminList=[],this.totalCount=0,this.pageIndex=0,this.pageSize=b.T0,this.pageSizeOptions=b.Xe,this.validationMessages=j.q}ngOnInit(){this.whereCond={role:"therapist"},this.whereCondPracticeAdmin={role:"practice_admin",status:"Active"},this.getUserList(),this.getLocationWiseUserList()}announceSortChange(t){let n;n="desc"==t.direction?-1:1,this.orderBy="name"==t.active?{firstName:n}:{[t.active]:n},this.getUserList()}changeUser(t){this.pageIndex=0,this.whereCond=0==t.index?{role:"therapist"}:{role:"support_team"},this.getUserList()}searchRecords(t){"All"!=t.target.value?(Object.assign(this.whereCond,{practiceLocation:{$in:t.target.value}}),Object.assign(this.whereCondPracticeAdmin,{practiceLocation:{$in:t.target.value}})):(Object.assign(this.whereCond,{practiceLocation:{$ne:t.target.value}}),Object.assign(this.whereCondPracticeAdmin,{practiceLocation:{$ne:t.target.value}})),this.getUserList(),this.getLocationWiseUserList()}getUserList(){var t=this;return(0,h.A)(function*(){t.commonService.showLoader();let n={query:t.whereCond,fields:{firstName:1,lastName:1,email:1,status:1,siteLeaderForPracLocation:1},order:t.orderBy,limit:t.pageSize,offset:t.pageIndex*t.pageSize};yield t.authService.apiRequest("post","admin/getUserList",n).subscribe(function(){var i=(0,h.A)(function*(a){t.commonService.hideLoader(),t.totalCount=a.data.totalCount;let s=[];yield a.data.userList.map(c=>{let d={id:c._id,email:c.email,status:c.status,statusClass:c.status.toLowerCase(),siteLeaderForPracLocation:c.siteLeaderForPracLocation,name:c.firstName+" "+c.lastName};s.push(d)}),t.userList=new l.I6(s)});return function(a){return i.apply(this,arguments)}}())})()}getLocationWiseUserList(){var t=this;return(0,h.A)(function*(){let i={query:t.whereCondPracticeAdmin,fields:{firstName:1,lastName:1,email:1,status:1,siteLeaderForPracLocation:1,practiceLocation:1},order:{createdAt:-1},limit:2};yield t.authService.apiRequest("post","admin/getLocationWiseUserList",i).subscribe(function(){var a=(0,h.A)(function*(s){t.practiceAdminList="",yield s.data.userList.map(c=>{t.practiceAdminList+=c.firstName+" "+c.lastName+", "}),t.practiceAdminList=t.practiceAdminList.replace(/,(\s*)$/,"")});return function(s){return a.apply(this,arguments)}}())})()}handlePageEvent(t){this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.getUserList()}assignAsFun(t,n){var i=this;return(0,h.A)(function*(){if(""!=t.target.value){let a={query:{_id:n.id},updateInfo:{siteLeaderForPracLocation:t.target.value}};yield i.authService.apiRequest("post","admin/updateUser",a).subscribe(function(){var s=(0,h.A)(function*(c){i.getUserList(),i.authService.apiRequest("post","email/emailSend",{query:{code:"assignedAsSiteLeader"},toEmail:n.email,params:{"{firstName}":n.name,"{assignedAs}":t.target.value}}).subscribe(function(){var u=(0,h.A)(function*(y){});return function(y){return u.apply(this,arguments)}}())});return function(c){return s.apply(this,arguments)}}())}})()}navigateToAdminUserDetails(t){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/admin-profile/",t])}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ),e.rXU(D.u),e.rXU(S.h),e.rXU(F.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-manage-practice"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:62,vars:20,consts:[["paginator",""],[1,"container-fluid","mp--wrapper"],[1,"row"],[1,"col-12","my-4"],[1,"col-12","col-lg-6"],[1,"mb-0","clr--1F2F3E","fw-500","me-2"],[1,"fw-700"],[1,"col-12","col-lg-6","d-flex","align-items-center","justify-content-start","justify-content-lg-end"],["aria-label","Default select example",1,"form-select","form-control","form-control-md","practice--location",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12"],[1,"card"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedTabChange"],["label","Therapists"],[1,"card-body","mt-4"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","assignAs"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["label","Support Team"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],["aria-label","Default select example",1,"form-select","form-control","form-control-md","assing--td",3,"change"],["value","",3,"selected"],["value","Site Leader",3,"selected"],["value","None",3,"selected"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",2)(4,"div",4)(5,"h3",5),e.EFF(6," Practice Admin: "),e.j41(7,"span",6),e.EFF(8),e.k0s()()(),e.j41(9,"div",7)(10,"h3",5),e.EFF(11,"Practice Location:"),e.k0s(),e.j41(12,"select",8),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.searchRecords(c))}),e.DNE(13,he,2,2,"option",9),e.k0s()()()(),e.j41(14,"div",10)(15,"div",11)(16,"mat-tab-group",12),e.bIt("selectedTabChange",function(c){return e.eBV(a),e.Njj(i.changeUser(c))}),e.j41(17,"mat-tab",13)(18,"div",14)(19,"div",15)(20,"table",16),e.bIt("matSortChange",function(c){return e.eBV(a),e.Njj(i.announceSortChange(c))}),e.qex(21,17),e.DNE(22,fe,2,0,"th",18)(23,_e,2,1,"td",19),e.bVm(),e.qex(24,20),e.DNE(25,ge,2,0,"th",21)(26,ve,2,1,"td",19),e.bVm(),e.qex(27,22),e.DNE(28,be,2,0,"th",23)(29,Fe,3,4,"td",19),e.bVm(),e.qex(30,24),e.DNE(31,Ce,2,0,"th",18)(32,ye,8,3,"td",19),e.bVm(),e.qex(33,25),e.DNE(34,ke,2,0,"th",23)(35,Se,5,0,"td",19),e.bVm(),e.DNE(36,De,1,0,"tr",26)(37,xe,1,0,"tr",27),e.k0s(),e.DNE(38,Ie,4,1,"div",28),e.j41(39,"mat-paginator",29,0),e.bIt("page",function(c){return e.eBV(a),e.Njj(i.handlePageEvent(c))}),e.k0s()()()(),e.j41(41,"mat-tab",30)(42,"div",14)(43,"div",15)(44,"table",16),e.bIt("matSortChange",function(c){return e.eBV(a),e.Njj(i.announceSortChange(c))}),e.qex(45,17),e.DNE(46,we,2,0,"th",31)(47,je,2,1,"td",19),e.bVm(),e.qex(48,20),e.DNE(49,Ee,2,0,"th",18)(50,Re,2,1,"td",19),e.bVm(),e.qex(51,22),e.DNE(52,Pe,2,0,"th",23)(53,Ae,3,4,"td",19),e.bVm(),e.qex(54,25),e.DNE(55,Ne,2,0,"th",23)(56,Te,5,0,"td",19),e.bVm(),e.DNE(57,Le,1,0,"tr",26)(58,$e,1,0,"tr",27),e.k0s(),e.DNE(59,Me,4,1,"div",28),e.j41(60,"mat-paginator",29,0),e.bIt("page",function(c){return e.eBV(a),e.Njj(i.handlePageEvent(c))}),e.k0s()()()()()()()()()}2&n&&(e.R7$(8),e.JRh(i.practiceAdminList),e.R7$(5),e.Y8G("ngForOf",i.practiceLocations),e.R7$(7),e.Y8G("dataSource",i.userList),e.R7$(16),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",i.userList&&0==i.userList.filteredData.length),e.R7$(),e.Y8G("length",i.totalCount)("pageSize",i.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",i.pageSizeOptions)("pageIndex",i.pageIndex),e.R7$(5),e.Y8G("dataSource",i.userList),e.R7$(13),e.Y8G("matHeaderRowDef",i.displayedColumns2),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns2),e.R7$(),e.Y8G("ngIf",i.userList&&0==i.userList.filteredData.length),e.R7$(),e.Y8G("length",i.totalCount)("pageSize",i.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",i.pageSizeOptions)("pageIndex",i.pageIndex))},dependencies:[g.Sq,g.bT,m.xH,m.y7,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,M.mq,M.T8],styles:[".mp--wrapper[_ngcontent-%COMP%]   .practice--location[_ngcontent-%COMP%]{max-width:257px;font-size:16px;border:1px solid rgba(51,184,184,.4)}.mp--wrapper[_ngcontent-%COMP%]     .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}.mp--wrapper[_ngcontent-%COMP%]     .cust--mat--table tbody tr td .assing--td{font-size:14px!important;width:165px;border:1px solid rgba(51,184,184,.4)}"]})}return o})();var Be=p(1069),Oe=p(3716),Xe=p(152),w=p(4494),U=p(4823);const Ye=["locationSelect"],ze=["statusSelect"];function qe(o,r){if(1&o&&(e.j41(0,"option",42),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI("",t," ")}}function He(o,r){1&o&&(e.j41(0,"th",43),e.EFF(1," Name "),e.k0s())}function Je(o,r){if(1&o&&(e.j41(0,"td",44),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function Qe(o,r){1&o&&(e.j41(0,"th",45),e.EFF(1," Email Id "),e.k0s())}function Ze(o,r){if(1&o&&(e.j41(0,"td",44),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t.email," ")}}function We(o,r){1&o&&(e.j41(0,"th",46),e.EFF(1," Practice Location "),e.k0s())}function Ke(o,r){if(1&o&&(e.j41(0,"td",44)(1,"span",47),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit,n=e.XpG();e.R7$(),e.FS9("matTooltip",t.practiceLocation.length>2?t.practiceLocation.join(", "):""),e.R7$(),e.SpI(" ",n.getFormattedPracticeLocation(t.practiceLocation)," ")}}function et(o,r){1&o&&(e.j41(0,"th",48),e.EFF(1," Status "),e.k0s())}function tt(o,r){if(1&o&&(e.j41(0,"td",44)(1,"p"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(),e.ZvI("status ",t.statusClass,""),e.R7$(),e.JRh(t.status)}}function ot(o,r){1&o&&(e.j41(0,"th",48),e.EFF(1," Actions "),e.k0s())}function nt(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",54),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.resentInvite(i))}),e.j41(1,"mat-icon",51),e.EFF(2,"replay "),e.k0s()()}}function it(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",55),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.revokeInvite(i))}),e.j41(1,"mat-icon",51),e.EFF(2,"undo "),e.k0s()()}}function at(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",44)(1,"div",49)(2,"button",50),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.navigateToAdminUserDetails(i._id))}),e.j41(3,"mat-icon",51),e.EFF(4,"visibility "),e.k0s()(),e.DNE(5,nt,3,0,"button",52)(6,it,3,0,"button",53),e.k0s()()}if(2&o){const t=r.$implicit;e.R7$(5),e.Y8G("ngIf","Pending"==t.status),e.R7$(),e.Y8G("ngIf","Pending"==t.status&&"valid"==t.inviteTokenStatus)}}function rt(o,r){1&o&&e.nrm(0,"tr",56)}function st(o,r){1&o&&e.nrm(0,"tr",57)}function ct(o,r){if(1&o&&(e.j41(0,"div",58)(1,"div",59),e.nrm(2,"img",60),e.j41(3,"p",61),e.EFF(4),e.k0s()()()),2&o){const t=e.XpG();e.R7$(4),e.JRh(t.validationMessages.noRecords)}}function lt(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-paginator",62),e.bIt("page",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.handlePageEvent(i))}),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("length",t.totalCount)("pageSize",t.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",t.pageSizeOptions)("pageIndex",t.pageIndex)}}const mt=[];let E=(()=>{class o{constructor(t,n,i,a,s,c,d){this._liveAnnouncer=t,this.router=n,this.dialog=i,this.authService=a,this.commonService=s,this.adminService=c,this.route=d,this.validationMessages=j.q,this.adminUsersDataSource=new l.I6(mt),this.displayedColumns=["name","email","practiceLocation","status","action"],this.practiceLocationData=b.WM,this.searchAdminUsers=new m.MJ(""),this.userRole="",this.pageTitle="",this.profileUrlSegment="",this.isUserList=!0,this.orderBy={createdAt:-1},this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=b.T0,this.pageSizeOptions=b.Xe,this.searchQuery="",this.searchControlAdminUsers()}ngOnInit(){this.getRouteSegment(),this.adminUsers()}announceSortChange(t){let n;n="desc"==t.direction?-1:1,this.orderBy="name"==t.active?{firstName:n}:{[t.active]:n},this.adminUsers()}invitePopup(){this.dialog.open($,{disableClose:!0,panelClass:"inivite--modal",data:{heading:`Invite ${this.pageTitle}`,userRole:this.userRole}}).afterClosed().subscribe(n=>{n&&!n.error&&(this.adminUsers("invite"),this.commonService.openSnackBar(n.message,"SUCCESS"))})}getRouteSegment(){this.route.url.subscribe(t=>{const{userRole:n,profileUrlSegment:i,pageTitle:a}=this.commonService.getUserRoleBaseOnUrlSegment(t);this.userRole=n,this.pageTitle=a,this.profileUrlSegment=i,this.whereCond={role:this.userRole}})}adminUsers(t=""){var n=this;return(0,h.A)(function*(){""==t&&n.commonService.showLoader(),Object.assign(n.whereCond,{$or:[{firstName:{$regex:n.searchQuery,$options:"i"}},{lastName:{$regex:n.searchQuery,$options:"i"}},{email:n.searchQuery},{status:n.searchQuery},{practiceLocation:n.searchQuery}]});let i={query:n.whereCond,fields:{_id:1,firstName:1,lastName:1,email:1,status:1,practiceLocation:1},order:n.orderBy,limit:n.pageSize,offset:n.pageIndex*n.pageSize};yield n.authService.apiRequest("post","admin/getUserList",i).subscribe(function(){var a=(0,h.A)(function*(s){n.commonService.hideLoader(),n.totalCount=s.data.totalCount;let c=[];yield s.data.userList.map(d=>{let u={name:`${d.firstName} ${d.lastName}`,email:d.email,practiceLocation:d.practiceLocation,status:d.status,_id:d._id,statusClass:d.status.toLowerCase(),inviteTokenStatus:d.inviteTokenStatus};c.push(u)}),n.adminUsersDataSource=new l.I6(c),n.isUserList=n.totalCount>0});return function(s){return a.apply(this,arguments)}}())})()}onLocationChange(t){const n=t.target.value;n&&(this.searchQuery=n,this.adminUsers("search"))}searchControlAdminUsers(){this.searchAdminUsers.valueChanges.pipe((0,Xe.B)(300)).subscribe(t=>{this.searchAdminUsersByQuery(t)})}searchAdminUsersByQuery(t){this.searchQuery=t,this.adminUsers("search")}onStatusChange(t){let n=t.target.value;n&&(this.searchQuery=n,this.adminUsers("search"))}resetFilter(){this.locationSelect.nativeElement.selectedIndex=0,this.statusSelect.nativeElement.selectedIndex=0,this.searchAdminUsers.setValue(""),this.totalCount=0,this.pageIndex=0,this.pageSize=b.T0,this.pageSizeOptions=b.Xe,this.searchQuery="",this.adminUsers("reset")}navigateToAdminUserDetails(t){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/"+this.profileUrlSegment,t])}handlePageEvent(t){this.pageSize=t.pageSize,this.pageIndex=t.pageIndex,this.adminUsers()}getFormattedPracticeLocation(t,n=2,i=", "){if(!Array.isArray(t)||0===t.length)return"";let s=t.slice(0,n).join(i);return t.length>n&&(s+="..."),s}resentInvite(t){var n=this;return(0,h.A)(function*(){n.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to resend the invite?"}}).afterClosed().subscribe(function(){var a=(0,h.A)(function*(s){if(s&&!s.error){let c={_id:t._id,firstName:t.name,email:t.email};yield n.authService.apiRequest("post","admin/resendInvite",c).subscribe(function(){var d=(0,h.A)(function*(u){u&&!u.error&&(n.adminUsers(),n.commonService.openSnackBar(u.message,"SUCCESS"))});return function(u){return d.apply(this,arguments)}}(),d=>{d.error?.error&&n.commonService.openSnackBar(d.error?.message,"ERROR")})}});return function(s){return a.apply(this,arguments)}}())})()}revokeInvite(t){var n=this;return(0,h.A)(function*(){n.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to revoke the invite?"}}).afterClosed().subscribe(function(){var a=(0,h.A)(function*(s){if(s&&!s.error){let c={_id:t._id};yield n.authService.apiRequest("post","admin/revokeInvite",c).subscribe(function(){var d=(0,h.A)(function*(u){u&&!u.error&&(n.adminUsers(),n.commonService.openSnackBar(u.message,"SUCCESS"))});return function(u){return d.apply(this,arguments)}}(),d=>{d.error?.error&&n.commonService.openSnackBar(d.error?.message,"ERROR")})}});return function(s){return a.apply(this,arguments)}}())})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(F.Ix),e.rXU(_.bZ),e.rXU(D.u),e.rXU(S.h),e.rXU(P.z),e.rXU(F.nX))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-user-listing"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5),e.GBs(Ye,5),e.GBs(ze,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first),e.mGM(a=e.lsd())&&(i.locationSelect=a.first),e.mGM(a=e.lsd())&&(i.statusSelect=a.first)}},decls:65,vars:11,consts:[["locationSelect",""],["statusSelect",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-0","clr--1F2F3E"],["mat-raised-button","","color","primary",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4"],["type","text",1,"form-control","search--outer",3,"placeholder","formControl"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],["value","Pending"],["value","Active"],["value","Suspended"],["value","Deleted"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","practiceLocation"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100 mt-4",4,"ngIf"],[3,"length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex","page",4,"ngIf"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],[3,"matTooltip"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","","matTooltip","View",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields","matTooltip","Resend Invite",3,"click",4,"ngIf"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields","matTooltip","Revoke Invite",3,"click",4,"ngIf"],["mat-button","","matTooltip","Resend Invite",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],["mat-button","","matTooltip","Revoke Invite",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100","mt-4"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6),e.EFF(5),e.k0s(),e.j41(6,"button",7),e.bIt("click",function(){return e.eBV(a),e.Njj(i.invitePopup())}),e.j41(7,"mat-icon",8),e.EFF(8," person_add "),e.k0s(),e.EFF(9),e.k0s()(),e.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"select",13,0),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onLocationChange(c))}),e.j41(16,"option",14),e.EFF(17,"Practice Location"),e.k0s(),e.DNE(18,qe,2,2,"option",15),e.k0s()()(),e.j41(19,"div",16)(20,"div",12),e.nrm(21,"input",17),e.j41(22,"button",18)(23,"mat-icon",8),e.EFF(24,"search "),e.k0s()()()(),e.j41(25,"div",11)(26,"div",12)(27,"select",13,1),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onStatusChange(c))}),e.j41(29,"option",14),e.EFF(30,"Status"),e.k0s(),e.j41(31,"option",19),e.EFF(32,"Pending"),e.k0s(),e.j41(33,"option",20),e.EFF(34,"Active"),e.k0s(),e.j41(35,"option",21),e.EFF(36,"Suspended"),e.k0s(),e.j41(37,"option",22),e.EFF(38,"Deleted"),e.k0s()()()(),e.j41(39,"div",23)(40,"div",12)(41,"button",24),e.bIt("click",function(){return e.eBV(a),e.Njj(i.resetFilter())}),e.EFF(42,"Reset Filter"),e.k0s()()()()()(),e.j41(43,"div",25)(44,"div",26)(45,"table",27),e.bIt("matSortChange",function(c){return e.eBV(a),e.Njj(i.announceSortChange(c))}),e.qex(46,28),e.DNE(47,He,2,0,"th",29)(48,Je,2,1,"td",30),e.bVm(),e.qex(49,31),e.DNE(50,Qe,2,0,"th",32)(51,Ze,2,1,"td",30),e.bVm(),e.qex(52,33),e.DNE(53,We,2,0,"th",34)(54,Ke,3,2,"td",30),e.bVm(),e.qex(55,35),e.DNE(56,et,2,0,"th",36)(57,tt,3,4,"td",30),e.bVm(),e.qex(58,37),e.DNE(59,ot,2,0,"th",36)(60,at,7,2,"td",30),e.bVm(),e.DNE(61,rt,1,0,"tr",38)(62,st,1,0,"tr",39),e.k0s(),e.DNE(63,ct,5,1,"div",40)(64,lt,1,5,"mat-paginator",41),e.k0s()()()()}2&n&&(e.R7$(5),e.JRh(i.pageTitle),e.R7$(4),e.SpI(" Invite ",i.pageTitle," "),e.R7$(9),e.Y8G("ngForOf",i.practiceLocationData),e.R7$(3),e.Mz_("placeholder","Search ",i.pageTitle,""),e.Y8G("formControl",i.searchAdminUsers),e.R7$(24),e.Y8G("dataSource",i.adminUsersDataSource),e.R7$(16),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",!i.isUserList),e.R7$(),e.Y8G("ngIf",i.isUserList))},dependencies:[g.Sq,g.bT,m.xH,m.y7,m.me,m.BC,m.l_,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB,U.oV],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return o})();var dt=p(2806),pt=p(1792),G=p(3902);const ut=["locationSelect"];function ht(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-list-item",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.removePhoto())}),e.EFF(1,"Remove Photo "),e.k0s()}}function ft(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-list")(1,"mat-list-item",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changePhoto())}),e.EFF(2,"Change Photo "),e.k0s(),e.DNE(3,ht,2,0,"mat-list-item",20),e.k0s()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.isDefaultImage)}}function _t(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.required("your First Name")," ")}}function gt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.alphabeticChar("First Name")," ")}}function vt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.required("your Last Name")," ")}}function bt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.alphabeticChar("Last Name")," ")}}function Ft(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.required("an email address")," ")}}function Ct(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.validEmail," ")}}function yt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.required("a valid phone number")," ")}}function kt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.validationMessages.invalidPhoneNumber," ")}}function St(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.validationMessages.required("a valid NPI number")," ")}}function Dt(o,r){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"label",28),e.EFF(3,"NPI "),e.j41(4,"span",29),e.EFF(5," *"),e.k0s()(),e.nrm(6,"input",49),e.DNE(7,St,2,1,"div",31),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.NPI.touched&&(t.practiceAdminProfileForm.controls.NPI.hasError("required")||t.practiceAdminProfileForm.controls.NPI.hasError("pattern")))}}function xt(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.validationMessages.required("a valid SSN")," ")}}function It(o,r){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"label",28),e.EFF(3,"SSN "),e.j41(4,"span",29),e.EFF(5," *"),e.k0s()(),e.nrm(6,"input",50),e.DNE(7,xt,2,1,"div",31),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.SSN.touched&&(t.practiceAdminProfileForm.controls.SSN.hasError("required")||t.practiceAdminProfileForm.controls.SSN.hasError("pattern")))}}function wt(o,r){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function jt(o,r){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"label",28),e.EFF(3,"Mark as Site Leader for Practice Location "),e.k0s(),e.j41(4,"select",51)(5,"option",43),e.EFF(6,"Select"),e.k0s(),e.DNE(7,wt,2,2,"option",44),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(7),e.Y8G("ngForOf",t.practiceLocationData)}}function Et(o,r){if(1&o&&(e.j41(0,"div",48),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" ",t.validationMessages.required("a valid Licence number")," ")}}function Rt(o,r){if(1&o&&(e.j41(0,"div",26)(1,"div",27)(2,"label",28),e.EFF(3,"Licence Number"),e.k0s(),e.nrm(4,"input",53),e.DNE(5,Et,2,1,"div",31),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.licenceNumber.touched&&t.practiceAdminProfileForm.controls.licenceNumber.hasError("required"))}}function Pt(o,r){if(1&o&&(e.j41(0,"option",52),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(t)}}function At(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",54),e.EFF(1),e.j41(2,"button",55),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.removeLocation(i))}),e.j41(3,"mat-icon",6),e.EFF(4,"close "),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(),e.SpI(" ",t," ")}}function Nt(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",3)(3,"div",4)(4,"h3",7),e.EFF(5,"Basic Information"),e.k0s()()(),e.j41(6,"div",23)(7,"div",24)(8,"form",25)(9,"div",26)(10,"div",27)(11,"label",28),e.EFF(12,"First Name "),e.j41(13,"span",29),e.EFF(14," * "),e.k0s()(),e.j41(15,"input",30),e.bIt("blur",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.checkSpace("firstName",i))}),e.k0s(),e.DNE(16,_t,2,1,"div",31)(17,gt,2,1,"div",31),e.k0s()(),e.j41(18,"div",26)(19,"div",27)(20,"label",28),e.EFF(21,"Last Name"),e.j41(22,"span",29),e.EFF(23," * "),e.k0s()(),e.j41(24,"input",32),e.bIt("blur",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.checkSpace("lastName",i))}),e.k0s(),e.DNE(25,vt,2,1,"div",31)(26,bt,2,1,"div",31),e.k0s()(),e.j41(27,"div",26)(28,"div",27)(29,"label",28),e.EFF(30,"Email "),e.j41(31,"span",29),e.EFF(32," * "),e.k0s()(),e.nrm(33,"input",33),e.DNE(34,Ft,2,1,"div",31)(35,Ct,2,1,"div",31),e.k0s()(),e.j41(36,"div",26)(37,"div",27)(38,"label",28),e.EFF(39,"Phone "),e.j41(40,"span",29),e.EFF(41," * "),e.k0s()(),e.j41(42,"input",34),e.bIt("input",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onPhoneInputChange(i))}),e.k0s(),e.DNE(43,yt,2,1,"div",31)(44,kt,2,1,"div",31),e.k0s()(),e.DNE(45,Dt,8,1,"div",35)(46,It,8,1,"div",35),e.j41(47,"div",26)(48,"div",27)(49,"label",28),e.EFF(50,"Status "),e.k0s(),e.j41(51,"select",36)(52,"option",37),e.EFF(53,"Pending"),e.k0s(),e.j41(54,"option",38),e.EFF(55,"Active"),e.k0s(),e.j41(56,"option",39),e.EFF(57,"Suspended"),e.k0s(),e.j41(58,"option",40),e.EFF(59,"Deleted"),e.k0s(),e.j41(60,"option",41),e.EFF(61,"Blocked"),e.k0s()()()(),e.DNE(62,jt,8,1,"div",35)(63,Rt,6,1,"div",35),e.j41(64,"div",26)(65,"div",27)(66,"label",28),e.EFF(67,"Practice Location "),e.k0s(),e.j41(68,"select",42,0),e.bIt("change",function(i){e.eBV(t);const a=e.XpG();return e.Njj(a.onLocationChange(i))}),e.j41(70,"option",43),e.EFF(71,"Select"),e.k0s(),e.DNE(72,Pt,2,2,"option",44),e.k0s()(),e.j41(73,"div",27),e.DNE(74,At,5,1,"div",45),e.k0s()(),e.j41(75,"div",46)(76,"button",47),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.updatePracticeAdminProfile())}),e.EFF(77,"Save"),e.k0s()()()()()()()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("formGroup",t.practiceAdminProfileForm),e.R7$(8),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.firstName.touched&&t.practiceAdminProfileForm.controls.firstName.hasError("required")),e.R7$(),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.firstName.touched&&t.practiceAdminProfileForm.controls.firstName.hasError("pattern")),e.R7$(8),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.lastName.touched&&t.practiceAdminProfileForm.controls.lastName.hasError("required")),e.R7$(),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.lastName.touched&&t.practiceAdminProfileForm.controls.lastName.hasError("pattern")),e.R7$(8),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.email.touched&&t.practiceAdminProfileForm.controls.email.hasError("required")),e.R7$(),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.email.touched&&t.practiceAdminProfileForm.controls.email.hasError("email")),e.R7$(7),e.Y8G("value",t.convertPhoneNumber),e.R7$(),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.phoneNumber.touched&&t.practiceAdminProfileForm.controls.phoneNumber.hasError("required")),e.R7$(),e.Y8G("ngIf",t.practiceAdminProfileForm.controls.phoneNumber.touched&&t.practiceAdminProfileForm.controls.phoneNumber.hasError("pattern")),e.R7$(),e.Y8G("ngIf",t.isTherapist),e.R7$(),e.Y8G("ngIf",t.isTherapist),e.R7$(16),e.Y8G("ngIf",t.isTherapist),e.R7$(),e.Y8G("ngIf",t.isTherapist),e.R7$(9),e.Y8G("ngForOf",t.practiceLocationData),e.R7$(2),e.Y8G("ngForOf",t.selectedLocations),e.R7$(2),e.Y8G("disabled",!t.practiceAdminProfileForm.valid)}}let Tt=(()=>{class o{constructor(t,n,i,a,s,c,d){this.router=t,this.dialog=n,this.fb=i,this.route=a,this.commonService=s,this.adminService=c,this.authService=d,this.validationMessages=j.q,this.convertPhoneNumber="",this.practiceLocationData=b.WM,this.selectedLocations=[],this.userRole="",this.isTherapist=!1,this.editOptions=!1,this.showProfileForm=!1,this.isDefaultImage=!0,this.route.params.subscribe(u=>{this.adminId=u.adminId})}ngOnInit(){this.initializeAdminProfile(),this.getProfile()}initializeAdminProfile(){this.practiceAdminProfileForm=this.fb.group({firstName:["",[m.k0.required,m.k0.pattern(I.y.alphabetic)]],lastName:["",[m.k0.required,m.k0.pattern(I.y.alphabetic)]],email:["",[m.k0.required,m.k0.email]],phoneNumber:["",[m.k0.required,m.k0.pattern(I.y.usPhoneNumber)]],status:[""],practiceLocation:[""]})}initializeTherapistFields(){this.practiceAdminProfileForm.addControl("NPI",this.fb.control("",[m.k0.required,m.k0.pattern(I.y.onlyNumeric)])),this.practiceAdminProfileForm.addControl("SSN",this.fb.control("",[m.k0.required,m.k0.pattern(I.y.numericAndSpecialCharacter)])),this.practiceAdminProfileForm.addControl("siteLeaderForPracLocation",this.fb.control("",[])),this.practiceAdminProfileForm.addControl("licenceNumber",this.fb.control("",[]))}getProfile(){this.commonService.showLoader(),this.adminService.profile({query:{_id:this.adminId},params:{profileImage:1,firstName:1,lastName:1,email:1,phoneNumber:1,status:1,practiceLocation:1,role:1,NPI:1,SSN:1,siteLeaderForPracLocation:1,licenceNumber:1}}).subscribe({next:n=>{this.commonService.hideLoader(),this.showProfileForm=!0,n&&!n.error&&(this.profileImage=b.ns.awsS3Url+b.ns.userProfileFolderPath+n.data.profileImage,this.isDefaultImage="default.png"!=n.data.profileImage,this.practiceAdminProfileForm.controls.firstName.setValue(n.data?n.data.firstName:""),this.practiceAdminProfileForm.controls.lastName.setValue(n.data?n.data.lastName:""),this.practiceAdminProfileForm.controls.email.setValue(n.data?n.data.email:""),this.practiceAdminProfileForm.controls.phoneNumber.setValue(n.data?n.data.phoneNumber:""),this.practiceAdminProfileForm.controls.status.setValue(n.data?n.data.status:""),this.selectedLocations=n.data.practiceLocation,this.userRole=n.data.role,"therapist"==this.userRole&&(this.initializeTherapistFields(),this.practiceAdminProfileForm.controls.siteLeaderForPracLocation.setValue(n.data&&n.data.siteLeaderForPracLocatio?n.data.siteLeaderForPracLocation:""),this.practiceAdminProfileForm.controls.NPI.setValue(n.data&&n.data.NPI?n.data.NPI:""),this.practiceAdminProfileForm.controls.SSN.setValue(n.data&&n.data.SSN?n.data.SSN:""),this.practiceAdminProfileForm.controls.licenceNumber.setValue(n.data&&n.data.licenceNumber?n.data.licenceNumber:""),this.isTherapist=!0))},error:n=>{this.commonService.hideLoader(),this.showProfileForm=!0,n.error?.error&&this.commonService.openSnackBar(n.error?.message,"ERROR")}})}updatePracticeAdminProfile(){this.practiceAdminProfileForm.valid&&(this.practiceAdminProfileForm.value.practiceLocation=this.selectedLocations,this.practiceAdminProfileForm.value.userId=this.adminId,this.practiceAdminProfileForm.value.clickAction="update",this.updateProfile(this.practiceAdminProfileForm.value))}updateProfile(t){this.adminService.updateProfile(t).subscribe({next:n=>{n&&!n.error&&(this.commonService.openSnackBar(n.message,"SUCCESS"),this.navigateToAdminUserList())},error:n=>{n.error?.error&&this.commonService.openSnackBar(n.error?.message,"ERROR")}})}onPhoneInputChange(t){this.convertPhoneNumber=this.commonService.formatPhoneNumber(t.target.value)}deleteAccount(){this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this account?"}}).afterClosed().subscribe(n=>{n&&!n.error&&this.updateProfile({userId:this.adminId,status:"Deleted",clickAction:"delete"})})}changePassword(){this.dialog.open(dt.s,{panelClass:"change--password--modal",data:{userId:this.adminId,userRole:this.userRole}}).afterClosed().subscribe(n=>{console.log("result>>>",n)})}removeLocation(t){const n=this.selectedLocations.indexOf(t);-1!==n&&this.selectedLocations.splice(n,1)}onLocationChange(t){t.target.value&&!this.selectedLocations.includes(t.target.value)&&this.selectedLocations.push(t.target.value),this.locationSelect.nativeElement.selectedIndex=0}navigateToAdminUserList(){this.router.navigate([this.commonService.getLoggedInRoute()+"/user-managment/"+this.commonService.getUrlSegmentBaseOnRole(this.userRole)])}changePhoto(){var t=this;return(0,h.A)(function*(){t.editOptions=!1,t.dialog.open(pt.m,{width:"600px",disableClose:!0,data:{cropperFor:"Profile Picture"}}).afterClosed().subscribe(function(){var i=(0,h.A)(function*(a){if(t.commonService.showLoader(),!1!==a&&null!=a.image){let s={userId:t.adminId,profileImage:a.image.base64};yield t.authService.apiRequest("post","admin/changeProfileImage",s).subscribe(function(){var c=(0,h.A)(function*(d){t.commonService.hideLoader(),t.commonService.openSnackBar(d.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(d){return c.apply(this,arguments)}}())}else t.commonService.hideLoader()});return function(a){return i.apply(this,arguments)}}())})()}editProfile(){this.editOptions=!this.editOptions}removePhoto(){var t=this;this.editOptions=!1,this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to remove this image?"}}).afterClosed().subscribe(function(){var i=(0,h.A)(function*(a){if(a){let s={userId:t.adminId};yield t.authService.apiRequest("post","admin/deleteProfileImage",s).subscribe(function(){var c=(0,h.A)(function*(d){t.commonService.openSnackBar(d.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(d){return c.apply(this,arguments)}}())}});return function(a){return i.apply(this,arguments)}}())}checkSpace(t,n){this.practiceAdminProfileForm.controls[t].setValue(this.commonService.capitalize(n.target.value.trim()))}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(F.Ix),e.rXU(_.bZ),e.rXU(m.ok),e.rXU(F.nX),e.rXU(S.h),e.rXU(P.z),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-admin-profile"]],viewQuery:function(n,i){if(1&n&&e.GBs(ut,5),2&n){let a;e.mGM(a=e.lsd())&&(i.locationSelect=a.first)}},decls:24,vars:3,consts:[["locationSelect",""],[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[4,"ngIf"],[1,"profile--round","position-relative"],["alt","",1,"img-fluid","user--img",3,"src"],["mat-raised-button","","color","primary",1,"edit--btn",3,"click"],[1,"d-flex","flex-column","w-100","body--sec"],["mat-stroked-button","","color","primary",1,"w-100","mb-3",3,"click"],["mat-stroked-button","","color","warn",1,"w-100","mt-1",3,"click"],["class","profile--right d-flex flex-column w-100",4,"ngIf"],[3,"click"],[3,"click",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-12","col-lg-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","First name","formControlName","firstName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Last name","formControlName","lastName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["type","email","placeholder","Email ","formControlName","email","maxlength","35",1,"form-control","form-control-md"],["type","text","placeholder","Phone ","formControlName","phoneNumber","maxlength","15",1,"form-control","form-control-md",3,"input","value"],["class","col-12 col-lg-6",4,"ngIf"],["aria-label","Default select example","formControlName","status",1,"form-select","form-control","form-control-md"],["value","Pending"],["value","Active"],["value","Suspended"],["value","Deleted"],["value","Blocked"],["aria-label","Default select example","formControlName","practiceLocation",1,"form-select","form-control","form-control-md",3,"change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["class","chips d-inline-flex align-items-center",4,"ngFor","ngForOf"],[1,"col-12","my-2","d-flex","justify-content-end"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"text","text-danger","mt-1"],["type","text","placeholder","NPI ","formControlName","NPI","maxlength","10",1,"form-control","form-control-md"],["type","text","placeholder","SSN ","formControlName","SSN","maxlength","9",1,"form-control","form-control-md"],["aria-label","Default select example","formControlName","siteLeaderForPracLocation",1,"form-select","form-control","form-control-md"],[3,"value"],["type","text","placeholder","Licence Number ","formControlName","licenceNumber","maxlength","15",1,"form-control","form-control-md"],[1,"chips","d-inline-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","chip--close--btn","pe-0","ps-1",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),e.bIt("click",function(){return i.navigateToAdminUserList()}),e.j41(5,"mat-icon",6),e.EFF(6," keyboard_backspace "),e.k0s()(),e.j41(7,"h3",7),e.EFF(8,"Profile Details"),e.k0s()()(),e.j41(9,"div",8)(10,"div",9)(11,"div",10),e.DNE(12,ft,4,1,"mat-list",11),e.k0s(),e.j41(13,"div",12),e.nrm(14,"img",13),e.j41(15,"button",14),e.bIt("click",function(){return i.editProfile()}),e.j41(16,"mat-icon",6),e.EFF(17," edit "),e.k0s()()(),e.j41(18,"div",15)(19,"button",16),e.bIt("click",function(){return i.changePassword()}),e.EFF(20,"Change Password"),e.k0s(),e.j41(21,"button",17),e.bIt("click",function(){return i.deleteAccount()}),e.EFF(22,"Delete Account"),e.k0s()()(),e.DNE(23,Nt,78,17,"div",18),e.k0s()()()),2&n&&(e.R7$(12),e.Y8G("ngIf",i.editOptions),e.R7$(2),e.FS9("src",i.profileImage,e.B4B),e.R7$(9),e.Y8G("ngIf",i.showProfileForm))},dependencies:[g.Sq,g.bT,m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,m.tU,m.j4,m.JD,C.$z,k.An,G.jt,G.YE]})}return o})(),Lt=(()=>{class o{constructor(){}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-dashboard"]],decls:1,vars:0,consts:[[1,"bgm-img"]],template:function(n,i){1&n&&e.nrm(0,"div",0)},styles:[".bgm-img[_ngcontent-%COMP%]{background-image:url(dashboard.f6f03eed2938bf9a.png);background-size:cover;height:763px;width:100%}"]})}return o})();var $t=p(7785),Mt=p(1641),Ut=p(4205),Gt=p(3078),Vt=p(4923);function Bt(o,r){if(1&o){const t=e.RV6();e.j41(0,"li",5),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.goTo("Protocols Documents","protocols"))}),e.j41(1,"a"),e.EFF(2,"Protocols"),e.k0s()()}if(2&o){const t=e.XpG();e.Mz_("routerLink","/",t.userType,"/manage-documents/protocols")}}let Ot=(()=>{class o{constructor(t,n){this.router=t,this.authService=n,this.labelName="",this.userType="",this.rootDirectoryUrl="",this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),console.log(this.rootDirectoryUrl),"appointment-documents"==this.router.url.split("/")[this.router.url.split("/").length-1]?(this.labelName="Apppointment Documents",this.rootDirectoryUrl="apppointment-documents"):"protocols"==this.router.url.split("/")[this.router.url.split("/").length-1]?(this.labelName="Protocol Documents",this.rootDirectoryUrl="protocols"):(this.labelName="System Documents",this.rootDirectoryUrl="system-documents")}goTo(t,n){this.labelName=t,this.rootDirectoryUrl=n}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(F.Ix),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-documents"]],decls:20,vars:9,consts:[[1,"note--wrapper","container-fluid"],[1,"row"],[1,"col-12"],[1,"tab--header","d-flex","flex-row","justify-content-between","align-items-center","flex-wrap"],[1,"d-flex","align-items-center","p-0","m-0","flex-wrap","flex-sm-nowrap"],["routerLinkActive","active-link",3,"click","routerLink"],["routerLinkActive","active-link",3,"routerLink","click",4,"ngIf"],["aria-label","breadcrumb"],[1,"breadcrumb","mb-0","d-flex","align-items-center"],[1,"breadcrumb-item","fw-500"],[1,"font-12","clr--1F2F3E",3,"routerLink"],[1,"note--body--doc"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"ul",4)(5,"li",5),e.bIt("click",function(){return i.goTo("Apppointment Documents","apppointment-documents")}),e.j41(6,"a"),e.EFF(7,"Apppointment Documents"),e.k0s()(),e.j41(8,"li",5),e.bIt("click",function(){return i.goTo("System Documents","system-documents")}),e.j41(9,"a"),e.EFF(10,"System Documents"),e.k0s()(),e.DNE(11,Bt,3,2,"li",6),e.k0s(),e.j41(12,"nav",7)(13,"ol",8)(14,"li",9)(15,"a",10),e.EFF(16),e.k0s()()()()()(),e.j41(17,"div",2)(18,"div",11),e.nrm(19,"router-outlet"),e.k0s()()()()),2&n&&(e.R7$(5),e.Mz_("routerLink","/",i.userType,"/manage-documents/appointment-documents"),e.R7$(3),e.Mz_("routerLink","/",i.userType,"/manage-documents/system-documents"),e.R7$(3),e.Y8G("ngIf","system-admin"==i.userType),e.R7$(4),e.FCK("routerLink","/",i.userType,"/manage-documents/",i.rootDirectoryUrl,""),e.R7$(),e.JRh(i.labelName))},dependencies:[g.bT,F.n3,F.Wk,F.wQ]})}return o})();var Xt=p(2102);const Yt=["fileInput"];function zt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Please enter document name"),e.k0s())}function qt(o,r){1&o&&(e.j41(0,"h5",23),e.EFF(1,"File Uploaded Successfully."),e.k0s())}function Ht(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",24)(1,"div",25)(2,"mat-icon",26),e.EFF(3," description "),e.k0s(),e.j41(4,"h5",27),e.EFF(5),e.k0s()(),e.j41(6,"button",28),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.removeItem())}),e.j41(7,"span",29),e.EFF(8," cancel "),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("matTooltip",t.uploadedFile[0].name),e.R7$(),e.JRh(t.shortName(t.uploadedFile[0].name))}}function Jt(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Please upload document"),e.k0s())}function Qt(o,r){if(1&o&&(e.j41(0,"div",5)(1,"div",30)(2,"mat-icon",31),e.EFF(3," info "),e.k0s(),e.j41(4,"div",32),e.EFF(5),e.k0s()()()),2&o){const t=e.XpG();e.R7$(5),e.JRh(t.uploadErrorMessage)}}let A=(()=>{class o{constructor(t,n,i,a){this.data=t,this.dialogRef=n,this.authService=i,this.commonService=a,this.documentName="",this.uploadError=!1,this.uploadErrorMessage="",this.previewUrl="",this.directory="",this.userId="",this.submitted=!1,this.directory=this.data.directory,this.userId=this.data.userId}onFileChange(t){const n=t.target.files;this.uploadedFile=n,n[0].size/1048576>=15?(this.uploadErrorMessage="The file exceeds the maximum file size limit. Please note that the maximum size allowed is 15mb.",this.uploadError=!0):(this.uploadErrorMessage="",this.uploadError=!1);const a=new FileReader;a.onload=s=>{this.previewUrl=s.target.result},a.readAsDataURL(n[0])}removeItem(){this.previewUrl="",this.uploadError=!1,this.fileInput.nativeElement.value=null}shortName(t){return t&&t.length>30?t.substring(0,28).replace(/^[a-z]/,function(n){return n.toUpperCase()})+"...":t.replace(/^[a-z]/,function(n){return n.toUpperCase()})}uploadDocument(){if(this.submitted=!0,null==this.uploadedFile||this.uploadError||""==this.documentName)return;this.commonService.showLoader();const t=new FormData;var n=this.uploadedFile[0].name.split(".").pop();t.append("directory",this.directory),t.append("documentName",this.documentName+"."+n),t.append("uploadFile",this.uploadedFile[0],this.uploadedFile[0].name),t.append("endUserId",this.userId),this.authService.apiRequest("post","admin/uploadDocumentFile",t).subscribe(i=>{this.commonService.hideLoader(),this.submitted=!1,this.dialogRef.close(!0)})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(_.Vh),e.rXU(_.CP),e.rXU(D.u),e.rXU(S.h))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-upload-documents-modal"]],viewQuery:function(n,i){if(1&n&&e.GBs(Yt,5),2&n){let a;e.mGM(a=e.lsd())&&(i.fileInput=a.first)}},decls:34,vars:6,consts:[["fileInput",""],[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0","pb-0"],[1,"modal--body","w-100","pt-3"],[1,"col-12"],[1,"form-group"],[1,"d-flex","mb-0","pb-1","fw-700","font-16"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Enter Document Name","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"row","pt-1"],[1,"font-14","fw-600","clr--848789","mb-2"],[1,"upload--files","d-flex","align-items-center","justify-content-center","flex-column","w-100","text-center"],["type","file","id","file-upload","name","journeyPic",1,"input--file",3,"change"],[1,"upload-icon"],[1,"fw-700","font-16"],["class","font-16 fw-500 mb-1",4,"ngIf"],["class","d-flex flex-row align-items-center pt-2",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-raised-button","","color","primary",3,"click"],[1,"font-16","fw-500","mb-1"],[1,"d-flex","flex-row","align-items-center","pt-2"],[1,"d-flex","flex-row","align-items-center","me-2"],[1,"text-primary","me-2"],[1,"font-16","fw-500","mb-0","mt-1",3,"matTooltip"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset",3,"click"],[1,"material-icons","clr--DF0404"],[1,"d-flex","flex-row","align-items-center"],[1,"text-danger","me-2",2,"overflow","visible"],[1,"text","text-danger","fw-500","font-14","mt-1"]],template:function(n,i){if(1&n){const a=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"h1",3),e.EFF(3,"Upload Document"),e.k0s()(),e.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),e.EFF(8,"Enter Document Name "),e.j41(9,"span",8),e.EFF(10," * "),e.k0s()(),e.j41(11,"input",9),e.mxI("ngModelChange",function(c){return e.eBV(a),e.DH7(i.documentName,c)||(i.documentName=c),e.Njj(c)}),e.k0s(),e.DNE(12,zt,2,0,"mat-error",10),e.k0s()(),e.j41(13,"div",11)(14,"div",5)(15,"p",12),e.EFF(16," Supported File Types: .pdf, .doc, .docx, .xls, .xlsx, .jpg, .jpeg, .png, .gif, .ppt, .pptx, .txt, .zip, .rar, .mp3, .wav, .mp4, .avi, .mov, .csv "),e.k0s()(),e.j41(17,"div",5)(18,"div",13)(19,"input",14,0),e.bIt("change",function(c){return e.eBV(a),e.Njj(i.onFileChange(c))}),e.k0s(),e.j41(21,"mat-icon",15),e.EFF(22," upload_file "),e.k0s(),e.j41(23,"h6",16),e.EFF(24,"Upload or Drag & Drop here"),e.k0s(),e.DNE(25,qt,2,0,"h5",17)(26,Ht,9,2,"div",18)(27,Jt,2,0,"mat-error",10),e.k0s()(),e.DNE(28,Qt,6,1,"div",19),e.k0s()(),e.j41(29,"div",20)(30,"button",21),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",22),e.bIt("click",function(){return e.eBV(a),e.Njj(i.uploadDocument())}),e.EFF(33,"Submit"),e.k0s()()()}2&n&&(e.R7$(11),e.R50("ngModel",i.documentName),e.R7$(),e.Y8G("ngIf",""==i.documentName&&i.submitted),e.R7$(13),e.Y8G("ngIf",""!=i.previewUrl),e.R7$(),e.Y8G("ngIf",""!=i.previewUrl),e.R7$(),e.Y8G("ngIf",""==i.previewUrl&&i.submitted),e.R7$(),e.Y8G("ngIf",i.uploadError))},dependencies:[g.bT,m.me,m.BC,m.tU,m.vS,C.$z,_.tx,Xt.TL,k.An,U.oV],styles:[".upload--files[_ngcontent-%COMP%]{border-radius:20px;border:2px dashed #31B7B7;background:#fff;padding:30px 15px 24px;margin-bottom:10px;position:relative}.upload--files[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;color:#1f2f3e}.upload--files[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#848789}.upload--files[_ngcontent-%COMP%]   .input--file[_ngcontent-%COMP%]{opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;cursor:pointer}.upload--files[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{font-size:42px;width:42px;height:42px;color:#31b7b7}"]})}return o})(),R=(()=>{class o{constructor(t,n){this.data=t,this.dialogRef=n,this.headerName="",this.labelName="",this.inputValue="",this.headerName=this.data.headerName,this.labelName=this.data.labelName,"update"==this.data.type&&(this.inputValue=this.data.updateValue)}submit(){""!=this.inputValue&&this.dialogRef.close(this.inputValue)}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(_.Vh),e.rXU(_.CP))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-add-folder-modal"]],decls:15,vars:3,consts:[[1,"modal--wrapper","d-flex","flex-column","w-100"],[1,"modal--header","w-100"],[1,"fw-700","border-0","pb-0"],[1,"modal--body","w-100","pt-1"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-700","font-16"],["type","text","placeholder","Enter Here",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal--footer","w-100","d-flex","align-items-center","justify-content-end","pt-0"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-3"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3),e.k0s()(),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"label",6),e.EFF(8),e.k0s(),e.j41(9,"input",7),e.mxI("ngModelChange",function(s){return e.DH7(i.inputValue,s)||(i.inputValue=s),s}),e.k0s()()()(),e.j41(10,"div",8)(11,"button",9),e.EFF(12,"Cancel"),e.k0s(),e.j41(13,"button",10),e.bIt("click",function(){return i.submit()}),e.EFF(14,"Submit"),e.k0s()()()),2&n&&(e.R7$(3),e.JRh(i.headerName),e.R7$(5),e.JRh(i.labelName),e.R7$(),e.R50("ngModel",i.inputValue))},dependencies:[m.me,m.BC,m.vS,C.$z,_.tx]})}return o})();const Zt=()=>[5,10,20];function Wt(o,r){1&o&&(e.j41(0,"th",26),e.EFF(1," Name "),e.k0s())}function Kt(o,r){if(1&o&&(e.j41(0,"td",27)(1,"div",28)(2,"mat-icon"),e.EFF(3),e.k0s(),e.j41(4,"p",29),e.EFF(5),e.k0s()()()),2&o){const t=r.$implicit;e.R7$(2),e.ZvI("me-3 ",t.color,""),e.R7$(),e.SpI(" ",t.icon,""),e.R7$(2),e.JRh(t.name)}}function eo(o,r){1&o&&(e.j41(0,"th",30),e.EFF(1," Actions "),e.k0s())}function to(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",31)(1,"div",32)(2,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.previewFile(i._id))}),e.j41(3,"mat-icon",34),e.EFF(4,"visibility "),e.k0s()(),e.j41(5,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.addFolderModal(i))}),e.j41(6,"mat-icon",34),e.EFF(7,"edit "),e.k0s()(),e.j41(8,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.removeItem(i))}),e.j41(9,"mat-icon",35),e.EFF(10,"cancel"),e.k0s()()()()}}function oo(o,r){1&o&&e.nrm(0,"tr",36)}function no(o,r){1&o&&e.nrm(0,"tr",37)}function io(o,r){1&o&&(e.j41(0,"div",38)(1,"div",39),e.nrm(2,"img",40),e.j41(3,"p",41),e.EFF(4,"No Records found"),e.k0s()()())}const ao=[];let ro=(()=>{class o{constructor(t,n,i,a){this._liveAnnouncer=t,this.dialog=n,this.authService=i,this.commonService=a,this.displayedColumns=["name","actions"],this.dataSource=new l.I6(ao),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.getDirectoryItems(),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-")}getDirectoryItems(){var t=this;this.loading=!0,this.commonService.showLoader();var n={directory:b.z7,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",n).subscribe(function(){var i=(0,h.A)(function*(a){t.loading=!1,t.commonService.hideLoader(),t.listArrayItems=[],a.data.directoryList.forEach(s=>{t.listArrayItems.push({_id:s._id,name:s.directory_name,actions:"",icon:"folder",color:"description"})}),a.data.fileList.forEach(s=>{var c=s.file_name.split(".").pop(),d="",u="";"pdf"==c?(d="picture_as_pdf",u="pdf"):"png"==c||"jpg"==c||"jpeg"==c?(d="photo",u="photo"):(d="description",u="description"),t.listArrayItems.push({_id:s._id,name:s.file_name,actions:"",icon:d,color:u})}),t.arrLength=t.listArrayItems.length,t.dataSource.data=t.listArrayItems,t.dataSource.paginator=t.paginator});return function(a){return i.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(A,{panelClass:["modal--wrapper"],width:"520px",data:{directory:b.z7,userId:this.userId}}).afterClosed().subscribe(n=>{n&&this.getDirectoryItems()})}addFolderModal(t){var n=this;this.dialog.open(R,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:"Update File",labelName:"File Name",updateValue:t.name}}).afterClosed().subscribe(a=>{a&&this.authService.apiRequest("post","admin/updateFile",{oldFileName:t.name,newFileName:a,itemId:t._id}).subscribe(function(){var c=(0,h.A)(function*(d){n.getDirectoryItems()});return function(d){return c.apply(this,arguments)}}())})}removeItem(t){var n=this;this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this document?"}}).afterClosed().subscribe(a=>{a&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:"file",removeItemId:t._id}).subscribe(function(){var c=(0,h.A)(function*(d){n.getDirectoryItems()});return function(d){return c.apply(this,arguments)}}())})}previewFile(t){window.open(`${window.location.origin}/${this.userType}/file-preview/`+t,"_blank")}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ),e.rXU(D.u),e.rXU(S.h))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-appointment-documents"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:29,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),e.bIt("keyup",function(){return i.searchRecords()}),e.mxI("ngModelChange",function(s){return e.DH7(i.searchItem,s)||(i.searchItem=s),s}),e.k0s(),e.j41(7,"button",7),e.bIt("click",function(){return i.searchRecords()}),e.j41(8,"mat-icon",8),e.EFF(9,"search "),e.k0s()()()(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return i.addDocumentsModal()}),e.j41(12,"mat-icon",11),e.EFF(13," add_circle_outline "),e.k0s(),e.EFF(14," Add Documents "),e.k0s()()()(),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(19,16),e.DNE(20,Wt,2,0,"th",17)(21,Kt,6,5,"td",18),e.bVm(),e.qex(22,19),e.DNE(23,eo,2,0,"th",20)(24,to,11,0,"td",21),e.bVm(),e.DNE(25,oo,1,0,"tr",22)(26,no,1,0,"tr",23),e.k0s(),e.DNE(27,io,5,0,"div",24),e.nrm(28,"mat-paginator",25),e.k0s()()()()()),2&n&&(e.R7$(6),e.R50("ngModel",i.searchItem),e.R7$(12),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",0==i.arrLength&&!i.loading),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,Zt)))},dependencies:[g.bT,m.me,m.BC,m.vS,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#f45454}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#32bebe}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#5cc0f8}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}"]})}return o})();const so=()=>[5,10,20];function co(o,r){1&o&&(e.j41(0,"th",23),e.EFF(1," Name "),e.k0s())}function lo(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",24),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.gotoDirectory(i.directory_name,i._id))}),e.j41(1,"div",25)(2,"mat-icon",26),e.EFF(3,"folder"),e.k0s(),e.j41(4,"p",27),e.EFF(5),e.k0s()()()}if(2&o){const t=r.$implicit,n=e.XpG();e.FCK("routerLink","/",n.userType,"/manage-documents/system-documents/system-documents-detailed/",t._id,""),e.R7$(5),e.JRh(t.directory_name)}}function mo(o,r){1&o&&e.nrm(0,"th",28)}function po(o,r){1&o&&e.nrm(0,"td",29)}function uo(o,r){1&o&&e.nrm(0,"tr",30)}function ho(o,r){1&o&&e.nrm(0,"tr",31)}function fo(o,r){1&o&&(e.j41(0,"div",32)(1,"div",33),e.nrm(2,"img",34),e.j41(3,"p",35),e.EFF(4,"No Records found"),e.k0s()()())}const _o=[];let go=(()=>{class o{constructor(t,n,i,a){this._liveAnnouncer=t,this.dialog=n,this.authService=i,this.commonService=a,this.displayedColumns=["directory_name","actions"],this.dataSource=new l.I6(_o),this.searchDirectory="",this.loading=!1,this.arrLength=0,this.userType="",this.pathValues=[],this.userType=this.authService.getLoggedInInfo("role").replace("_","-"),this.pathValues.push({link:"/manage-documents/system-documents",name:"Documents"}),this.getDefaultDirectories()}getDefaultDirectories(){var t=this;this.loading=!0,this.commonService.showLoader();var n=this.authService.getLoggedInInfo("role"),i={searchValue:this.searchDirectory.trim(),userRole:n};this.authService.apiRequest("post","admin/getDefaultDirectories",i).subscribe(function(){var a=(0,h.A)(function*(s){t.loading=!1;var c=s.data.directoryList;t.commonService.hideLoader(),t.arrLength=c.length,t.dataSource.data=c,t.dataSource.paginator=t.paginator});return function(s){return a.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}searchRecords(){this.getDefaultDirectories()}gotoDirectory(t,n){this.pathValues.push({link:"/manage-documents/system-documents/system-documents-detailed/"+n,name:t}),localStorage.setItem("pathValues",JSON.stringify(this.pathValues))}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ),e.rXU(D.u),e.rXU(S.h))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-system-documents"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:24,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","directory_name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"routerLink","click",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"click","routerLink"],[1,"d-flex","align-items-center"],[1,"me-3"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),e.bIt("keyup",function(){return i.searchRecords()}),e.mxI("ngModelChange",function(s){return e.DH7(i.searchDirectory,s)||(i.searchDirectory=s),s}),e.k0s(),e.j41(7,"button",7),e.bIt("click",function(){return i.searchRecords()}),e.j41(8,"mat-icon",8),e.EFF(9,"search "),e.k0s()()()()()(),e.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"table",12),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(14,13),e.DNE(15,co,2,0,"th",14)(16,lo,6,4,"td",15),e.bVm(),e.qex(17,16),e.DNE(18,mo,1,0,"th",17)(19,po,1,0,"td",18),e.bVm(),e.DNE(20,uo,1,0,"tr",19)(21,ho,1,0,"tr",20),e.k0s(),e.DNE(22,fo,5,0,"div",21),e.nrm(23,"mat-paginator",22),e.k0s()()()()()),2&n&&(e.R7$(6),e.R50("ngModel",i.searchDirectory),e.R7$(7),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",0==i.arrLength&&!i.loading),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,so)))},dependencies:[g.bT,F.Wk,m.me,m.BC,m.vS,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}"]})}return o})();const vo=()=>[5,10,20];function bo(o,r){1&o&&(e.j41(0,"th",26),e.EFF(1," Name "),e.k0s())}function Fo(o,r){if(1&o&&(e.j41(0,"td",27)(1,"div",28)(2,"mat-icon"),e.EFF(3),e.k0s(),e.j41(4,"p",29),e.EFF(5),e.k0s()()()),2&o){const t=r.$implicit;e.R7$(2),e.ZvI("me-3 ",t.color,""),e.R7$(),e.SpI(" ",t.icon,""),e.R7$(2),e.JRh(t.name)}}function Co(o,r){1&o&&(e.j41(0,"th",30),e.EFF(1," Actions "),e.k0s())}function yo(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",31)(1,"div",32)(2,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.previewFile(i._id))}),e.j41(3,"mat-icon",34),e.EFF(4,"visibility "),e.k0s()(),e.j41(5,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.addFolderModal(i))}),e.j41(6,"mat-icon",34),e.EFF(7,"edit "),e.k0s()(),e.j41(8,"button",33),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.removeItem(i))}),e.j41(9,"mat-icon",35),e.EFF(10,"cancel"),e.k0s()()()()}}function ko(o,r){1&o&&e.nrm(0,"tr",36)}function So(o,r){1&o&&e.nrm(0,"tr",37)}function Do(o,r){1&o&&(e.j41(0,"div",38)(1,"div",39),e.nrm(2,"img",40),e.j41(3,"p",41),e.EFF(4,"No Records found"),e.k0s()()())}const xo=[];let Io=(()=>{class o{constructor(t,n,i,a){this._liveAnnouncer=t,this.dialog=n,this.authService=i,this.commonService=a,this.displayedColumns=["name","actions"],this.dataSource=new l.I6(xo),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.getDirectoryItems(),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-")}getDirectoryItems(){var t=this;this.loading=!0,this.commonService.showLoader();var n={directory:b.uM,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",n).subscribe(function(){var i=(0,h.A)(function*(a){t.loading=!1,t.commonService.hideLoader(),t.listArrayItems=[],a.data.directoryList.forEach(s=>{t.listArrayItems.push({_id:s._id,name:s.directory_name,actions:"",icon:"folder",color:"description"})}),a.data.fileList.forEach(s=>{var c=s.file_name.split(".").pop(),d="",u="";"pdf"==c?(d="picture_as_pdf",u="pdf"):"png"==c||"jpg"==c||"jpeg"==c?(d="photo",u="photo"):(d="description",u="description"),t.listArrayItems.push({_id:s._id,name:s.file_name,actions:"",icon:d,color:u})}),t.arrLength=t.listArrayItems.length,t.dataSource.data=t.listArrayItems,t.dataSource.paginator=t.paginator});return function(a){return i.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(A,{panelClass:["modal--wrapper"],width:"520px",data:{directory:b.uM,userId:this.userId}}).afterClosed().subscribe(n=>{n&&this.getDirectoryItems()})}addFolderModal(t){var n=this;this.dialog.open(R,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:"Update File",labelName:"File Name",updateValue:t.name}}).afterClosed().subscribe(a=>{a&&this.authService.apiRequest("post","admin/updateFile",{oldFileName:t.name,newFileName:a,itemId:t._id}).subscribe(function(){var c=(0,h.A)(function*(d){n.getDirectoryItems()});return function(d){return c.apply(this,arguments)}}())})}removeItem(t){var n=this;this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this document?"}}).afterClosed().subscribe(a=>{a&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:"file",removeItemId:t._id}).subscribe(function(){var c=(0,h.A)(function*(d){n.getDirectoryItems()});return function(d){return c.apply(this,arguments)}}())})}previewFile(t){window.open(`${window.location.origin}/${this.userType}/file-preview/`+t,"_blank")}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ),e.rXU(D.u),e.rXU(S.h))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-protocols"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:29,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),e.bIt("keyup",function(){return i.searchRecords()}),e.mxI("ngModelChange",function(s){return e.DH7(i.searchItem,s)||(i.searchItem=s),s}),e.k0s(),e.j41(7,"button",7),e.bIt("click",function(){return i.searchRecords()}),e.j41(8,"mat-icon",8),e.EFF(9,"search "),e.k0s()()()(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return i.addDocumentsModal()}),e.j41(12,"mat-icon",11),e.EFF(13," add_circle_outline "),e.k0s(),e.EFF(14," Add Documents "),e.k0s()()()(),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(19,16),e.DNE(20,bo,2,0,"th",17)(21,Fo,6,5,"td",18),e.bVm(),e.qex(22,19),e.DNE(23,Co,2,0,"th",20)(24,yo,11,0,"td",21),e.bVm(),e.DNE(25,ko,1,0,"tr",22)(26,So,1,0,"tr",23),e.k0s(),e.DNE(27,Do,5,0,"div",24),e.nrm(28,"mat-paginator",25),e.k0s()()()()()),2&n&&(e.R7$(6),e.R50("ngModel",i.searchItem),e.R7$(12),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",0==i.arrLength&&!i.loading),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,vo)))},dependencies:[g.bT,m.me,m.BC,m.vS,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{color:#31b7b7;flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}"]})}return o})();var wo=p(2765);const jo=()=>[5,10,20],Eo=()=>["/system-admin/manage-documents/detailed-documents"];function Ro(o,r){1&o&&(e.j41(0,"th",25),e.EFF(1," Name "),e.k0s())}function Po(o,r){if(1&o&&(e.j41(0,"td",26)(1,"div",27)(2,"mat-icon"),e.EFF(3),e.k0s(),e.j41(4,"p",28),e.EFF(5),e.k0s()()()),2&o){const t=r.$implicit;e.Y8G("routerLink",e.lJ4(6,Eo)),e.R7$(2),e.ZvI("me-3 ",t.color,""),e.R7$(),e.SpI(" ",t.icon,""),e.R7$(2),e.JRh(t.name)}}function Ao(o,r){1&o&&(e.j41(0,"th",29),e.EFF(1," Actions "),e.k0s())}function No(o,r){1&o&&(e.j41(0,"td",30)(1,"div",31),e.nrm(2,"mat-checkbox",32),e.k0s()())}function To(o,r){1&o&&e.nrm(0,"tr",33)}function Lo(o,r){1&o&&e.nrm(0,"tr",34)}const $o=[{name:"ACL\xa0Hamstring\xa0Graft\xa0Post\xa0Op\xa0Protocol",actions:"",icon:"description",color:"description"},{name:"ACL\xa0reconstrucion",actions:"",icon:"picture_as_pdf",color:"pdf"},{name:"APRIL\xa0WEINBERGER\xa0AND\xa0Y.\xa0COURCHESNE",icon:"photo",actions:"",color:"photo"},{name:"Acromioclavicular\xa0(AC)\xa0Joint\xa0Reconstruction",icon:"picture_as_pdf",actions:"",color:"pdf"},{name:"Anterior\xa0Capsule\xa0and\xa0Labral\xa0Repair (ACL Repair)",icon:"description",actions:"",color:"description"},{name:"Anterior\xa0Reconstruction,\xa0SLAP\xa0Repair",icon:"photo",actions:"",color:"photo"},{name:"Medial\xa0Patella\xa0Ligament\xa0Reconstruction",icon:"description",actions:"",color:"description"},{name:"BILLING\xa0-\xa0AMA\xa0vs\xa0CMS\xa0Minute\xa0Rules",actions:"",icon:"picture_as_pdf",color:"pdf"}];let Mo=(()=>{class o{constructor(t,n){this._liveAnnouncer=t,this.dialog=n,this.displayedColumns=["name","actions"],this.dataSource=new l.I6($o)}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-protocol-detailed-documents"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:28,vars:5,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,""],[1,"material-symbols-outlined","flex-shrink-0"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center"],[1,""],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"input",6),e.j41(7,"button",7)(8,"mat-icon",8),e.EFF(9,"search "),e.k0s()()()(),e.j41(10,"div",9)(11,"button",10)(12,"mat-icon",11),e.EFF(13," add_circle_outline "),e.k0s(),e.EFF(14," Add Document "),e.k0s()()()(),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"table",15),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(19,16),e.DNE(20,Ro,2,0,"th",17)(21,Po,6,7,"td",18),e.bVm(),e.qex(22,19),e.DNE(23,Ao,2,0,"th",20)(24,No,3,0,"td",21),e.bVm(),e.DNE(25,To,1,0,"tr",22)(26,Lo,1,0,"tr",23),e.k0s(),e.nrm(27,"mat-paginator",24),e.k0s()()()()()),2&n&&(e.R7$(18),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(4,jo)))},dependencies:[F.Wk,C.$z,wo.So,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#f45454}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#32bebe}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#5cc0f8}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}.document--wrapper[_ngcontent-%COMP%]     .mdc-label{margin-top:5px;color:#1f2f3e!important}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox .mdc-form-field .mdc-checkbox .mdc-checkbox__background{border-radius:50%;width:23px;height:23px}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox.mat-mdc-checkbox-checked .mdc-form-field .mdc-checkbox .mdc-checkbox__background{border-radius:50%}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox.mat-mdc-checkbox-checked .mdc-form-field .mdc-checkbox .mdc-checkbox__background .mdc-checkbox__checkmark{padding:5px}.document--wrapper[_ngcontent-%COMP%]     .mat-mdc-checkbox-ripple, .document--wrapper[_ngcontent-%COMP%]     .mdc-checkbox__ripple{top:5px!important;left:5px!important}"]})}return o})();const Uo=()=>[5,10,20];function Go(o,r){1&o&&(e.j41(0,"th",27),e.EFF(1," Name "),e.k0s())}function Vo(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",28),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.gotoDirectory(i._id,i.icon))}),e.j41(1,"div",29)(2,"mat-icon"),e.EFF(3),e.k0s(),e.j41(4,"p",30),e.EFF(5),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.ZvI("me-3 ",t.color,""),e.R7$(),e.SpI(" ",t.icon,""),e.R7$(2),e.JRh(t.name)}}function Bo(o,r){1&o&&(e.j41(0,"th",31),e.EFF(1," Actions "),e.k0s())}function Oo(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",35),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.previewFile(i._id))}),e.j41(1,"mat-icon",36),e.EFF(2,"visibility "),e.k0s()()}}function Xo(o,r){if(1&o){const t=e.RV6();e.j41(0,"td",32)(1,"div",33),e.DNE(2,Oo,3,0,"button",34),e.j41(3,"button",35),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.updateModal(i))}),e.j41(4,"mat-icon",36),e.EFF(5,"edit "),e.k0s()(),e.j41(6,"button",35),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.removeItem(i))}),e.j41(7,"mat-icon",37),e.EFF(8,"cancel"),e.k0s()()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.Y8G("ngIf","folder"!=t.icon)}}function Yo(o,r){1&o&&e.nrm(0,"tr",38)}function zo(o,r){1&o&&e.nrm(0,"tr",39)}function qo(o,r){1&o&&(e.j41(0,"div",40)(1,"div",41),e.nrm(2,"img",42),e.j41(3,"p",43),e.EFF(4,"No Records found"),e.k0s()()())}const Ho=[];let Jo=(()=>{class o{constructor(t,n,i,a,s){this._liveAnnouncer=t,this.dialog=n,this.authService=i,this.route=a,this.commonService=s,this.displayedColumns=["name","actions"],this.dataSource=new l.I6(Ho),this.loading=!1,this.arrLength=0,this.searchItem="",this.listArrayItems=[],this.userId="",this.userType="",this.pathValues=[],this.tempPathValues=[],this.dirId=this.route.snapshot.paramMap.get("id"),this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role").replace("_","-");var c=localStorage.getItem("pathValues");this.tempPathValues=c&&null!=c?JSON.parse(c):[],this.tempPathValues.forEach(d=>{this.pathValues.push(d)}),this.getDirectoryItems()}getDirectoryItems(){var t=this;this.loading=!0,this.commonService.showLoader();var n={directory:this.dirId,searchValue:this.searchItem.trim()};this.authService.apiRequest("post","admin/getDirectoryItems",n).subscribe(function(){var i=(0,h.A)(function*(a){t.commonService.hideLoader(),t.loading=!1,t.listArrayItems=[],a.data.directoryList.forEach(s=>{t.listArrayItems.push({_id:s._id,name:s.directory_name,actions:"",icon:"folder",color:"description"})}),a.data.fileList.forEach(s=>{var c=s.file_name.split(".").pop(),d="",u="";"pdf"==c?(d="picture_as_pdf",u="pdf"):"png"==c||"jpg"==c||"jpeg"==c?(d="photo",u="photo"):(d="description",u="description"),t.listArrayItems.push({_id:s._id,name:s.file_name,actions:"",icon:d,color:u})}),t.arrLength=t.listArrayItems.length,t.dataSource.data=t.listArrayItems,t.dataSource.paginator=t.paginator});return function(a){return i.apply(this,arguments)}}())}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}searchRecords(){this.getDirectoryItems()}addDocumentsModal(){this.dialog.open(A,{panelClass:["modal--wrapper"],width:"520px",data:{directory:this.dirId,userId:this.userId}}).afterClosed().subscribe(n=>{n&&this.getDirectoryItems()})}updateModal(t){var n=this,i="",a="";"folder"==t.icon?(i="Update Directory",a="File Name"):(i="Update File",a="Directory Name");var s=t.name.substring(t.name.lastIndexOf(".")+1),c=t.name.substring(0,t.name.lastIndexOf("."))||t.name;this.dialog.open(R,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"update",headerName:i,labelName:a,updateValue:c}}).afterClosed().subscribe(u=>{u&&("folder"==t.icon?this.authService.apiRequest("post","admin/updateDirectory",{directoryName:u,directoryId:t._id}).subscribe(function(){var N=(0,h.A)(function*(T){n.getDirectoryItems()});return function(T){return N.apply(this,arguments)}}()):this.authService.apiRequest("post","admin/updateFile",{oldFileName:t.name,newFileName:u+"."+s,itemId:t._id}).subscribe(function(){var N=(0,h.A)(function*(T){n.getDirectoryItems()});return function(T){return N.apply(this,arguments)}}()))})}addFolderModal(){var t=this;this.dialog.open(R,{panelClass:["custom-alert-container","modal--wrapper"],data:{type:"create",headerName:"Create Directory",labelName:"Folder Name",updateValue:""}}).afterClosed().subscribe(i=>{i&&this.authService.apiRequest("post","admin/createDirectory",{directoryName:i,directoryId:this.dirId,endUserId:this.userId}).subscribe(function(){var s=(0,h.A)(function*(c){t.getDirectoryItems()});return function(c){return s.apply(this,arguments)}}())})}removeItem(t){var n=this,i="",a="";"folder"==t.icon?(i="directory",a="directory"):(i="file",a="document"),this.dialog.open(w.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this "+a+"?"}}).afterClosed().subscribe(c=>{c&&this.authService.apiRequest("post","admin/removeDocument",{sourceType:i,removeItemId:t._id}).subscribe(function(){var u=(0,h.A)(function*(y){n.getDirectoryItems()});return function(y){return u.apply(this,arguments)}}())})}previewFile(t){window.open(`${window.location.origin}/${this.userType}/file-preview/`+t,"_blank")}gotoDirectory(t,n){this.dirId=t,"folder"==n&&(this.tempPathValues.push({link:"/document-details/"+t,name}),localStorage.setItem("pathValues",JSON.stringify(this.tempPathValues)),window.open(`${window.location.origin}/${this.userType}/manage-documents/system-documents/system-documents-detailed/`+t,"_self"))}removeElementsFromIndex(t,n){return n<0||n>=t.length||t.splice(n),t}backToDirectory(t){var n=this;return(0,h.A)(function*(){var i=n.pathValues.findIndex(a=>a.name===t.name);n.tempPathValues=yield n.removeElementsFromIndex(n.pathValues,i+1),localStorage.setItem("pathValues",JSON.stringify(n.tempPathValues)),window.open(`${window.location.origin}/${n.userType}`+t.link,"_self")})()}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(x.Ai),e.rXU(_.bZ),e.rXU(D.u),e.rXU(F.nX),e.rXU(S.h))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-system-documents-detailed"]],viewQuery:function(n,i){if(1&n&&(e.GBs(f.B4,5),e.GBs(v.iy,5)),2&n){let a;e.mGM(a=e.lsd())&&(i.sort=a.first),e.mGM(a=e.lsd())&&(i.paginator=a.first)}},decls:33,vars:7,consts:[[1,"col-12","document--wrapper"],[1,"card"],[1,"card-header","p-0"],[1,"col-12","d-flex","flex-row","flex-wrap","align-items-center","mb-2"],[1,"col-12","col-sm-6","col-lg-6","d-flex","mt-2"],[1,"form-group","mb-0","position-relative","w-100"],["type","text","placeholder","Search ",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-0"],[1,"col-12","col-sm-6","col-lg-6","d-flex","justify-content-end","mt-2"],["mat-raised-button","","color","primary",1,"me-2",3,"click"],[1,"material-symbols-outlined","flex-shrink-0"],["mat-raised-button","","color","primary",1,"",3,"click"],[1,"card-body","p-0"],[1,"row"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["class","cursor-pointer","mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found d-flex align-items-center justify-content-center w-100",4,"ngIf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell","",1,"cursor-pointer",3,"click"],[1,"d-flex","align-items-center"],[1,"font-14","clr--292D32"],["mat-header-cell",""],["mat-cell",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","","class","flex-shrink-0 min-width-unset search--fields",3,"click",4,"ngIf"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-danger"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","d-flex","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"input",6),e.bIt("keyup",function(){return i.searchRecords()}),e.mxI("ngModelChange",function(s){return e.DH7(i.searchItem,s)||(i.searchItem=s),s}),e.k0s(),e.j41(7,"button",7),e.bIt("click",function(){return i.searchRecords()}),e.j41(8,"mat-icon",8),e.EFF(9,"search "),e.k0s()()()(),e.j41(10,"div",9)(11,"button",10),e.bIt("click",function(){return i.addFolderModal()}),e.j41(12,"mat-icon",11),e.EFF(13," add_circle_outline "),e.k0s(),e.EFF(14," Add Folder "),e.k0s(),e.j41(15,"button",12),e.bIt("click",function(){return i.addDocumentsModal()}),e.j41(16,"mat-icon",11),e.EFF(17," add_circle_outline "),e.k0s(),e.EFF(18," Add Documents "),e.k0s()()()(),e.j41(19,"div",13)(20,"div",14)(21,"div",15)(22,"table",16),e.bIt("matSortChange",function(s){return i.announceSortChange(s)}),e.qex(23,17),e.DNE(24,Go,2,0,"th",18)(25,Vo,6,5,"td",19),e.bVm(),e.qex(26,20),e.DNE(27,Bo,2,0,"th",21)(28,Xo,9,1,"td",22),e.bVm(),e.DNE(29,Yo,1,0,"tr",23)(30,zo,1,0,"tr",24),e.k0s(),e.DNE(31,qo,5,0,"div",25),e.nrm(32,"mat-paginator",26),e.k0s()()()()()),2&n&&(e.R7$(6),e.R50("ngModel",i.searchItem),e.R7$(16),e.Y8G("dataSource",i.dataSource),e.R7$(7),e.Y8G("matHeaderRowDef",i.displayedColumns),e.R7$(),e.Y8G("matRowDefColumns",i.displayedColumns),e.R7$(),e.Y8G("ngIf",0==i.arrLength&&!i.loading),e.R7$(),e.Y8G("pageSizeOptions",e.lJ4(6,Uo)))},dependencies:[g.bT,m.me,m.BC,m.vS,C.$z,k.An,v.iy,f.B4,f.aE,l.Zl,l.tL,l.ji,l.cC,l.YV,l.iL,l.KS,l.$R,l.YZ,l.NB],styles:[".document--wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:none!important}.document--wrapper[_ngcontent-%COMP%]     table thead tr th{font-size:16px;font-weight:700;color:#1f2f3e}.document--wrapper[_ngcontent-%COMP%]     table thead tr th:last-child{width:10%}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td{padding:12px 10px!important}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .description{color:#31b7b7}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .pdf{color:#f45454}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .folder{color:#32bebe}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td .photo{color:#5cc0f8}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:first-child .mat-icon{flex-shrink:0}.document--wrapper[_ngcontent-%COMP%]     table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px;color:#bae9e9}"]})}return o})();var Qo=p(7126);const Zo=[{path:"dashboard",component:Lt},{path:"user-managment",children:[{path:"practice-admin",component:E},{path:"therapists",component:E},{path:"support-team",component:E},{path:"billing-team",component:E},{path:"admin-profile/:adminId",component:Tt}]},{path:"appointment-details/:appointmentId",component:Ut.R},{path:"patients",children:[{path:"",component:B.G},{path:"patient-details/:userId",component:$t.H},{path:"patient-profile/:userId",component:Mt.m}]},{path:"manage-profile",component:Oe.O},{path:"e-fax",component:ue},{path:"manage-practice",component:Ve},{path:"conversations",component:Gt.u},{path:"conversations-chat",component:Vt.S,data:{refreshComponent:!0}},{path:"notifications",component:Be.Y},{path:"manage-documents",component:Ot,children:[{path:"appointment-documents",component:ro},{path:"system-documents",component:go},{path:"system-documents/system-documents-detailed/:id",component:Jo},{path:"protocols",component:Io},{path:"protocols/detailed-documents",component:Mo}]},{path:"file-preview/:file",component:Qo.M}];let Wo=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[F.iI.forChild(Zo),F.iI]})}return o})();var Ko=p(1796);let en=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[g.MD,Wo,m.YN,m.X1,V.G,Ko.FdA]})}return o})()}}]);