"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[619],{3716:(Y,V,l)=>{l.d(V,{O:()=>c});var P=l(4523),D=l(4494),e=l(2806),E=l(9417),t=l(5802),o=l(9039),x=l(1792),w=l(446),a=l(4438),j=l(4006),f=l(3390),B=l(6992),O=l(758),$=l(177),U=l(8834),T=l(9213),G=l(3902),b=l(4710);const M=()=>["/support-team/dashboard"];function h(p,i){if(1&p){const n=a.RV6();a.j41(0,"mat-list-item",33),a.bIt("click",function(){a.eBV(n);const s=a.XpG(2);return a.Njj(s.removePhoto())}),a.EFF(1,"Remove Photo "),a.k0s()}}function R(p,i){if(1&p){const n=a.RV6();a.j41(0,"mat-list")(1,"mat-list-item",33),a.bIt("click",function(){a.eBV(n);const s=a.XpG();return a.Njj(s.changePhoto())}),a.EFF(2,"Change Photo "),a.k0s(),a.DNE(3,h,2,0,"mat-list-item",34),a.k0s()}if(2&p){const n=a.XpG();a.R7$(3),a.Y8G("ngIf",n.isDefaultImage)}}function F(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG();a.R7$(),a.SpI(" ",n.validationMessages.required("your First Name")," ")}}function N(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG();a.R7$(),a.SpI(" ",n.validationMessages.alphabeticChar("First Name")," ")}}function A(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG();a.R7$(),a.SpI(" ",n.validationMessages.required("your Last Name")," ")}}function y(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG();a.R7$(),a.SpI(" ",n.validationMessages.alphabeticChar("Last Name")," ")}}function S(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG(2);a.R7$(),a.SpI(" ",n.validationMessages.required("a valid phone number")," ")}}function L(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG(2);a.R7$(),a.SpI(" ",n.validationMessages.invalidPhoneNumber," ")}}function W(p,i){if(1&p){const n=a.RV6();a.j41(0,"div",22)(1,"div",23)(2,"label",24),a.EFF(3,"Phone "),a.j41(4,"span",25),a.EFF(5," * "),a.k0s()(),a.j41(6,"input",36),a.bIt("input",function(s){a.eBV(n);const m=a.XpG();return a.Njj(m.onPhoneInputChange(s))}),a.k0s(),a.DNE(7,S,2,1,"div",27)(8,L,2,1,"div",27),a.k0s()()}if(2&p){const n=a.XpG();a.R7$(6),a.Y8G("value",n.convertPhoneNumber),a.R7$(),a.Y8G("ngIf",n.updateProfileForm.controls.phoneNumber.touched&&n.updateProfileForm.controls.phoneNumber.hasError("required")),a.R7$(),a.Y8G("ngIf",n.updateProfileForm.controls.phoneNumber.touched&&n.updateProfileForm.controls.phoneNumber.hasError("pattern"))}}function X(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG(2);a.R7$(),a.SpI(" ",n.validationMessages.required("a valid NPI number")," ")}}function K(p,i){if(1&p&&(a.j41(0,"div",22)(1,"div",23)(2,"label",24),a.EFF(3,"NPI "),a.j41(4,"span",25),a.EFF(5," *"),a.k0s()(),a.nrm(6,"input",37),a.DNE(7,X,2,1,"div",27),a.k0s()()),2&p){const n=a.XpG();a.R7$(7),a.Y8G("ngIf",n.updateProfileForm.controls.NPI.touched&&(n.updateProfileForm.controls.NPI.hasError("required")||n.updateProfileForm.controls.NPI.hasError("pattern")))}}function u(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG(2);a.R7$(),a.SpI(" ",n.validationMessages.required("a valid SSN")," ")}}function I(p,i){if(1&p&&(a.j41(0,"div",22)(1,"div",23)(2,"label",24),a.EFF(3,"SSN "),a.j41(4,"span",25),a.EFF(5," *"),a.k0s()(),a.nrm(6,"input",38),a.DNE(7,u,2,1,"div",27),a.k0s()()),2&p){const n=a.XpG();a.R7$(7),a.Y8G("ngIf",n.updateProfileForm.controls.SSN.touched&&(n.updateProfileForm.controls.SSN.hasError("required")||n.updateProfileForm.controls.SSN.hasError("pattern")))}}function _(p,i){if(1&p&&(a.j41(0,"div",35),a.EFF(1),a.k0s()),2&p){const n=a.XpG(2);a.R7$(),a.SpI(" ",n.validationMessages.required("a valid Licence number")," ")}}function v(p,i){if(1&p&&(a.j41(0,"div",22)(1,"div",23)(2,"label",24),a.EFF(3,"Licence Number"),a.k0s(),a.nrm(4,"input",39),a.DNE(5,_,2,1,"div",27),a.k0s()()),2&p){const n=a.XpG();a.R7$(5),a.Y8G("ngIf",n.updateProfileForm.controls.licenceNumber.touched&&n.updateProfileForm.controls.licenceNumber.hasError("required"))}}let c=(()=>{class p{constructor(n,r,s,m,g){this.dialog=n,this.fb=r,this.commonService=s,this.authService=m,this.adminService=g,this.validationMessages=t.q,this.editOptions=!1,this.isTherapist=!1,this.convertPhoneNumber="",this.isDefaultImage=!0}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userType=this.authService.getLoggedInInfo("role"),this.profileImage=w.ns.awsS3Url+w.ns.userProfileFolderPath+this.authService.getLoggedInInfo("profileImage"),this.isDefaultImage="default.png"!=this.authService.getLoggedInInfo("profileImage"),this.initializeUpdateProfileForm(),this.getProfile(),"therapist"==this.userType&&(this.initializeTherapistFields(),this.isTherapist=!0)}initializeUpdateProfileForm(){this.updateProfileForm=this.fb.group({firstName:["",[E.k0.required,E.k0.pattern(o.y.alphabetic)]],lastName:["",[E.k0.required,E.k0.pattern(o.y.alphabetic)]],email:[{value:"",disabled:!0}]})}initializeTherapistFields(){this.updateProfileForm.addControl("phoneNumber",this.fb.control("",[E.k0.required,E.k0.pattern(o.y.usPhoneNumber)])),this.updateProfileForm.addControl("NPI",this.fb.control("",[E.k0.required,E.k0.pattern(o.y.onlyNumeric)])),this.updateProfileForm.addControl("SSN",this.fb.control("",[E.k0.required,E.k0.pattern(o.y.numericAndSpecialCharacter)])),this.updateProfileForm.addControl("licenceNumber",this.fb.control("",[]))}getProfile(){this.adminService.profile({query:{_id:this.userId},params:{firstName:1,lastName:1,email:1,phoneNumber:1,status:1,practiceLocation:1,NPI:1,SSN:1,licenceNumber:1}}).subscribe({next:r=>{r&&!r.error&&(this.updateProfileForm.controls.firstName.setValue(r.data?r.data.firstName:""),this.updateProfileForm.controls.lastName.setValue(r.data?r.data.lastName:""),this.updateProfileForm.controls.email.setValue(r.data?r.data.email:""),"therapist"==this.userType&&(this.updateProfileForm.controls.phoneNumber.setValue(r.data&&r.data.phoneNumber?r.data.phoneNumber:""),this.updateProfileForm.controls.NPI.setValue(r.data&&r.data.NPI?r.data.NPI:""),this.updateProfileForm.controls.SSN.setValue(r.data&&r.data.SSN?r.data.SSN:""),this.updateProfileForm.controls.licenceNumber.setValue(r.data&&r.data.licenceNumber?r.data.licenceNumber:"")))},error:r=>{r.error?.error&&this.commonService.openSnackBar(r.error?.message,"ERROR")}})}updateProfile(){this.updateProfileForm.valid&&(this.updateProfileForm.value.userId=this.userId,this.updateProfileForm.value.clickAction="update",this.adminService.updateProfile(this.updateProfileForm.value).subscribe({next:n=>{n&&!n.error&&(this.updateAdminInLocalStorage(n.data),this.commonService.openSnackBar(n.message,"SUCCESS"))},error:n=>{n.error?.error&&this.commonService.openSnackBar(n.error?.message,"ERROR")}}))}updateAdminInLocalStorage(n){let r=this.authService.getLoggedInInfo("all");r.firstName=n.firstName,r.lastName=n.lastName,localStorage.setItem("user",JSON.stringify(r)),window.location.reload()}changePhoto(){var n=this;return(0,P.A)(function*(){n.editOptions=!1,n.dialog.open(x.m,{width:"600px",disableClose:!0,data:{cropperFor:"Profile Picture"}}).afterClosed().subscribe(function(){var s=(0,P.A)(function*(m){if(n.commonService.showLoader(),!1!==m&&null!=m.image){let g={userId:n.authService.getLoggedInInfo("_id"),profileImage:m.image.base64};yield n.authService.apiRequest("post","admin/changeProfileImage",g).subscribe(function(){var C=(0,P.A)(function*(d){let k;n.commonService.hideLoader(),k=n.authService.getLoggedInInfo(),k.profileImage=n.authService.getLoggedInInfo("_id").toString()+".png",localStorage.setItem("user",JSON.stringify(k)),n.commonService.openSnackBar(d.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(d){return C.apply(this,arguments)}}())}else n.commonService.hideLoader()});return function(m){return s.apply(this,arguments)}}())})()}editProfile(){this.editOptions=!this.editOptions}removePhoto(){var n=this;this.editOptions=!1,this.dialog.open(D.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to remove this image?"}}).afterClosed().subscribe(function(){var s=(0,P.A)(function*(m){if(m){let g={userId:n.authService.getLoggedInInfo("_id")};yield n.authService.apiRequest("post","admin/deleteProfileImage",g).subscribe(function(){var C=(0,P.A)(function*(d){let k;k=n.authService.getLoggedInInfo(),k.profileImage=d.data,localStorage.setItem("user",JSON.stringify(k)),n.commonService.openSnackBar(d.message,"SUCCESS"),setTimeout(function(){location.reload()},3e3)});return function(d){return C.apply(this,arguments)}}())}});return function(m){return s.apply(this,arguments)}}())}changePassword(){var n=this;this.dialog.open(e.s,{disableClose:!0,panelClass:"change--password--modal",data:{userId:this.userId,userRole:this.userType}}).afterClosed().subscribe(function(){var s=(0,P.A)(function*(m){m&&n.authService.logout(n.userType)});return function(m){return s.apply(this,arguments)}}())}checkSpace(n,r){this.updateProfileForm.controls[n].setValue(this.commonService.capitalize(r.target.value.trim()))}onPhoneInputChange(n){this.convertPhoneNumber=this.commonService.formatPhoneNumber(n.target.value)}static#t=this.\u0275fac=function(r){return new(r||p)(a.rXU(j.bZ),a.rXU(E.ok),a.rXU(f.h),a.rXU(B.u),a.rXU(O.z))};static#e=this.\u0275cmp=a.VBU({type:p,selectors:[["app-manage-profile"]],decls:62,vars:17,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center",3,"routerLink"],["mat-stroked-button","","color","primary",1,"me-3","back--btn"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[4,"ngIf"],[1,"profile--round","position-relative"],["alt","Profile Picture",1,"img-fluid","user--img",3,"src"],["mat-raised-button","","color","primary",1,"edit--btn",3,"click"],[1,"d-flex","flex-column","w-100","body--sec"],["mat-stroked-button","","color","primary",1,"w-100","mb-3",3,"click"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"col-12","d-flex","align-items-center"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-12","col-lg-6"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","First name","formControlName","firstName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Last name","formControlName","lastName","maxlength","35",1,"form-control","form-control-md",3,"blur"],["type","text","placeholder","Email ","formControlName","email",1,"form-control","form-control-md"],["class","col-12 col-lg-6",4,"ngIf"],[1,"col-12","my-2","d-flex","justify-content-end"],["mat-raised-button","","color","primary",3,"click","disabled"],[3,"click"],[3,"click",4,"ngIf"],[1,"text","text-danger","mt-1"],["type","text","placeholder","Phone ","formControlName","phoneNumber","maxlength","15",1,"form-control","form-control-md",3,"input","value"],["type","text","placeholder","NPI ","formControlName","NPI","maxlength","10",1,"form-control","form-control-md"],["type","text","placeholder","SSN ","formControlName","SSN","maxlength","9",1,"form-control","form-control-md"],["type","text","placeholder","Licence Number ","formControlName","licenceNumber","maxlength","15",1,"form-control","form-control-md"]],template:function(r,s){1&r&&(a.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"mat-icon",5),a.EFF(6," keyboard_backspace "),a.k0s()(),a.j41(7,"h3",6),a.EFF(8,"Manage Profile"),a.k0s()()(),a.j41(9,"div",7)(10,"div",8)(11,"div",9),a.DNE(12,R,4,1,"mat-list",10),a.k0s(),a.j41(13,"div",11),a.nrm(14,"img",12),a.j41(15,"button",13),a.bIt("click",function(){return s.editProfile()}),a.j41(16,"mat-icon",5),a.EFF(17," edit "),a.k0s()()(),a.j41(18,"div",14)(19,"button",15),a.bIt("click",function(){return s.changePassword()}),a.EFF(20,"Change Password"),a.k0s()()(),a.j41(21,"div",16)(22,"div",17)(23,"div",2)(24,"div",18)(25,"h3",6),a.EFF(26,"Basic Information"),a.k0s()()(),a.j41(27,"div",19)(28,"div",20)(29,"form",21)(30,"div",22)(31,"div",23)(32,"label",24),a.EFF(33,"First Name "),a.j41(34,"span",25),a.EFF(35," * "),a.k0s()(),a.j41(36,"input",26),a.bIt("blur",function(g){return s.checkSpace("firstName",g)}),a.k0s(),a.DNE(37,F,2,1,"div",27)(38,N,2,1,"div",27),a.k0s()(),a.j41(39,"div",22)(40,"div",23)(41,"label",24),a.EFF(42,"Last Name"),a.j41(43,"span",25),a.EFF(44," * "),a.k0s()(),a.j41(45,"input",28),a.bIt("blur",function(g){return s.checkSpace("lastName",g)}),a.k0s(),a.DNE(46,A,2,1,"div",27)(47,y,2,1,"div",27),a.k0s()(),a.j41(48,"div")(49,"div",23)(50,"label",24),a.EFF(51,"Email "),a.j41(52,"span",25),a.EFF(53," * "),a.k0s()(),a.nrm(54,"input",29),a.k0s()(),a.DNE(55,W,9,3,"div",30)(56,K,8,1,"div",30)(57,I,8,1,"div",30)(58,v,6,1,"div",30),a.j41(59,"div",31)(60,"button",32),a.bIt("click",function(){return s.updateProfile()}),a.EFF(61,"Save"),a.k0s()()()()()()()()()()),2&r&&(a.R7$(3),a.Y8G("routerLink",a.lJ4(16,M)),a.R7$(9),a.Y8G("ngIf",s.editOptions),a.R7$(2),a.FS9("src",s.profileImage,a.B4B),a.R7$(15),a.Y8G("formGroup",s.updateProfileForm),a.R7$(8),a.Y8G("ngIf",s.updateProfileForm.controls.firstName.touched&&s.updateProfileForm.controls.firstName.hasError("required")),a.R7$(),a.Y8G("ngIf",s.updateProfileForm.controls.firstName.touched&&s.updateProfileForm.controls.firstName.hasError("pattern")),a.R7$(8),a.Y8G("ngIf",s.updateProfileForm.controls.lastName.touched&&s.updateProfileForm.controls.lastName.hasError("required")),a.R7$(),a.Y8G("ngIf",s.updateProfileForm.controls.lastName.touched&&s.updateProfileForm.controls.lastName.hasError("pattern")),a.R7$(),a.ZvI("col-12 ",s.isTherapist?"col-lg-6":"",""),a.R7$(7),a.Y8G("ngIf",s.isTherapist),a.R7$(),a.Y8G("ngIf",s.isTherapist),a.R7$(),a.Y8G("ngIf",s.isTherapist),a.R7$(),a.Y8G("ngIf",s.isTherapist),a.R7$(2),a.Y8G("disabled",!s.updateProfileForm.valid))},dependencies:[$.bT,E.qT,E.me,E.BC,E.cb,E.tU,U.$z,T.An,G.jt,G.YE,b.Wk,E.j4,E.JD]})}return p})()},9498:(Y,V,l)=>{l.d(V,{R:()=>v});var P=l(4523),D=l(4494),e=l(4438),E=l(4006),t=l(8834),o=l(9213);let x=(()=>{class c{constructor(i){this.dialog=i}chooseTherapistAlert(){this.dialog.open(D.C,{panelClass:"custom-alert-container",data:{warningNote:"Kindly choose a therapist prior to confirming the appointment request."}})}static#t=this.\u0275fac=function(n){return new(n||c)(e.rXU(E.bZ))};static#e=this.\u0275cmp=e.VBU({type:c,selectors:[["app-system-followup-modal"]],decls:44,vars:0,consts:[[1,"container-fluid","sfh--wrapper"],[1,"col-12"],[1,"clr--1F2F3E","font-18","mb-4","fw-600"],[1,"d-flex","align-items-center","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"m-0","clr--1F2F3E","font-16","fw-500"],[1,"col-12","d-flex","align-items-center","justify-content-center","mt-4"],["mat-raised-button","","color","primary","mat-dialog-close","",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"System Followup History"),e.k0s()(),e.j41(4,"div",1)(5,"div",3)(6,"div",4)(7,"mat-icon",5),e.EFF(8,"mail"),e.k0s()(),e.j41(9,"h3",6),e.EFF(10,"Sat, Nov 10, 2023 10:00 am"),e.k0s()(),e.j41(11,"div",3)(12,"div",4)(13,"mat-icon",5),e.EFF(14,"phone_iphone"),e.k0s()(),e.j41(15,"h3",6),e.EFF(16,"Fri, Nov 09, 2023 10:30 am"),e.k0s()(),e.j41(17,"div",3)(18,"div",4)(19,"mat-icon",5),e.EFF(20,"mail"),e.k0s()(),e.j41(21,"h3",6),e.EFF(22,"Sat, Nov 10, 2023 10:00 am"),e.k0s()(),e.j41(23,"div",3)(24,"div",4)(25,"mat-icon",5),e.EFF(26,"phone_iphone"),e.k0s()(),e.j41(27,"h3",6),e.EFF(28,"Fri, Nov 09, 2023 10:30 am"),e.k0s()(),e.j41(29,"div",3)(30,"div",4)(31,"mat-icon",5),e.EFF(32,"mail"),e.k0s()(),e.j41(33,"h3",6),e.EFF(34,"Sat, Nov 10, 2023 10:00 am"),e.k0s()(),e.j41(35,"div",3)(36,"div",4)(37,"mat-icon",5),e.EFF(38,"phone_iphone"),e.k0s()(),e.j41(39,"h3",6),e.EFF(40,"Fri, Nov 09, 2023 10:30 am"),e.k0s()()(),e.j41(41,"div",7)(42,"button",8),e.bIt("click",function(){return r.chooseTherapistAlert()}),e.EFF(43,"Close"),e.k0s()()())},dependencies:[t.$z,E.tx,o.An],styles:[".sfh--wrapper[_ngcontent-%COMP%]{padding:30px 20px}.sfh--wrapper[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}"]})}return c})();var w=l(7142),a=l(8920),j=l(7278),f=l(9417),B=l(6354),O=l(9172),$=l(5802),U=l(7664),T=l(4710),G=l(6992),b=l(3390),M=l(177),h=l(850),R=l(6600),F=l(2765),N=l(9631);const A=(c,p)=>[c,"intake-form","step-1",p];function y(c,p){1&c&&(e.j41(0,"mat-option",58),e.EFF(1," Select The Therapist "),e.k0s())}function S(c,p){if(1&c&&(e.j41(0,"mat-option",59),e.EFF(1),e.k0s()),2&c){const i=p.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i.name," ")}}function L(c,p){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const i=e.XpG(3);e.R7$(),e.SpI(" ",i.validationMessages.requiredDropdown("Assign Therapist")," ")}}function W(c,p){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const i=e.XpG(3);e.R7$(),e.SpI(" ",i.validationMessages.requiredDropdown("assign therapist from the list")," ")}}function X(c,p){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const i=e.XpG(3);e.R7$(),e.SpI(" ",i.validationMessages.required("Case Name")," ")}}function K(c,p){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const i=e.XpG(3);e.R7$(),e.SpI(" ",i.validationMessages.required("Copay Amount")," ")}}function u(c,p){if(1&c&&(e.j41(0,"div",60),e.EFF(1),e.k0s()),2&c){const i=e.XpG(3);e.R7$(),e.SpI(" ",i.validationMessages.required("High Deductibles")," ")}}function I(c,p){if(1&c){const i=e.RV6();e.j41(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",32)(5,"div",31)(6,"div",34)(7,"div",35)(8,"mat-icon",36),e.EFF(9,"location_on"),e.k0s()(),e.j41(10,"div",37)(11,"h3",38),e.EFF(12,"Practice Location"),e.k0s(),e.j41(13,"p",39),e.EFF(14),e.k0s()()()(),e.j41(15,"div",31)(16,"div",34)(17,"div",35)(18,"mat-icon",36),e.EFF(19,"call"),e.k0s()(),e.j41(20,"div",37)(21,"h3",38),e.EFF(22,"Appointment #"),e.k0s(),e.j41(23,"p",39),e.EFF(24),e.k0s()()()(),e.j41(25,"div",31)(26,"div",34)(27,"div",35)(28,"mat-icon",36),e.EFF(29,"calendar_today"),e.k0s()(),e.j41(30,"div",40)(31,"div",41)(32,"h3",38),e.EFF(33,"Appointment Date"),e.k0s(),e.j41(34,"p",39),e.EFF(35),e.nI1(36,"date"),e.k0s()(),e.j41(37,"button",42),e.bIt("click",function(){e.eBV(i);const r=e.XpG(2);return e.Njj(r.rescheduleModal(r.appointmentData._id))}),e.j41(38,"mat-icon",43),e.EFF(39," replay "),e.k0s(),e.EFF(40," Reschedule "),e.k0s()()()(),e.j41(41,"div",31)(42,"div",34)(43,"div",35)(44,"mat-icon",36),e.EFF(45,"published_with_changes"),e.k0s()(),e.j41(46,"div",37)(47,"h3",38),e.EFF(48,"Appointment Status"),e.k0s(),e.j41(49,"p"),e.EFF(50),e.k0s()()()(),e.j41(51,"div",31)(52,"div",34)(53,"div",35)(54,"mat-icon",36),e.EFF(55,"paid"),e.k0s()(),e.j41(56,"div",40)(57,"div",41)(58,"h3",38),e.EFF(59,"Payment Mode"),e.k0s(),e.j41(60,"p",39),e.EFF(61,"Insurance/Self Pay"),e.k0s()(),e.j41(62,"button",44)(63,"mat-icon",45),e.EFF(64," visibility "),e.k0s(),e.EFF(65," View Insurance "),e.k0s()()()()()(),e.j41(66,"div",33)(67,"div",32)(68,"div",31)(69,"div",46)(70,"label",47),e.EFF(71,"Assign Therapist "),e.j41(72,"span",48),e.EFF(73," * "),e.k0s()(),e.nrm(74,"input",49),e.j41(75,"mat-autocomplete",50,0),e.DNE(77,y,2,0,"mat-option",51)(78,S,2,2,"mat-option",52),e.nI1(79,"async"),e.k0s(),e.DNE(80,L,2,1,"div",53)(81,W,2,1,"div",53),e.k0s()(),e.j41(82,"div",31)(83,"div",46)(84,"label",47),e.EFF(85,"Case Name"),e.k0s(),e.j41(86,"input",54),e.bIt("blur",function(r){e.eBV(i);const s=e.XpG(2);return e.Njj(s.checkSpace("caseName",r))}),e.k0s(),e.DNE(87,X,2,1,"div",53),e.k0s()(),e.j41(88,"div",31)(89,"div",46)(90,"label",47),e.EFF(91,"Copay Amount"),e.k0s(),e.j41(92,"input",55),e.bIt("blur",function(r){e.eBV(i);const s=e.XpG(2);return e.Njj(s.checkSpace("coPayAmount",r))}),e.k0s(),e.DNE(93,K,2,1,"div",53),e.k0s()(),e.j41(94,"div",31)(95,"div",46)(96,"label",47),e.EFF(97,"High Deductibles"),e.k0s(),e.j41(98,"input",56),e.bIt("blur",function(r){e.eBV(i);const s=e.XpG(2);return e.Njj(s.checkSpace("highDeductibles",r))}),e.k0s(),e.DNE(99,u,2,1,"div",53),e.k0s(),e.j41(100,"mat-checkbox",57),e.bIt("change",function(r){e.eBV(i);const s=e.XpG(2);return e.Njj(s.patientCheckIn(r,s.appointmentData))}),e.mxI("ngModelChange",function(r){e.eBV(i);const s=e.XpG(2);return e.DH7(s.appointmentData.checkIn,r)||(s.appointmentData.checkIn=r),e.Njj(r)}),e.EFF(101,"Patient Checked-In"),e.k0s()()()()()()()}if(2&c){const i=e.sdS(76),n=e.XpG(2);e.R7$(14),e.JRh(n.appointmentData.practiceLocation),e.R7$(10),e.JRh(n.appointmentData.appointmentId?n.appointmentData.appointmentId:""),e.R7$(11),e.JRh(e.i5U(36,17,n.appointmentData.appointmentDate,"mediumDate")),e.R7$(14),e.ZvI("mb-0 font-16 fw-400 status ",n.statusFlag,""),e.R7$(),e.JRh(n.appointmentData.status),e.R7$(24),e.Y8G("matAutocomplete",i),e.R7$(),e.Y8G("displayWith",n.getValue),e.R7$(2),e.Y8G("ngIf",!n.appoitmentForm.controls.therapistId.value),e.R7$(),e.Y8G("ngForOf",e.bMT(79,20,n.therapistList)),e.R7$(2),e.Y8G("ngIf",n.appoitmentForm.controls.therapistId.touched&&n.appoitmentForm.controls.therapistId.hasError("required")&&n.appoitmentForm.controls.therapistId.invalid),e.R7$(),e.Y8G("ngIf",n.appoitmentForm.controls.therapistId.touched&&n.appoitmentForm.controls.therapistId.hasError("incorrect")&&n.appoitmentForm.controls.therapistId.invalid),e.R7$(6),e.Y8G("ngIf",n.appoitmentForm.controls.caseName.touched&&(n.appoitmentForm.controls.caseName.hasError("required")||n.appoitmentForm.controls.caseName.invalid)),e.R7$(6),e.Y8G("ngIf",n.appoitmentForm.controls.coPayAmount.touched&&(n.appoitmentForm.controls.coPayAmount.hasError("required")||n.appoitmentForm.controls.coPayAmount.invalid)),e.R7$(6),e.Y8G("ngIf",n.appoitmentForm.controls.highDeductibles.touched&&(n.appoitmentForm.controls.highDeductibles.hasError("required")||n.appoitmentForm.controls.highDeductibles.invalid)),e.R7$(),e.R50("ngModel",n.appointmentData.checkIn)}}function _(c,p){if(1&c){const i=e.RV6();e.j41(0,"div",13)(1,"div",14),e.nrm(2,"div",15),e.j41(3,"div",16)(4,"div",17)(5,"span",18),e.EFF(6),e.k0s()()(),e.j41(7,"div",19)(8,"h3",20),e.EFF(9),e.k0s(),e.j41(10,"div",21)(11,"mat-icon",22),e.EFF(12,"mail "),e.k0s(),e.j41(13,"p",23),e.EFF(14),e.k0s()(),e.j41(15,"div",21)(16,"mat-icon",22),e.EFF(17,"call "),e.k0s(),e.j41(18,"p",23),e.EFF(19),e.k0s()(),e.j41(20,"button",24),e.bIt("click",function(){e.eBV(i);const r=e.XpG();return e.Njj(r.navigateTopatientDetails(r.appointmentData.patientId._id))}),e.EFF(21," View Patient Profile "),e.k0s(),e.j41(22,"button",24),e.bIt("click",function(){e.eBV(i);const r=e.XpG();return e.Njj(r.systemFollowup())}),e.EFF(23," Appointment Reminders "),e.k0s()()(),e.j41(24,"div",25)(25,"div",26)(26,"div",4)(27,"div",27)(28,"h3",8),e.EFF(29,"Basic Information"),e.k0s(),e.j41(30,"button",28),e.EFF(31," View Intake Form "),e.k0s()()(),e.DNE(32,I,102,22,"div",29),e.k0s()()()}if(2&c){const i=e.XpG();e.R7$(6),e.JRh(i.initialName),e.R7$(3),e.Lme("",i.appointmentData.patientId.firstName?i.appointmentData.patientId.firstName:""," ",i.appointmentData.patientId.lastName?i.appointmentData.patientId.lastName:"",""),e.R7$(5),e.JRh(i.appointmentData.patientId.email),e.R7$(5),e.SpI("+1 ",i.appointmentData.patientId.phoneNumber,""),e.R7$(11),e.Y8G("routerLink",e.l_i(7,A,i.activeUserRoute,i.appointmentId)),e.R7$(2),e.Y8G("ngIf",i.appointmentData)}}let v=(()=>{class c{constructor(i,n,r,s,m,g,C){this.dialog=i,this.fb=n,this.navigationService=r,this.router=s,this.route=m,this.authService=g,this.commonService=C,this.appointmentData=[],this.appointment_flag=!1,this.initialName="",this.assign_therapist="",this.orderBy={updatedAt:-1},this.options=[],this.validationMessages=$.q,this.activeUserRoute="/"+this.commonService.getLoggedInRoute()+"/",this.route.params.subscribe(d=>{this.appointmentId=d.appointmentId})}ngOnInit(){this.userId=this.authService.getLoggedInInfo("_id"),this.userRole=this.authService.getLoggedInInfo("role"),this.appoitmentForm=this.fb.group({therapistId:["",[f.k0.required,f.k0.minLength(1),f.k0.maxLength(35)]],caseName:["",[f.k0.pattern("^[ A-Za-z ]*$"),f.k0.required,f.k0.minLength(1),f.k0.maxLength(35)]],coPayAmount:["",[f.k0.required,f.k0.minLength(1),f.k0.maxLength(35)]],highDeductibles:["",[f.k0.required,f.k0.minLength(1),f.k0.maxLength(35)]]}),this.getAppointmentDetails(),this.getTherapistList()}getValue(i){return console.log("slected user>>>",i),i&&i.name?i.name:""}_filter(i){const n=i.toLowerCase();return this.options.filter(r=>r.name.toLowerCase().includes(n))}checkthevalue(i){let n="";return i&&i.name&&(n=i.name),n}getTherapistList(){var i=this;return(0,P.A)(function*(){let n={query:{role:"therapist",status:"Active"},fields:{_id:1,firstName:1,lastName:1},order:i.orderBy};yield i.authService.apiRequest("post","admin/getTherapistList",n).subscribe(function(){var r=(0,P.A)(function*(s){i.commonService.hideLoader(),s.data&&s.data.therapistData&&(i.options=s.data.therapistData,i.therapistList=i.appoitmentForm.controls.therapistId.valueChanges.pipe((0,O.Z)(""),(0,B.T)(m=>i.checkthevalue(m)),(0,B.T)(m=>m?i._filter(m):i.options.slice())))});return function(s){return r.apply(this,arguments)}}())})()}getAppointmentDetails(){var i=this;return(0,P.A)(function*(){if(i.appointmentId){i.commonService.showLoader();let n={query:{_id:i.appointmentId},fields:{},patientFields:{_id:1,firstName:1,lastName:1,profileImage:1},therapistFields:{_id:1,firstName:1,lastName:1,profileImage:1}};yield i.authService.apiRequest("post","appointment/getAppointmentDetails",n).subscribe(function(){var r=(0,P.A)(function*(s){i.commonService.hideLoader(),s.data&&s.data.appointmentData&&(i.appointmentData=s.data.appointmentData,i.statusFlag=i.appointmentData.status.charAt(0).toLowerCase()+i.appointmentData.status.slice(1),i.appointmentData.patientId.firstName&&i.appointmentData.patientId.lastName&&(i.initialName=i.appointmentData.patientId.firstName.charAt(0)+i.appointmentData.patientId.lastName.charAt(0)),i.appointmentData.therapistId&&i.appointmentData.therapistId.firstName&&(i.assign_therapist=i.appointmentData.therapistId.firstName+" "+i.appointmentData.therapistId.lastName,i.appoitmentForm.controls.therapistId.setValue({id:i.appointmentData.therapistId,name:i.assign_therapist})),i.appoitmentForm.controls.caseName.setValue(i.appointmentData.caseName?i.appointmentData.caseName:""),i.appoitmentForm.controls.highDeductibles.setValue(i.appointmentData.highDeductibles?i.appointmentData.highDeductibles:""),i.appoitmentForm.controls.coPayAmount.setValue(i.appointmentData.coPayAmount?i.appointmentData.coPayAmount:""),i.appointment_flag=!0)});return function(s){return r.apply(this,arguments)}}())}})()}formSubmit(i=null){var n=this;return(0,P.A)(function*(){if(!n.appoitmentForm.invalid)return i.therapistId.id?(n.assign_therapist=i.therapistId.name,void n.acceptAppointment(i)):(n.appoitmentForm.controls.therapistId.setErrors({incorrect:!0}),n.appoitmentForm.controls.therapistId.markAsTouched(),void console.log("appoitmentForm >>>>",n.appoitmentForm.controls));n.appoitmentForm.markAllAsTouched()})()}patientCheckIn(i,n){var r=this;return(0,P.A)(function*(){if(null!=i.source._checked){let s={query:{_id:n._id},updateInfo:{checkIn:i.source._checked}};yield r.authService.apiRequest("post","appointment/updatePatientCheckIn",s).subscribe(function(){var m=(0,P.A)(function*(g){});return function(g){return m.apply(this,arguments)}}())}})()}getPreviousPageLink(){return this.navigationService.getPreviousUrl()?this.navigationService.getPreviousUrl():this.activeUserRoute+"/dashboard/"}systemFollowup(){this.dialog.open(x,{panelClass:"custom-alert-container"})}writeComment(i){this.dialog.open(w.b,{disableClose:!0,panelClass:"custom-alert-container",data:{appointmentId:i,userRole:this.userRole,userId:this.userId}}).afterClosed().subscribe(r=>{r&&!r.error&&(this.getAppointmentDetails(),this.commonService.openSnackBar(r.message,"SUCCESS"))})}rescheduleModal(i){this.dialog.open(a.e,{disableClose:!0,panelClass:["custom-alert-container","rechedule--wrapper"],data:{appointmentId:i,userRole:this.userRole,userId:this.userId}}).afterClosed().subscribe(r=>{r&&!r.error&&(this.getAppointmentDetails(),this.commonService.openSnackBar(r.message,"SUCCESS"))})}successModal(){this.dialog.open(j.c,{panelClass:"custom-alert-container",data:{successNote:"Kindly choose a therapist prior to confirming the appointment request."}})}acceptAppointment(i){var n=this;return(0,P.A)(function*(){if(n.appointmentId){let r={query:{_id:n.appointmentId},userId:n.userId,userRole:n.userRole,data:i};yield n.authService.apiRequest("post","appointment/acceptAppointment",r).subscribe(function(){var s=(0,P.A)(function*(m){n.commonService.hideLoader(),m.error?n.commonService.openSnackBar(m.message,"ERROR"):(n.commonService.openSnackBar(m.message,"SUCCESS"),n.getAppointmentDetails(),n.successModal())});return function(m){return s.apply(this,arguments)}}())}})()}checkSpace(i,n){this.appoitmentForm.controls[i].setValue(this.commonService.capitalize(n.target.value.trim()))}navigateTopatientDetails(i){this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-profile/",i])}static#t=this.\u0275fac=function(n){return new(n||c)(e.rXU(E.bZ),e.rXU(f.ok),e.rXU(U.o),e.rXU(T.Ix),e.rXU(T.nX),e.rXU(G.u),e.rXU(b.h))};static#e=this.\u0275cmp=e.VBU({type:c,selectors:[["app-appointment-details"]],decls:16,vars:7,consts:[["auto","matAutocomplete"],[1,"col-12","app--details--wrapper","profile--right--wrapper"],[1,"card"],[3,"ngSubmit","formGroup"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],["class","card-body d-flex flex-column flex-sm-row",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","w-100","footer--btns"],["mat-raised-button","","color","green--btn","type","submit",1,"m-1",3,"disabled"],["mat-raised-button","","color","warn",1,"m-1",3,"click","disabled"],[1,"card-body","d-flex","flex-column","flex-sm-row"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[1,"profile--round","position-relative"],[1,"user--name","d-flex","align-items-center","justify-content-center"],[1,"text-primary","fw-700","text-uppercase"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100","body--sec"],[1,"font-18","fw-700"],[1,"d-flex","align-items-center","user--email"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"my-2","font-15"],["mat-stroked-button","","color","primary",1,"mp--btn",3,"click"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"col-12","d-flex","align-items-center","align-items-sm-start","flex-sm-column","flex-lg-row","justify-content-between"],["mat-raised-button","","color","primary",3,"routerLink"],["class","card-body mt-4",4,"ngIf"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row"],[1,"col-12","col-xl-6","col-md-12"],[1,"d-flex","align-items-start","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"d-flex","flex-column"],[1,"m-0","clr--1F2F3E","font-16","fw-700"],[1,"mb-0","clr--1F2F3E","font-16","fw-400"],[1,"d-flex","flex-column","flex-sm-column","flex-lg-row"],[1,"d-flex","flex-column","me-3"],["mat-stroked-button","","color","primary",1,"flex-shrink-0",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","me-1"],["mat-stroked-button","","color","primary",1,"flex-shrink-0"],[1,"material-symbols-outlined","flex-shrink-0","me-1","ms-1"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","matInput","","formControlName","therapistId",1,"form-control","form-control-md",3,"matAutocomplete"],[3,"displayWith"],["disabled","",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Search Case Name","formControlName","caseName",1,"form-control","form-control-md",3,"blur"],["type","number","formControlName","coPayAmount","placeholder","$",1,"form-control","form-control-md",3,"blur"],["type","number","formControlName","highDeductibles","placeholder","$",1,"form-control","form-control-md",3,"blur"],[1,"",3,"change","ngModelChange","ngModel"],["disabled","",3,"value"],[3,"value"],[1,"text","text-danger","mt-1"]],template:function(n,r){1&n&&(e.j41(0,"div",1)(1,"div",2)(2,"form",3),e.bIt("ngSubmit",function(){return r.formSubmit(r.appoitmentForm.value)}),e.j41(3,"div",4)(4,"div",5)(5,"button",6)(6,"mat-icon",7),e.EFF(7," keyboard_backspace "),e.k0s()(),e.j41(8,"h3",8),e.EFF(9,"Appointment Details"),e.k0s()()(),e.DNE(10,_,33,10,"div",9),e.j41(11,"div",10)(12,"button",11),e.EFF(13),e.k0s(),e.j41(14,"button",12),e.bIt("click",function(){return r.writeComment(r.appointmentData._id)}),e.EFF(15),e.k0s()()()()()),2&n&&(e.R7$(2),e.Y8G("formGroup",r.appoitmentForm),e.R7$(3),e.Y8G("routerLink",r.getPreviousPageLink()),e.R7$(5),e.Y8G("ngIf",r.appointment_flag),e.R7$(2),e.Y8G("disabled","Accepted"==r.appointmentData.status||"Cancelled"==r.appointmentData.status),e.R7$(),e.SpI(" ","Accepted"==r.appointmentData.status?"Accepted":"Accept Appointment"," "),e.R7$(),e.Y8G("disabled","Cancelled"==r.appointmentData.status||"Accepted"==r.appointmentData.status),e.R7$(),e.SpI(" ","Cancelled"==r.appointmentData.status?"Cancelled":"Cancel Appointment"," "))},dependencies:[M.Sq,M.bT,f.qT,f.me,f.Q0,f.BC,f.cb,f.vS,h.$3,R.wT,h.pN,t.$z,F.So,o.An,N.fg,T.Wk,f.j4,f.JD,M.Jj,M.vh],styles:[".profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 38px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 5px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px;margin-right:5px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .mp--btn[_ngcontent-%COMP%]{min-width:184px;margin-top:24px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]{border-top:1px solid rgba(49,184,184,.3019607843);margin-top:25px;padding-top:25px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]{overflow:auto}.profile--right--wrapper[_ngcontent-%COMP%]   .medical--edu--video[_ngcontent-%COMP%]   .v--outer[_ngcontent-%COMP%]   .v--box[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;overflow:hidden;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:fixed;bottom:15px;z-index:99}@media only screen and (max-width: 599px){.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:relative;flex-direction:column}}@media screen and (orientation: landscape) and (max-width: 850px){.profile--right--wrapper[_ngcontent-%COMP%]   .footer--btns[_ngcontent-%COMP%]{position:relative;flex-direction:column}}"]})}return c})()},7785:(Y,V,l)=>{l.d(V,{H:()=>p});var P=l(4523),D=l(9159),e=l(446),E=l(5802),t=l(4438),o=l(4006),x=l(6992),w=l(3390),a=l(4710),j=l(177),f=l(9417),B=l(8834),O=l(5084),$=l(2102),U=l(9213),T=l(9631),G=l(6695),b=l(2042);const M=(i,n)=>["/",i,"patients","patient-profile",n],h=(i,n)=>["/",i,"appointment-details",n];function R(i,n){if(1&i&&(t.j41(0,"option",43),t.EFF(1),t.k0s()),2&i){const r=n.$implicit;t.FS9("value",r),t.R7$(),t.SpI("",r," ")}}function F(i,n){if(1&i&&(t.j41(0,"option",43),t.EFF(1),t.k0s()),2&i){const r=n.$implicit;t.FS9("value",r),t.R7$(),t.SpI("",r," ")}}function N(i,n){1&i&&(t.j41(0,"th",44),t.EFF(1," Appointment # "),t.k0s())}function A(i,n){if(1&i&&(t.j41(0,"p",51)(1,"span",52),t.EFF(2,"Therapist"),t.k0s(),t.EFF(3),t.k0s()),2&i){const r=t.XpG().$implicit;t.R7$(3),t.SpI(" ",r.info.fullName," ")}}function y(i,n){if(1&i&&(t.j41(0,"td",45)(1,"div",46)(2,"div",47),t.nrm(3,"img",48),t.k0s(),t.j41(4,"div")(5,"p",49),t.EFF(6),t.k0s(),t.DNE(7,A,4,1,"p",50),t.j41(8,"p",51)(9,"span",52),t.EFF(10,"Appointment #"),t.k0s(),t.EFF(11),t.k0s(),t.j41(12,"p",51)(13,"span",52),t.EFF(14,"Case Name"),t.k0s(),t.EFF(15),t.k0s()()()()),2&i){const r=n.$implicit;t.R7$(3),t.FS9("src",r.info.profileImage,t.B4B),t.R7$(3),t.SpI(" ",r.practiceLocation," "),t.R7$(),t.Y8G("ngIf",""!=r.info.fullName),t.R7$(4),t.SpI(" ",r.appointmentId," "),t.R7$(4),t.SpI(" ",r.caseName?r.caseName:"N/A"," ")}}function S(i,n){1&i&&(t.j41(0,"th",53),t.EFF(1," Appointment Date "),t.k0s())}function L(i,n){if(1&i&&(t.j41(0,"td",45),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&i){const r=n.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,r.appointmentDate,"mediumDate")," ")}}function W(i,n){1&i&&(t.j41(0,"th",54),t.EFF(1," Status "),t.k0s())}function X(i,n){if(1&i&&(t.j41(0,"td",45)(1,"p"),t.EFF(2),t.k0s()()),2&i){const r=n.$implicit;t.R7$(),t.ZvI("status ",r.statusClass,""),t.R7$(),t.JRh(r.statusClass)}}function K(i,n){1&i&&(t.j41(0,"th",55),t.EFF(1," Action "),t.k0s())}function u(i,n){if(1&i&&(t.j41(0,"td",45)(1,"div",56)(2,"button",57)(3,"mat-icon",58),t.EFF(4,"visibility "),t.k0s()()()()),2&i){const r=n.$implicit,s=t.XpG();t.R7$(2),t.Y8G("routerLink",t.l_i(1,h,s.activeUserRoute,r.id))}}function I(i,n){1&i&&t.nrm(0,"tr",59)}function _(i,n){1&i&&t.nrm(0,"tr",60)}function v(i,n){if(1&i&&(t.j41(0,"div",61)(1,"div",62),t.nrm(2,"img",63),t.j41(3,"p",64),t.EFF(4),t.k0s()()()),2&i){const r=t.XpG();t.R7$(4),t.JRh(r.validationMessages.noRecords)}}const c=[];let p=(()=>{class i{constructor(r,s,m,g){this.dialog=r,this.authService=s,this.commonService=m,this.route=g,this.displayedColumns=["info","appointmentDate","status","action"],this.dataSource=new D.I6(c),this.appointmentStatus=e.K0,this.practiceLocations=e.WM,this.validationMessages=E.q,this.orderBy={createdAt:-1},this.whereCond={},this.userQuery={},this.totalCount=0,this.pageIndex=0,this.pageSize=e.T0,this.pageSizeOptions=e.Xe,this.seachByName="",this.appStatusVal="",this.practiceLocVal="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe(C=>{this.patientId=C.userId})}ngOnInit(){let r=this.commonService.getMaxAppoinmentFutureMonths();this.maxFromDate=r,this.maxToDate=r,this.whereCond={patientId:this.patientId},this.getPatientDetail(),this.getAppointmentList()}getPatientDetail(){var r=this;return(0,P.A)(function*(){let s={query:{_id:r.patientId},fields:{firstName:1,lastName:1}};yield r.authService.apiRequest("post","patients/getPatientData",s).subscribe(function(){var m=(0,P.A)(function*(g){r.patientName=g.data.patientData.firstName+" "+g.data.patientData.lastName});return function(g){return m.apply(this,arguments)}}())})()}getAppointmentList(r=""){var s=this;return(0,P.A)(function*(){""==r&&s.commonService.showLoader();let m={query:s.whereCond,userQuery:s.userQuery,fields:{practiceLocation:1,appointmentId:1,appointmentDate:1,status:1,caseName:1},patientFields:{firstName:1,lastName:1},therapistFields:{firstName:1,lastName:1,profileImage:1},order:s.orderBy,limit:s.pageSize,offset:s.pageIndex*s.pageSize};yield s.authService.apiRequest("post","appointment/getAppointmentList",m).subscribe(function(){var g=(0,P.A)(function*(C){s.commonService.hideLoader(),s.totalCount=C.data.totalCount;let d=[];yield C.data.appointmentList.map(k=>{let z={fullName:"",profileImage:e.ns.awsS3Url+e.ns.userProfileFolderPath+"default.png"};k.therapistId&&(z.profileImage=e.ns.awsS3Url+e.ns.userProfileFolderPath+k.therapistId.profileImage,z.fullName=k.therapistId.firstName+" "+k.therapistId.lastName),s.patientName=k.patientId.firstName+" "+k.patientId.lastName;let H={id:k._id,info:z,appointmentId:k.appointmentId,appointmentDate:k.appointmentDate,status:k.status,caseName:k.caseName,statusClass:k.status.toLowerCase(),practiceLocation:k.practiceLocation};d.push(H)}),s.appointmentList=new D.I6(d)});return function(C){return g.apply(this,arguments)}}())})()}onDateChange(r,s){let m;"fromDate"==s&&(this.minToDate=new Date(r.target.value)),m=this.fromDate&&this.toDate?{appointmentDate:{$gte:this.fromDate,$lte:this.toDate}}:this.fromDate?{appointmentDate:{$gte:this.fromDate}}:{appointmentDate:{$lte:this.toDate}},Object.assign(this.whereCond,m),this.getAppointmentList("search")}announceSortChange(r){let s;s="desc"==r.direction?-1:1,this.orderBy="info"==r.active?{appointmentId:s}:{[r.active]:s},this.getAppointmentList()}searchRecords(r){let s=r.target.value.trim();if(""!=s){s=s.replace("+","\\+");let m={$regex:s,$options:"i"};this.userQuery={status:"Active",role:"therapist",$or:[{firstName:m},{lastName:m},{email:m}]}}else this.userQuery={};this.getAppointmentList("search")}handlePageEvent(r){this.pageSize=r.pageSize,this.pageIndex=r.pageIndex,this.getAppointmentList()}reset(){this.userQuery={},this.whereCond={patientId:this.patientId},this.totalCount=0,this.pageIndex=0,this.pageSize=e.T0,this.pageSizeOptions=e.Xe,this.practiceLocVal="",this.appStatusVal="",this.fromDate="",this.toDate="",this.seachByName="",this.getAppointmentList("reset")}filterDropDown(r,s){""!=r.target.value?Object.assign(this.whereCond,{[s]:r.target.value}):delete this.whereCond[s],this.getAppointmentList("search")}static#t=this.\u0275fac=function(s){return new(s||i)(t.rXU(o.bZ),t.rXU(x.u),t.rXU(w.h),t.rXU(a.nX))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-patient-details"]],decls:70,vars:28,consts:[["picker",""],["picker2",""],["paginator",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","mb-3","flex-wrap"],[1,"mb-0","clr--1F2F3E","fw-500","me-2"],[1,"mb-0","clr--1F2F3E","me-2"],[1,"mb-0","text-primary","fw-600","font-16",3,"routerLink"],[1,"col-12","mt-3"],[1,"row"],[1,"col-12","col-sm-6","col-lg-4"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search by Therapist Name",1,"form-control","search--outer",3,"ngModelChange","keyup","ngModel"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset","search--fields"],[1,"material-symbols-outlined","flex-shrink-0"],["value","","selected",""],[1,"input-group"],[1,"w-100","am--datepicker"],["readonly","isReadonly","placeholder","From Date","matInput","",3,"ngModelChange","dateChange","ngModel","max","matDatepicker"],["matIconSuffix","",3,"for"],["readonly","isReadonly","placeholder","To Date","matInput","",3,"ngModelChange","dateChange","ngModel","min","max","matDatepicker"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","info"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by appointmentId"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["alt","",1,"img-fluid",3,"src"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],["class","mb-0 font-14 text-primary clr--1F2F3E",4,"ngIf"],[1,"mb-0","font-14","text-primary","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],["mat-header-cell","","mat-sort-header",""],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(s,m){if(1&s){const g=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h3",7),t.EFF(5,"Patient:"),t.k0s(),t.j41(6,"h3",8),t.EFF(7),t.k0s(),t.j41(8,"a",9),t.EFF(9," View Patient Profile "),t.k0s()(),t.j41(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"select",14),t.mxI("ngModelChange",function(d){return t.eBV(g),t.DH7(m.practiceLocVal,d)||(m.practiceLocVal=d),t.Njj(d)}),t.bIt("change",function(d){return t.eBV(g),t.Njj(m.filterDropDown(d,"practiceLocation"))}),t.j41(15,"option",15),t.EFF(16,"Practice Location"),t.k0s(),t.DNE(17,R,2,2,"option",16),t.k0s()()(),t.j41(18,"div",12)(19,"div",13)(20,"input",17),t.mxI("ngModelChange",function(d){return t.eBV(g),t.DH7(m.seachByName,d)||(m.seachByName=d),t.Njj(d)}),t.bIt("keyup",function(d){return t.eBV(g),t.Njj(m.searchRecords(d))}),t.k0s(),t.j41(21,"button",18)(22,"mat-icon",19),t.EFF(23,"search "),t.k0s()()()(),t.j41(24,"div",12)(25,"div",13)(26,"select",14),t.mxI("ngModelChange",function(d){return t.eBV(g),t.DH7(m.appStatusVal,d)||(m.appStatusVal=d),t.Njj(d)}),t.bIt("change",function(d){return t.eBV(g),t.Njj(m.filterDropDown(d,"status"))}),t.j41(27,"option",20),t.EFF(28,"Appointment Status"),t.k0s(),t.DNE(29,F,2,2,"option",16),t.k0s()()(),t.j41(30,"div",12)(31,"div",13)(32,"div",21)(33,"mat-form-field",22)(34,"input",23),t.mxI("ngModelChange",function(d){return t.eBV(g),t.DH7(m.fromDate,d)||(m.fromDate=d),t.Njj(d)}),t.bIt("dateChange",function(d){return t.eBV(g),t.Njj(m.onDateChange(d,"fromDate"))}),t.k0s(),t.nrm(35,"mat-datepicker-toggle",24)(36,"mat-datepicker",null,0),t.k0s()()()(),t.j41(38,"div",12)(39,"div",13)(40,"div",21)(41,"mat-form-field",22)(42,"input",25),t.mxI("ngModelChange",function(d){return t.eBV(g),t.DH7(m.toDate,d)||(m.toDate=d),t.Njj(d)}),t.bIt("dateChange",function(d){return t.eBV(g),t.Njj(m.onDateChange(d,"toDate"))}),t.k0s(),t.nrm(43,"mat-datepicker-toggle",24)(44,"mat-datepicker",null,1),t.k0s()()()(),t.j41(46,"div",12)(47,"div",13)(48,"button",26),t.bIt("click",function(){return t.eBV(g),t.Njj(m.reset())}),t.EFF(49,"Reset Filter"),t.k0s()()()()()(),t.j41(50,"div",27)(51,"div",28)(52,"table",29),t.bIt("matSortChange",function(d){return t.eBV(g),t.Njj(m.announceSortChange(d))}),t.qex(53,30),t.DNE(54,N,2,0,"th",31)(55,y,16,5,"td",32),t.bVm(),t.qex(56,33),t.DNE(57,S,2,0,"th",34)(58,L,3,4,"td",32),t.bVm(),t.qex(59,35),t.DNE(60,W,2,0,"th",36)(61,X,3,4,"td",32),t.bVm(),t.qex(62,37),t.DNE(63,K,2,0,"th",38)(64,u,5,4,"td",32),t.bVm(),t.DNE(65,I,1,0,"tr",39)(66,_,1,0,"tr",40),t.k0s(),t.DNE(67,v,5,1,"div",41),t.j41(68,"mat-paginator",42,2),t.bIt("page",function(d){return t.eBV(g),t.Njj(m.handlePageEvent(d))}),t.k0s()()()()()}if(2&s){const g=t.sdS(37),C=t.sdS(45);t.R7$(7),t.JRh(m.patientName),t.R7$(),t.Y8G("routerLink",t.l_i(25,M,m.activeUserRoute,m.patientId)),t.R7$(6),t.R50("ngModel",m.practiceLocVal),t.R7$(3),t.Y8G("ngForOf",m.practiceLocations),t.R7$(3),t.R50("ngModel",m.seachByName),t.R7$(6),t.R50("ngModel",m.appStatusVal),t.R7$(3),t.Y8G("ngForOf",m.appointmentStatus),t.R7$(5),t.R50("ngModel",m.fromDate),t.Y8G("max",m.maxFromDate)("matDatepicker",g),t.R7$(),t.Y8G("for",g),t.R7$(7),t.R50("ngModel",m.toDate),t.Y8G("min",m.minToDate)("max",m.maxToDate)("matDatepicker",C),t.R7$(),t.Y8G("for",C),t.R7$(9),t.Y8G("dataSource",m.appointmentList),t.R7$(13),t.Y8G("matHeaderRowDef",m.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",m.displayedColumns),t.R7$(),t.Y8G("ngIf",m.appointmentList&&0==m.appointmentList.filteredData.length),t.R7$(),t.Y8G("length",m.totalCount)("pageSize",m.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",m.pageSizeOptions)("pageIndex",m.pageIndex)}},dependencies:[j.Sq,j.bT,f.xH,f.y7,f.me,f.wz,f.BC,f.vS,B.$z,O.Vh,O.bZ,O.bU,$.rl,$.yw,U.An,T.fg,G.iy,b.B4,b.aE,D.Zl,D.tL,D.ji,D.cC,D.YV,D.iL,D.KS,D.$R,D.YZ,D.NB,a.Wk,j.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}"]})}return i})()},1641:(Y,V,l)=>{l.d(V,{m:()=>G});var P=l(4523),D=l(4494),e=l(2806),E=l(446),t=l(177),o=l(4438),x=l(4710),w=l(4006),a=l(7664),j=l(6992),f=l(3390),B=l(8834),O=l(9213);const $=(b,M)=>["/",b,"patients","patient-details",M];function U(b,M){if(1&b&&(o.j41(0,"h3",34),o.EFF(1,"SSN "),o.j41(2,"span",35),o.EFF(3),o.k0s()()),2&b){const h=o.XpG();o.R7$(3),o.JRh(null!=h.patientData&&h.patientData.ssn?h.patientData.ssn:"")}}function T(b,M){if(1&b&&(o.j41(0,"div",36),o.nrm(1,"img",37),o.k0s()),2&b){const h=o.XpG();o.R7$(),o.FS9("src",h.documentsLink,o.B4B),o.FS9("alt",h.patientData.documents_type)}}let G=(()=>{class b{constructor(h,R,F,N,A,y,S){this.router=h,this.dialog=R,this.navigationService=F,this.route=N,this.authService=A,this.commonService=y,this.datePipe=S,this.patientId="",this.initialName="",this.profileImage="",this.documentsLink="",this.birthdate="",this.patientData="",this.activeUserRoute=this.commonService.getLoggedInRoute(),this.route.params.subscribe(L=>{this.patientId=L.userId})}ngOnInit(){this.getPatientDetail()}getPatientDetail(){var h=this;return(0,P.A)(function*(){let R={query:{_id:h.patientId}};yield h.authService.apiRequest("post","patients/getPatientData",R).subscribe(function(){var F=(0,P.A)(function*(N){if(h.patientData=N.data.patientData,h.profileImage=E.ns.awsS3Url+E.ns.userProfileFolderPath+h.patientData.profileImage,h.patientData.firstName&&h.patientData.lastName&&(h.initialName=h.patientData.firstName.charAt(0)+h.patientData.lastName.charAt(0)),h.patientData.dob){let y=h.patientData.dob.split("T");h.birthdate=new Date(y[0])}let A={query:{_id:h.patientId},fileName:h.patientData.document_temp_name};h.commonService.showLoader(),yield h.authService.apiRequest("post","patients/getPreviewDocument",A).subscribe(function(){var y=(0,P.A)(function*(S){h.commonService.hideLoader(),S.error?h.commonService.openSnackBar(S.message,"ERROR"):h.documentsLink=S.data.document});return function(S){return y.apply(this,arguments)}}())});return function(N){return F.apply(this,arguments)}}())})()}deleteAccount(){this.dialog.open(D.C,{panelClass:"custom-alert-container",data:{warningNote:"Do you really want to delete this account?"}})}changePassword(){this.dialog.open(e.s,{panelClass:"change--password--modal"})}navigateToAppointmentDetails(){this.navigationService.getPreviousUrl()?this.router.navigate([this.navigationService.getPreviousUrl()]):this.router.navigate([this.activeUserRoute,"dashboard"])}static#t=this.\u0275fac=function(R){return new(R||b)(o.rXU(x.Ix),o.rXU(w.bZ),o.rXU(a.o),o.rXU(x.nX),o.rXU(j.u),o.rXU(f.h),o.rXU(t.vh))};static#e=this.\u0275cmp=o.VBU({type:b,selectors:[["app-patient-profile"]],features:[o.Jv_([t.vh])],decls:118,vars:22,consts:[[1,"col-12","profile--right--wrapper"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center"],["mat-stroked-button","","color","primary",1,"me-3","back--btn",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0"],[1,"mb-0","clr--1F2F3E","fw-600"],[1,"card-body","d-flex","flex-column","flex-sm-row","mb-5"],[1,"profile--left","d-flex","flex-column","position-relative","flex-shrink-0"],[1,"head--sec","w-100"],[1,"profile--round","position-relative"],[1,"user--name","d-flex","align-items-center","justify-content-center"],[1,"text-primary","fw-600"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100","body--sec"],[1,"font-18","fw-700"],[1,"d-flex","align-items-center","user--email"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],[1,"my-2","font-16"],["class","font-16 fw-700 my-2",4,"ngIf"],[1,"profile--right","d-flex","flex-column","w-100"],[1,"card","w-100","mb-0"],[1,"card-body","mt-4"],[1,"col-12"],[1,"row"],[1,"col-12","col-lg-6"],[1,"d-flex","align-items-start","mb-4"],[1,"indicate--round","flex-shrink-0","d-flex","align-items-center","justify-content-center"],[1,"material-symbols-outlined","text-primary"],[1,"d-flex","flex-column"],[1,"m-0","clr--1F2F3E","font-16","fw-700"],[1,"mb-0","clr--1F2F3E","font-16","fw-400"],[1,"mb-1","clr--1F2F3E","font-16","fw-700"],[1,"fw-700"],["class","document--box",4,"ngIf"],[1,"font-16","fw-700","my-2"],[1,"fw-500"],[1,"document--box"],[1,"img-fluid",3,"src","alt"]],template:function(R,F){1&R&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"mat-icon",5),o.EFF(6," keyboard_backspace "),o.k0s()(),o.j41(7,"h3",6),o.EFF(8,"Patient Profile"),o.k0s()()(),o.j41(9,"div",7)(10,"div",8),o.nrm(11,"div",9),o.j41(12,"div",10)(13,"div",11)(14,"span",12),o.EFF(15),o.k0s()()(),o.j41(16,"div",13)(17,"h3",14),o.EFF(18),o.k0s(),o.j41(19,"div",15)(20,"mat-icon",16),o.EFF(21,"mail "),o.k0s(),o.j41(22,"p",17),o.EFF(23),o.k0s()(),o.DNE(24,U,4,1,"h3",18),o.k0s()(),o.j41(25,"div",19)(26,"div",20)(27,"div",2)(28,"div",3)(29,"h3",6),o.EFF(30,"Basic Information"),o.k0s()()(),o.j41(31,"div",21)(32,"div",22)(33,"div",23)(34,"div",24)(35,"div",23)(36,"div",22)(37,"div",25)(38,"div",26)(39,"mat-icon",27),o.EFF(40,"call"),o.k0s()(),o.j41(41,"div",28)(42,"h3",29),o.EFF(43,"Home Phone Number"),o.k0s(),o.j41(44,"p",30),o.EFF(45),o.k0s()()()(),o.j41(46,"div",22)(47,"div",25)(48,"div",26)(49,"mat-icon",27),o.EFF(50,"smartphone"),o.k0s()(),o.j41(51,"div",28)(52,"h3",29),o.EFF(53,"Cell Phone Number"),o.k0s(),o.j41(54,"p",30),o.EFF(55),o.k0s()()()(),o.j41(56,"div",22)(57,"div",25)(58,"div",26)(59,"mat-icon",27),o.EFF(60,"call"),o.k0s()(),o.j41(61,"div",28)(62,"h3",29),o.EFF(63,"Work Extension Number "),o.k0s(),o.j41(64,"p",30),o.EFF(65),o.k0s()()()(),o.j41(66,"div",22)(67,"div",25)(68,"div",26)(69,"mat-icon",27),o.EFF(70,"transgender"),o.k0s()(),o.j41(71,"div",28)(72,"h3",29),o.EFF(73,"Gender"),o.k0s(),o.j41(74,"p",30),o.EFF(75),o.k0s()()()(),o.j41(76,"div",22)(77,"div",25)(78,"div",26)(79,"mat-icon",27),o.EFF(80,"cake"),o.k0s()(),o.j41(81,"div",28)(82,"h3",29),o.EFF(83,"Date of Birth"),o.k0s(),o.j41(84,"p",30),o.EFF(85),o.nI1(86,"date"),o.k0s()()()()()(),o.j41(87,"div",24)(88,"div",23)(89,"div",22)(90,"div",25)(91,"div",26)(92,"mat-icon",27),o.EFF(93,"location_on"),o.k0s()(),o.j41(94,"div",28)(95,"h3",31),o.EFF(96,"Mailing Address"),o.k0s(),o.j41(97,"p",30)(98,"span",32),o.EFF(99,"City: "),o.k0s(),o.EFF(100),o.k0s(),o.j41(101,"p",30)(102,"span",32),o.EFF(103,"State/province/area: "),o.k0s(),o.EFF(104),o.k0s(),o.j41(105,"p",30)(106,"span",32),o.EFF(107,"Postal Code: "),o.k0s(),o.EFF(108),o.k0s()()()(),o.j41(109,"div",22)(110,"div",25)(111,"div",26)(112,"mat-icon",27),o.EFF(113,"assignment_ind"),o.k0s()(),o.j41(114,"div",28)(115,"h3",29),o.EFF(116),o.k0s(),o.DNE(117,T,2,2,"div",33),o.k0s()()()()()()()()()()()()()),2&R&&(o.R7$(4),o.Y8G("routerLink",o.l_i(19,$,F.activeUserRoute,F.patientId)),o.R7$(11),o.JRh(F.initialName),o.R7$(3),o.Lme("",F.patientData.firstName," ",F.patientData.lastName,""),o.R7$(5),o.JRh(F.patientData.email),o.R7$(),o.Y8G("ngIf",F.patientData.ssn),o.R7$(21),o.JRh(F.patientData.phoneNumber?"+1 "+F.patientData.phoneNumber:"N/A"),o.R7$(10),o.SpI(" ",F.patientData.cellPhoneNumber?"+1 "+F.patientData.cellPhoneNumber:"N/A",""),o.R7$(10),o.SpI(" ",F.patientData.workExtensionNumber?"+1 "+F.patientData.workExtensionNumber:"N/A",""),o.R7$(10),o.SpI("",F.patientData.gender," "),o.R7$(10),o.JRh(o.i5U(86,16,F.birthdate,"mediumDate")),o.R7$(15),o.SpI(" ",F.patientData.city,""),o.R7$(4),o.SpI(" ",F.patientData.state,""),o.R7$(4),o.SpI(" ",F.patientData.zipcode," "),o.R7$(8),o.SpI(" ",F.patientData.documents_type,""),o.R7$(),o.Y8G("ngIf",F.patientData.documents_type&&F.documentsLink))},dependencies:[t.bT,B.$z,O.An,x.Wk,t.vh],styles:[".profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]{width:85px;height:85px;margin:-45px auto 38px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]{border-radius:100%;border:1px solid #31B7B7;width:85px;height:85px;background-color:#fff}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--round[_ngcontent-%COMP%]   .user--name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]{padding:0 15px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;font-size:18px;margin-right:10px!important}.profile--right--wrapper[_ngcontent-%COMP%]   .body--sec[_ngcontent-%COMP%]   .user--email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{word-break:break-all;line-height:16px}.profile--right--wrapper[_ngcontent-%COMP%]   .profile--right[_ngcontent-%COMP%]   .indicate--round[_ngcontent-%COMP%]{width:45px;height:45px;background-color:#31b7b733;border-radius:100%;margin-right:15px}.profile--right--wrapper[_ngcontent-%COMP%]   .document--box[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:180px}"]})}return b})()},423:(Y,V,l)=>{l.d(V,{G:()=>K});var P=l(4523),D=l(9159),e=l(446),E=l(5802),t=l(4438),o=l(4006),x=l(6992),w=l(3390),a=l(4710),j=l(177),f=l(9417),B=l(8834),O=l(9213),$=l(6695),U=l(2042);function T(u,I){if(1&u&&(t.j41(0,"option",34),t.EFF(1),t.k0s()),2&u){const _=I.$implicit;t.FS9("value",_),t.R7$(),t.SpI("",_," ")}}function G(u,I){1&u&&(t.j41(0,"th",35),t.EFF(1," Name "),t.k0s())}function b(u,I){if(1&u&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&u){const _=I.$implicit;t.R7$(),t.SpI(" ",_.name," ")}}function M(u,I){1&u&&(t.j41(0,"th",37),t.EFF(1," Email Id "),t.k0s())}function h(u,I){if(1&u&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&u){const _=I.$implicit;t.R7$(),t.SpI(" ",_.email," ")}}function R(u,I){1&u&&(t.j41(0,"th",38),t.EFF(1," Gender "),t.k0s())}function F(u,I){if(1&u&&(t.j41(0,"td",36),t.EFF(1),t.k0s()),2&u){const _=I.$implicit;t.R7$(),t.SpI(" ",_.gender," ")}}function N(u,I){1&u&&(t.j41(0,"th",38),t.EFF(1," Date of Birth "),t.k0s())}function A(u,I){if(1&u&&(t.j41(0,"td",36),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&u){const _=I.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,_.dob,"mediumDate")," ")}}function y(u,I){1&u&&(t.j41(0,"th",39),t.EFF(1," Actions "),t.k0s())}function S(u,I){if(1&u){const _=t.RV6();t.j41(0,"td",36)(1,"div",40)(2,"button",41),t.bIt("click",function(){const c=t.eBV(_).$implicit,p=t.XpG();return t.Njj(p.navigateToAdminUserDetails(c.id))}),t.j41(3,"mat-icon",42),t.EFF(4,"visibility "),t.k0s()()()()}}function L(u,I){1&u&&t.nrm(0,"tr",43)}function W(u,I){1&u&&t.nrm(0,"tr",44)}function X(u,I){if(1&u&&(t.j41(0,"div",45)(1,"div",46),t.nrm(2,"img",47),t.j41(3,"p",48),t.EFF(4),t.k0s()()()),2&u){const _=t.XpG();t.R7$(4),t.JRh(_.validationMessages.noRecords)}}let K=(()=>{class u{constructor(_,v,c,p){this.dialog=_,this.authService=v,this.commonService=c,this.router=p,this.displayedColumns=["name","email","gender","dob","action"],this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=e.T0,this.pageSizeOptions=e.Xe,this.validationMessages=E.q,this.orderBy={createdAt:-1},this.practiceLocVal="",this.practiceLocations=e.WM,this.maxFromDate=this.commonService.getMaxAppoinmentFutureMonths()}ngOnInit(){this.getPatientList()}announceSortChange(_){let v;v="desc"==_.direction?-1:1,this.orderBy="name"==_.active?{firstName:v}:{[_.active]:v},this.getPatientList()}searchRecords(){let _=this.searchPatient.trim();if(""!=_){_=_.replace("+","\\+");let v={$regex:_,$options:"i"};Object.assign(this.whereCond,{$or:[{firstName:v},{lastName:v},{email:v}]})}else delete this.whereCond.$or;this.getPatientList("search")}getPatientList(_=""){var v=this;return(0,P.A)(function*(){""==_&&v.commonService.showLoader();let c={queryMatch:v.whereCond,fields:{firstName:1,lastName:1,email:1,dob:1,gender:1},order:v.orderBy,limit:v.pageSize,offset:v.pageIndex*v.pageSize};yield v.authService.apiRequest("post","patients/getPatientList",c).subscribe(function(){var p=(0,P.A)(function*(i){v.commonService.hideLoader(),v.totalCount=i.data.totalCount;let n=[];yield i.data.patientList.map(r=>{n.push({id:r._id,email:r.email,dob:r.dob,gender:r.gender,name:r.firstName+" "+r.lastName})}),v.patientList=new D.I6(n)});return function(i){return p.apply(this,arguments)}}())})()}handlePageEvent(_){this.pageSize=_.pageSize,this.pageIndex=_.pageIndex,this.getPatientList()}reset(){this.searchPatient="",this.practiceLocVal="",this.whereCond={},this.totalCount=0,this.pageIndex=0,this.pageSize=e.T0,this.pageSizeOptions=e.Xe,this.getPatientList("reset")}navigateToAdminUserDetails(_){this.router.navigate([this.commonService.getLoggedInRoute()+"/patients/patient-details/",_])}filterDropDown(_,v){""!=_.target.value?Object.assign(this.whereCond,{"appmnt.practiceLocation":_.target.value}):delete this.whereCond["appmnt.practiceLocation"],this.getPatientList("search")}static#t=this.\u0275fac=function(v){return new(v||u)(t.rXU(o.bZ),t.rXU(x.u),t.rXU(w.h),t.rXU(a.Ix))};static#e=this.\u0275cmp=t.VBU({type:u,selectors:[["app-patients"]],decls:44,vars:12,consts:[["paginator",""],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"mb-2","clr--1F2F3E"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-lg-4"],["type","text","placeholder","Search Patient",1,"form-control","search--outer",3,"keyup","ngModelChange","ngModel"],[1,"col-12","col-sm-6","col-lg-2"],["mat-stroked-button","","color","primary",3,"click"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name",4,"matHeaderCellDef"],["matColumnDef","gender"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","dob"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no--record--found align-items-center justify-content-center w-100",4,"ngIf"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"click"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"no--record--found","align-items-center","justify-content-center","w-100"],[1,"d-flex","flex-column","align-items-center","w-100"],["src","assets/images/ark/sad.png","alt","",1,"mb-3","sad--img"],[1,""]],template:function(v,c){if(1&v){const p=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),t.EFF(5,"Patients"),t.k0s()(),t.j41(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"select",10),t.mxI("ngModelChange",function(n){return t.eBV(p),t.DH7(c.practiceLocVal,n)||(c.practiceLocVal=n),t.Njj(n)}),t.bIt("change",function(n){return t.eBV(p),t.Njj(c.filterDropDown(n,"practiceLocation"))}),t.j41(11,"option",11),t.EFF(12,"Practice Location"),t.k0s(),t.DNE(13,T,2,2,"option",12),t.k0s()()(),t.j41(14,"div",13)(15,"div",9)(16,"input",14),t.bIt("keyup",function(){return t.eBV(p),t.Njj(c.searchRecords())}),t.mxI("ngModelChange",function(n){return t.eBV(p),t.DH7(c.searchPatient,n)||(c.searchPatient=n),t.Njj(n)}),t.k0s()()(),t.j41(17,"div",15)(18,"div",9)(19,"button",16),t.bIt("click",function(){return t.eBV(p),t.Njj(c.reset())}),t.EFF(20,"Reset Filter"),t.k0s()()()()()(),t.j41(21,"div",17)(22,"div",18)(23,"table",19),t.bIt("matSortChange",function(n){return t.eBV(p),t.Njj(c.announceSortChange(n))}),t.qex(24,20),t.DNE(25,G,2,0,"th",21)(26,b,2,1,"td",22),t.bVm(),t.qex(27,23),t.DNE(28,M,2,0,"th",24)(29,h,2,1,"td",22),t.bVm(),t.qex(30,25),t.DNE(31,R,2,0,"th",26)(32,F,2,1,"td",22),t.bVm(),t.qex(33,27),t.DNE(34,N,2,0,"th",26)(35,A,3,4,"td",22),t.bVm(),t.qex(36,28),t.DNE(37,y,2,0,"th",29)(38,S,5,0,"td",22),t.bVm(),t.DNE(39,L,1,0,"tr",30)(40,W,1,0,"tr",31),t.k0s(),t.DNE(41,X,5,1,"div",32),t.j41(42,"mat-paginator",33,0),t.bIt("page",function(n){return t.eBV(p),t.Njj(c.handlePageEvent(n))}),t.k0s()()()()()}2&v&&(t.R7$(10),t.R50("ngModel",c.practiceLocVal),t.R7$(3),t.Y8G("ngForOf",c.practiceLocations),t.R7$(3),t.R50("ngModel",c.searchPatient),t.R7$(7),t.Y8G("dataSource",c.patientList),t.R7$(16),t.Y8G("matHeaderRowDef",c.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",c.displayedColumns),t.R7$(),t.Y8G("ngIf",c.patientList&&0==c.patientList.filteredData.length),t.R7$(),t.Y8G("length",c.totalCount)("pageSize",c.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",c.pageSizeOptions)("pageIndex",c.pageIndex))},dependencies:[j.Sq,j.bT,f.xH,f.y7,f.me,f.wz,f.BC,f.vS,B.$z,O.An,$.iy,U.B4,U.aE,D.Zl,D.tL,D.ji,D.cC,D.YV,D.iL,D.KS,D.$R,D.YZ,D.NB,j.vh],styles:[".cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}"]})}return u})()}}]);