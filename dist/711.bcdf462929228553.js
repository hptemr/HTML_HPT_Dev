"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[711],{2806:(R,C,t)=>{t.d(C,{s:()=>m});var h=t(8834),_=t(4006),r=t(9213),a=t(7278),d=t(9417),E=t(177),p=t(9039),I=t(5802),e=t(4438),f=t(3390),P=t(758);function w(o,c){if(1&o){const s=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.showNewPassword())}),e.nrm(1,"span",17),e.k0s()}}function D(o,c){if(1&o){const s=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.showNewPassword())}),e.nrm(1,"span",18),e.k0s()}}function v(o,c){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.SpI(" ",s.validationMessages.required("New password")," ")}}function F(o,c){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.SpI(" ",s.validationMessages.password," ")}}function g(o,c){if(1&o){const s=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.showConfirmPassword())}),e.nrm(1,"span",17),e.k0s()}}function u(o,c){if(1&o){const s=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.showConfirmPassword())}),e.nrm(1,"span",18),e.k0s()}}function l(o,c){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.SpI(" ",s.validationMessages.confirmPassword," ")}}function M(o,c){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const s=e.XpG();e.R7$(),e.SpI(" ",s.validationMessages.passwordMismatch," ")}}let m=(()=>{class o{constructor(s,n,i,O,j,T){this.dialog=s,this.fb=n,this.commonService=i,this.changePassDialogRef=O,this.adminService=j,this.data=T,this.validationMessages=I.q,this.showNewPass=!1,this.showCurrPass=!1,this.showConfPass=!1}ngOnInit(){this.initializeChangePasswordForm()}initializeChangePasswordForm(){this.changePasswordForm=this.fb.group({newPassword:["",[d.k0.required,d.k0.pattern(p.y.password)]],confirmPassword:["",d.k0.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(s){const n=s.get("newPassword"),i=s.get("confirmPassword");return i.value&&n.value!==i.value?{passwordMismatch:!0}:null}changePassword(){this.changePasswordForm.valid&&this.adminService.changePassword({confirmPassword:this.changePasswordForm.value.confirmPassword,userId:this.data.userId}).subscribe({next:n=>{n&&!n.error&&this.successModal(n)},error:n=>{n.error?.error&&this.commonService.openSnackBar(n.error?.message,"ERROR")}})}successModal(s){this.dialog.open(a.c,{disableClose:!0,panelClass:"custom-alert-container",data:{successNote:s.message}}).afterClosed().subscribe(i=>{i&&this.changePassDialogRef.close(!0)})}showNewPassword(){this.showNewPass=!this.showNewPass}showCurrentPassword(){this.showCurrPass=!this.showCurrPass}showConfirmPassword(){this.showConfPass=!this.showConfPass}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(_.bZ),e.rXU(d.ok),e.rXU(f.h),e.rXU(_.CP),e.rXU(P.z),e.rXU(_.Vh))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-change-password-modal"]],standalone:!0,features:[e.aNF],decls:34,vars:10,consts:[[1,"changepassword--wrapper"],[1,"cp--header"],[1,"cp--body"],[1,"row",3,"formGroup"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],[1,"form-input","position-relative"],["placeholder","Enter new password","formControlName","newPassword",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"cp--footer","w-100","d-flex","align-items-center","justify-content-end"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Change Password"),e.k0s()(),e.j41(4,"div",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),e.EFF(9,"New Password "),e.j41(10,"span",7),e.EFF(11," * "),e.k0s()(),e.j41(12,"div",8),e.nrm(13,"input",9),e.DNE(14,w,2,0,"div",10)(15,D,2,0),e.k0s(),e.DNE(16,v,2,1,"div",11)(17,F,2,1,"div",11),e.k0s(),e.j41(18,"div",5)(19,"label",6),e.EFF(20,"Confirm Password "),e.j41(21,"span",7),e.EFF(22," * "),e.k0s()(),e.j41(23,"div",8),e.nrm(24,"input",12),e.DNE(25,g,2,0,"div",10)(26,u,2,0),e.k0s(),e.DNE(27,l,2,1,"div",11)(28,M,2,1,"div",11),e.k0s()()()(),e.j41(29,"div",13)(30,"button",14),e.EFF(31,"Cancel"),e.k0s(),e.j41(32,"button",15),e.bIt("click",function(){return i.changePassword()}),e.EFF(33,"Submit"),e.k0s()()()),2&n&&(e.R7$(5),e.Y8G("formGroup",i.changePasswordForm),e.R7$(8),e.Y8G("type",i.showNewPass?"text":"password"),e.R7$(),e.vxM(14,i.showNewPass?15:14),e.R7$(2),e.Y8G("ngIf",i.changePasswordForm.controls.newPassword.touched&&i.changePasswordForm.controls.newPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",i.changePasswordForm.controls.newPassword.touched&&i.changePasswordForm.controls.newPassword.hasError("pattern")),e.R7$(7),e.Y8G("type",i.showConfPass?"text":"password"),e.R7$(),e.vxM(25,i.showConfPass?26:25),e.R7$(2),e.Y8G("ngIf",i.changePasswordForm.controls.confirmPassword.touched&&i.changePasswordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",i.changePasswordForm.hasError("passwordMismatch")&&i.changePasswordForm.controls.confirmPassword.touched),e.R7$(4),e.Y8G("disabled",!i.changePasswordForm.valid))},dependencies:[r.m_,h.Hl,h.$z,_.hM,_.tx,E.MD,E.bT,d.YN,d.qT,d.me,d.BC,d.cb,d.X1,d.j4,d.JD],styles:[".change--password--modal .mat-mdc-dialog-container{width:423px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper{padding:30px 24px}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--header h1{color:#1f2f3e;font-size:18px;margin-bottom:25px;font-weight:600}  .change--password--modal .mat-mdc-dialog-container .changepassword--wrapper .cp--footer{margin-top:17px}"]})}return o})()},8920:(R,C,t)=>{t.d(C,{e:()=>u});var h=t(4523),_=t(177),r=t(9417),a=t(8834),d=t(4006),E=t(9213),p=t(2244),I=t(5802),e=t(4438),f=t(3390),P=t(6992),w=t(5084),D=t(2102),v=t(9631);function F(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const m=e.XpG();e.R7$(),e.SpI(" ",m.validationMessages.requiredDropdown("Appointment Date")," ")}}function g(l,M){if(1&l&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&l){const m=e.XpG();e.R7$(),e.SpI(" ",m.validationMessages.required("your comment")," ")}}let u=(()=>{class l{constructor(m,o,c,s,n){this.commonService=m,this.authService=o,this.fb=c,this.dialogRef=s,this.data=n,this.validationMessages=I.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.todayDate=new Date,this.maxAppntDate=this.commonService.getMaxAppoinmentFutureMonths(),this.appointmentId=null!=n.appointmentId?n.appointmentId:"",this.userRole=null!=n.userRole?n.userRole:"",this.userId=null!=n.userId?n.userId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rescheduleForm=this.fb.group({appointmentDate:["",[r.k0.required]],comment:["",[r.k0.required,r.k0.minLength(1),r.k0.maxLength(100)]]})}trimInput(){0!==(this.rescheduleForm.controls.comment.value||"").trim().length||this.rescheduleForm.controls.comment.setValue("")}submitForm(m){var o=this;return(0,h.A)(function*(){if(o.appointmentId){let c={query:{_id:o.appointmentId},updateInfo:{status:"Rescheduled",appointmentDate:m.appointmentDate,rescheduleInfo:{fromPatientId:o.userId,fromAdminId:o.userId,userRole:o.userRole,comment:m.comment}}};yield o.authService.apiRequest("post","appointment/rescheduleAppointment",c).subscribe(function(){var s=(0,h.A)(function*(n){o.dialogRef.close(n)});return function(n){return s.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(o){return new(o||l)(e.rXU(f.h),e.rXU(P.u),e.rXU(r.ok),e.rXU(d.CP),e.rXU(d.Vh))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-reschedule-appointment-modal"]],standalone:!0,features:[e.aNF],decls:29,vars:8,consts:[["picker",""],[1,"reschedule--app--modal","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600"],[1,"row",3,"ngSubmit","formGroup"],[1,"ra--body","w-100"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"input-group"],[1,"w-100","am--datepicker"],["formControlName","appointmentDate","readonly","","placeholder","MM-DD-YYYY","matInput","",3,"min","max","matDatepicker"],["matIconSuffix","",3,"for"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Write your comment here","formControlName","comment","rows","4",1,"form-control",3,"blur"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-2"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(o,c){if(1&o){const s=e.RV6();e.j41(0,"div",1)(1,"header",2)(2,"h1",3),e.EFF(3,"Reschedule an Appointment"),e.k0s()(),e.j41(4,"form",4),e.bIt("ngSubmit",function(){return e.eBV(s),e.Njj(c.submitForm(c.rescheduleForm.value))}),e.j41(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),e.EFF(10,"Select Date"),e.k0s(),e.j41(11,"div",10)(12,"mat-form-field",11),e.nrm(13,"input",12)(14,"mat-datepicker-toggle",13)(15,"mat-datepicker",null,0),e.k0s()(),e.DNE(17,F,2,1,"div",14),e.k0s()(),e.j41(18,"div",7)(19,"div",8)(20,"label",9),e.EFF(21,"Mention the cause "),e.k0s(),e.j41(22,"textarea",15),e.bIt("blur",function(){return e.eBV(s),e.Njj(c.trimInput())}),e.k0s(),e.DNE(23,g,2,1,"div",14),e.k0s()()()(),e.j41(24,"div",16)(25,"button",17),e.EFF(26,"Cancel"),e.k0s(),e.j41(27,"button",18),e.EFF(28,"Submit"),e.k0s()()()()}if(2&o){const s=e.sdS(16);e.R7$(4),e.Y8G("formGroup",c.rescheduleForm),e.R7$(9),e.Y8G("min",c.todayDate)("max",c.maxAppntDate)("matDatepicker",s),e.R7$(),e.Y8G("for",s),e.R7$(3),e.Y8G("ngIf",c.rescheduleForm.controls.appointmentDate.touched&&c.rescheduleForm.controls.appointmentDate.hasError("required")),e.R7$(6),e.Y8G("ngIf",c.rescheduleForm.controls.comment.touched&&c.rescheduleForm.controls.comment.hasError("required")),e.R7$(4),e.Y8G("disabled",c.rescheduleForm.invalid)}},dependencies:[E.m_,a.Hl,a.$z,d.hM,d.tx,_.MD,_.bT,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,p.G,w.Vh,w.bZ,w.bU,D.rl,D.yw,v.fg],styles:[".reschedule--app--modal[_ngcontent-%COMP%]{padding:20px}.reschedule--app--modal[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2f3e;font-size:18px;margin-bottom:20px}"]})}return l})()},7278:(R,C,t)=>{t.d(C,{c:()=>E});var h=t(8834),_=t(4006),r=t(9213),a=t(4438),d=t(9417);let E=(()=>{class p{constructor(e,f,P){this.fb=e,this.dialogRef=f,this.data=P,this.successNote="",this.successNote=null!=P.successNote?P.successNote:this.successNote}static#e=this.\u0275fac=function(f){return new(f||p)(a.rXU(d.ok),a.rXU(_.CP),a.rXU(_.Vh))};static#t=this.\u0275cmp=a.VBU({type:p,selectors:[["app-success-modal"]],standalone:!0,features:[a.aNF],decls:8,vars:2,consts:[[1,"alert--wrapper"],[1,"col-12","d-flex","flex-column","align-items-center","justify-content-center","w-100","text-center"],["src","assets/images/ark/successful.gif","alt","","width","60px"],[1,"alert--note"],[1,"d-flex","align-items-center","justify-content-center"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(f,P){1&f&&(a.j41(0,"div",0)(1,"div",1),a.nrm(2,"img",2),a.j41(3,"p",3),a.EFF(4),a.k0s(),a.j41(5,"div",4)(6,"button",5),a.EFF(7,"Okay "),a.k0s()()()()),2&f&&(a.R7$(4),a.JRh(P.successNote),a.R7$(2),a.Y8G("mat-dialog-close",!0))},dependencies:[r.m_,h.Hl,h.$z,_.hM,_.tx]})}return p})()},7142:(R,C,t)=>{t.d(C,{b:()=>D});var h=t(4523),_=t(177),r=t(9417),a=t(8834),d=t(4006),E=t(9213),p=t(2244),I=t(5802),e=t(4438),f=t(3390),P=t(6992);function w(v,F){if(1&v&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&v){const g=e.XpG();e.R7$(),e.SpI(" ",g.validationMessages.required("your comment")," ")}}let D=(()=>{class v{constructor(g,u,l,M,m){this.commonService=g,this.authService=u,this.fb=l,this.dialogRef=M,this.data=m,this.validationMessages=I.q,this.inviteButton=!1,this.appointmentId="",this.userRole="",this.userId="",this.appointmentId=null!=m.appointmentId?m.appointmentId:"",this.userRole=null!=m.userRole?m.userRole:"",this.userId=null!=m.userId?m.userId:""}ngOnInit(){this.initializeForm()}initializeForm(){this.rejectCommentForm=this.fb.group({rejectComment:["",[r.k0.required,r.k0.minLength(1),r.k0.maxLength(100)]]})}trimInput(){0!==(this.rejectCommentForm.controls.rejectComment.value||"").trim().length||this.rejectCommentForm.controls.rejectComment.setValue("")}submitForm(g){var u=this;return(0,h.A)(function*(){if(u.appointmentId){let l={query:{_id:u.appointmentId},updateInfo:{status:"Cancelled",rejectInfo:{fromPatientId:u.userId,fromAdminId:u.userId,userRole:u.userRole,comment:g.rejectComment,rejectedDate:new Date}}};yield u.authService.apiRequest("post","appointment/cancelAppointment",l).subscribe(function(){var M=(0,h.A)(function*(m){u.dialogRef.close(m)});return function(m){return M.apply(this,arguments)}}())}})()}static#e=this.\u0275fac=function(u){return new(u||v)(e.rXU(f.h),e.rXU(P.u),e.rXU(r.ok),e.rXU(d.CP),e.rXU(d.Vh))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["app-write-comment-modal"]],standalone:!0,features:[e.aNF],decls:20,vars:3,consts:[[1,"alert--wrapper","d-flex","flex-column","w-100"],[1,"w-100"],[1,"fw-600","font-18","mb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","placeholder","Write your comment here","formControlName","rejectComment","rows","4",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],[1,"ra--footer","w-100","d-flex","align-items-center","justify-content-end","mt-3"],["mat-stroked-button","","color","primary","mat-dialog-close","",1,"me-2"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"text","text-danger","mt-1"]],template:function(u,l){1&u&&(e.j41(0,"div",0)(1,"header",1)(2,"h1",2),e.EFF(3,"Write a Comment"),e.k0s()(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return l.submitForm(l.rejectCommentForm.value)}),e.j41(5,"div",1)(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10," Mention the cause "),e.j41(11,"span",8),e.EFF(12," *"),e.k0s()(),e.j41(13,"textarea",9),e.bIt("blur",function(){return l.trimInput()}),e.k0s(),e.DNE(14,w,2,1,"div",10),e.k0s()()()(),e.j41(15,"div",11)(16,"button",12),e.EFF(17,"Cancel"),e.k0s(),e.j41(18,"button",13),e.EFF(19,"Submit"),e.k0s()()()()),2&u&&(e.R7$(4),e.Y8G("formGroup",l.rejectCommentForm),e.R7$(10),e.Y8G("ngIf",l.rejectCommentForm.controls.rejectComment.touched&&l.rejectCommentForm.controls.rejectComment.hasError("required")),e.R7$(4),e.Y8G("disabled",l.rejectCommentForm.invalid))},dependencies:[E.m_,a.Hl,a.$z,d.hM,d.tx,_.MD,_.bT,r.YN,r.qT,r.me,r.BC,r.cb,r.X1,r.j4,r.JD,p.G]})}return v})()},7664:(R,C,t)=>{t.d(C,{o:()=>r});var h=t(4710),_=t(4438);let r=(()=>{class a{constructor(E){this.router=E,this.history=[],this.router.events.subscribe(p=>{p instanceof h.Z&&this.history.push(p.url)})}getPreviousUrl(){return this.history.length>1?this.history[this.history.length-2]:null}static#e=this.\u0275fac=function(p){return new(p||a)(_.KVO(h.Ix))};static#t=this.\u0275prov=_.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}}]);