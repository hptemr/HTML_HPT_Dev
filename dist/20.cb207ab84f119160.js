"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[20],{7020:(G,D,r)=>{r.d(D,{$:()=>K});var g=r(4523),f=r(6695),u=r(2042),m=r(9159),d=r(446),t=r(4438),E=r(8617),y=r(4006),C=r(4710),A=r(6992),R=r(3390),M=r(758),h=r(177),_=r(9417),v=r(6911),w=r(8834),O=r(9213);const b=n=>["/support-team/appointment-details/",n];function F(n,p){if(1&n&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&n){const e=p.$implicit;t.FS9("value",e),t.R7$(),t.JRh(e)}}function T(n,p){if(1&n&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&n){const e=p.$implicit;t.FS9("value",e),t.R7$(),t.JRh(e)}}function x(n,p){1&n&&(t.j41(0,"th",35),t.EFF(1," Appointment # "),t.k0s())}function I(n,p){if(1&n&&(t.j41(0,"td",36)(1,"div",37)(2,"div",38),t.nrm(3,"img",39),t.k0s(),t.j41(4,"div")(5,"p",40),t.EFF(6,"John Walter"),t.k0s(),t.j41(7,"p",41)(8,"span",42),t.EFF(9,"Patient"),t.k0s(),t.EFF(10),t.k0s(),t.j41(11,"p",41)(12,"span",42),t.EFF(13,"Appointment#"),t.k0s(),t.EFF(14),t.k0s()()()()),2&n){const e=p.$implicit;t.R7$(10),t.SpI(" ",e.patientName,""),t.R7$(4),t.SpI(" ",e.appointmentId,"")}}function j(n,p){1&n&&(t.j41(0,"th",43),t.EFF(1," Appointment Date & Time "),t.k0s())}function P(n,p){if(1&n&&(t.j41(0,"td",36),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&n){const e=p.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.appointmentDate,"EEE, MMM d, y h:mm a")," ")}}function S(n,p){1&n&&(t.j41(0,"th",44),t.EFF(1," Status "),t.k0s())}function L(n,p){if(1&n&&(t.j41(0,"td",36)(1,"p"),t.EFF(2),t.k0s()()),2&n){const e=p.$implicit;t.R7$(),t.ZvI("status ",e.statusFlag,""),t.R7$(),t.JRh(e.status)}}function B(n,p){1&n&&(t.j41(0,"th",44),t.EFF(1," Actions "),t.k0s())}function $(n,p){if(1&n&&(t.j41(0,"td",36)(1,"div",45)(2,"button",46)(3,"mat-icon",47),t.EFF(4,"visibility "),t.k0s()()()()),2&n){const e=p.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(1,b,e.id))}}function k(n,p){1&n&&t.nrm(0,"tr",48)}function V(n,p){1&n&&t.nrm(0,"tr",49)}function N(n,p){if(1&n){const e=t.RV6();t.j41(0,"div",21)(1,"div",22)(2,"table",23),t.bIt("matSortChange",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.announceSortChange(o))}),t.qex(3,24),t.DNE(4,x,2,0,"th",25)(5,I,15,2,"td",26),t.bVm(),t.qex(6,27),t.DNE(7,j,2,0,"th",28)(8,P,3,4,"td",26),t.bVm(),t.qex(9,29),t.DNE(10,S,2,0,"th",30)(11,L,3,4,"td",26),t.bVm(),t.qex(12,31),t.DNE(13,B,2,0,"th",30)(14,$,5,3,"td",26),t.bVm(),t.DNE(15,k,1,0,"tr",32)(16,V,1,0,"tr",33),t.k0s(),t.j41(17,"mat-paginator",34,1),t.bIt("page",function(o){t.eBV(e);const i=t.XpG();return t.Njj(i.handlePageEvent(o))}),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.Y8G("dataSource",e.appointmentsList),t.R7$(13),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(),t.Y8G("length",e.totalCount)("pageSize",e.pageSize)("showFirstLastButtons",!0)("pageSizeOptions",e.pageSizeOptions)("pageIndex",e.pageIndex)}}function U(n,p){1&n&&(t.j41(0,"p",55),t.EFF(1,"Kindly click on \u201cBook Appointment\u201d to schedule a new appointment."),t.k0s())}function z(n,p){if(1&n&&(t.j41(0,"div",50)(1,"div",51),t.nrm(2,"img",52),t.j41(3,"p",53),t.EFF(4,"Currently there are no appointments to show!"),t.k0s(),t.DNE(5,U,2,0,"p",54),t.k0s()()),2&n){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",e.dayOneFlag)}}const q=[];let K=(()=>{class n{constructor(e,a,o,i,l,s){this._liveAnnouncer=e,this.dialog=a,this.router=o,this.authService=i,this.commonService=l,this.adminService=s,this.displayedColumns=["name","appointmentDate","status","action"],this.dataSource=new m.I6(q),this.orderBy={createdAt:-1},this.whereCond={},this.whereCondTotal={},this.dayTwo=!1,this.dayOne=!0,this.dayOneFlag=!0,this.isAppointmentsList=!0,this.totalCount=0,this.pageIndex=0,this.pageSize=d.T0,this.pageSizeOptions=d.Xe,this.searchQuery="",this.practiceLocations=d.WM,this.appointmentStatus=d.K0,this.appStatusVal="",this.practiceLocationsVal="",this.toDate="",this.fieldValues=["Accepted","Rescheduled"]}ngOnInit(){const e=new Date;e.setHours(0,0,0,0);const a=new Date(Date.now()+6048e5);this.whereCond=Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:{$gte:e,$lte:a}}),this.whereCondTotal=Object.assign(this.whereCondTotal,{status:{$in:this.fieldValues},appointmentDate:{$gte:e,$lte:a}}),this.getAppointmentList("")}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}searchRecords(e,a){"practiceLocations"==e?this.whereCond=Object.assign(this.whereCond,{practiceLocation:{$in:a}}):"status"==e&&(this.whereCond=Object.assign(this.whereCond,{status:{$in:a}})),this.getAppointmentList("search")}reset(){this.totalCount=0,this.pageIndex=0,this.pageSize=d.T0,this.pageSizeOptions=d.Xe,this.toDate="",this.practiceLocationsVal="",this.appStatusVal="";const e=new Date;e.setHours(0,0,0,0);const a=new Date(Date.now()+6048e5);this.whereCond={},this.whereCond=Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:{$gte:e,$lte:a}}),this.getAppointmentList("reset")}onDateChange(e){let a=e.year+"-"+e.month+"-"+e.day;const o=new Date(a);o.setHours(0,0,0,0);const i=new Date(o.getFullYear(),o.getMonth(),o.getDate());i.setHours(24,0,0,0);let l={};l={$gte:a,$lte:i},Object.assign(this.whereCond,{status:{$in:this.fieldValues},appointmentDate:l}),this.getAppointmentList("search")}getAppointmentList(e=""){var a=this;return(0,g.A)(function*(){""==e&&a.commonService.showLoader();let o={query:a.whereCond,queryTotal:a.whereCondTotal,userQuery:"",fields:{_id:1,patientId:1,therapistId:1,appointmentId:1,status:1,createdAt:1,updatedAt:1,practiceLocation:1,appointmentDate:1},patientFields:{firstName:1,lastName:1,email:1,profileImage:1,status:1,practiceLocation:1},order:a.orderBy,limit:a.pageSize,offset:a.pageIndex*a.pageSize};yield a.authService.apiRequest("post","appointment/getAppointmentList",o).subscribe(function(){var i=(0,g.A)(function*(l){a.commonService.hideLoader(),a.totalCount=l.data.totalCount;let s=[];l.data.appointmentList.length>0?(yield l.data.appointmentList.map(c=>{let W={id:c._id,appointmentId:c.appointmentId,createdAt:c.updatedAt,appointmentDate:c.appointmentDate,status:c.status,statusFlag:c.status.charAt(0).toLowerCase()+c.status.slice(1),patientName:c.patientId?.firstName+" "+c.patientId?.lastName};s.push(W)}),a.dayTwo=!0,a.dayOne=!1,a.dayOneFlag=!1):(a.dayTwo=!1,a.dayOne=!0,a.dayOneFlag=!1),a.appointmentsList=new m.I6(s),a.isAppointmentsList=a.totalCount>0});return function(l){return i.apply(this,arguments)}}())})()}resetFilter(){this.totalCount=0,this.pageIndex=0,this.pageSize=d.T0,this.pageSizeOptions=d.Xe,this.searchQuery="",this.getAppointmentList("reset")}handlePageEvent(e){this.pageSize=e.pageSize,this.pageIndex=e.pageIndex,this.getAppointmentList()}announceSortChange(e){this._liveAnnouncer.announce(e.direction?`Sorted ${e.direction}ending`:"Sorting cleared")}showDayTwo(){this.dayTwo=!0,this.dayOne=!1}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(E.Ai),t.rXU(y.bZ),t.rXU(C.Ix),t.rXU(A.u),t.rXU(R.h),t.rXU(M.z))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-appointment-requests"]],viewQuery:function(a,o){if(1&a&&(t.GBs(u.B4,5),t.GBs(f.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(o.sort=i.first),t.mGM(i=t.lsd())&&(o.paginator=i.first)}},decls:31,vars:7,consts:[["d","ngbDatepicker"],["paginator",""],[1,"col-12","appointment--wrapper"],[1,"col-12"],[1,"card"],[1,"card-header","pb-0"],[1,"col-12","mt-2"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"form-group"],["aria-label","Default select example",1,"form-select","form-control",3,"ngModelChange","ngModel"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],["readonly","","placeholder","Appointment Date","name","dp","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],["mat-stroked-button","","color","primary",3,"click"],["class","card-body",4,"ngIf"],["class","card-body day--one--wrapper d-flex align-items-center justify-content-center",4,"ngIf"],[3,"value"],[1,"card-body"],[1,"col-12","cust--mat--table--wrapper"],["mat-table","","matSort","",1,"cust--mat--table","box--row--table",3,"matSortChange","dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","appointmentDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","showFirstLastButtons","pageSizeOptions","pageIndex"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],[1,"d-flex","align-items-center"],[1,"img--box","flex-shrink-0"],["src","assets/images/ark/user.png","alt","",1,"img-fluid"],[1,"mb-0","font-16","text-primary","clr--1F2F3E","fw-500"],[1,"mb-0","font-14","clr--1F2F3E"],[1,"fw-700"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by weight"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by symbol"],[1,"w-100","d-flex","align-items-center","justify-content-end"],["mat-button","",1,"flex-shrink-0","min-width-unset","search--fields",3,"routerLink"],[1,"material-symbols-outlined","flex-shrink-0","m-0","text-primary"],["mat-header-row",""],["mat-row",""],[1,"card-body","day--one--wrapper","d-flex","align-items-center","justify-content-center"],[1,"d-flex","flex-column","align-items-center","justify-content-center","w-100"],["src","assets/images/ark/calendar-lg.png","alt","",1,"img-fluid","mb-4"],[1,"fw-700","clr--1F2F3E","text-center","mb-2"],["class","clr--1F2F3E text-center",4,"ngIf"],[1,"clr--1F2F3E","text-center"]],template:function(a,o){if(1&a){const i=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"select",10),t.bIt("ngModelChange",function(s){return t.eBV(i),t.Njj(o.searchRecords("practiceLocations",s))}),t.mxI("ngModelChange",function(s){return t.eBV(i),t.DH7(o.practiceLocationsVal,s)||(o.practiceLocationsVal=s),t.Njj(s)}),t.j41(9,"option",11),t.EFF(10,"Practice Location"),t.k0s(),t.DNE(11,F,2,2,"option",12),t.k0s()()(),t.j41(12,"div",8)(13,"div",9)(14,"select",10),t.bIt("ngModelChange",function(s){return t.eBV(i),t.Njj(o.searchRecords("status",s))}),t.mxI("ngModelChange",function(s){return t.eBV(i),t.DH7(o.appStatusVal,s)||(o.appStatusVal=s),t.Njj(s)}),t.j41(15,"option",11),t.EFF(16,"Appointment Status"),t.k0s(),t.DNE(17,T,2,2,"option",12),t.k0s()()(),t.j41(18,"div",8)(19,"div",9)(20,"div",13)(21,"input",14,0),t.bIt("ngModelChange",function(s){return t.eBV(i),t.Njj(o.onDateChange(s))}),t.mxI("ngModelChange",function(s){return t.eBV(i),t.DH7(o.toDate,s)||(o.toDate=s),t.Njj(s)}),t.k0s(),t.j41(23,"button",15),t.bIt("click",function(){t.eBV(i);const s=t.sdS(22);return t.Njj(s.toggle())}),t.nrm(24,"i",16),t.k0s()()()(),t.j41(25,"div",8)(26,"div",9)(27,"button",17),t.bIt("click",function(){return t.eBV(i),t.Njj(o.reset())}),t.EFF(28,"Reset Filter"),t.k0s()()()()()(),t.DNE(29,N,19,8,"div",18)(30,z,6,1,"div",19),t.k0s()()()}2&a&&(t.R7$(8),t.R50("ngModel",o.practiceLocationsVal),t.R7$(3),t.Y8G("ngForOf",o.practiceLocations),t.R7$(3),t.R50("ngModel",o.appStatusVal),t.R7$(3),t.Y8G("ngForOf",o.appointmentStatus),t.R7$(4),t.R50("ngModel",o.toDate),t.R7$(8),t.Y8G("ngIf",o.dayTwo),t.R7$(),t.Y8G("ngIf",o.dayOne))},dependencies:[h.Sq,h.bT,C.Wk,_.xH,_.y7,_.me,_.wz,_.BC,_.vS,v.cw,w.$z,O.An,f.iy,u.B4,u.aE,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,h.vh],styles:[".day--one--wrapper[_ngcontent-%COMP%]{height:calc(100vh - 287px)}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}  .cust--mat--table tbody tr td:last-child .mat-icon{height:24px;width:24px;font-size:24px}  .cust--mat--table tbody tr td .img--box{width:48px;height:48px;border-radius:100%;overflow:hidden;margin-right:15px}@media only screen and (max-width: 599px){.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.box--row--table.mat-mdc-table[_ngcontent-%COMP%]{width:800px}}@media only screen and (min-width: 600px) and (max-width: 979px){.day--one--wrapper[_ngcontent-%COMP%]{height:auto}.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;margin-top:70px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}}@media screen and (orientation: landscape) and (max-width: 850px){.day--one--wrapper[_ngcontent-%COMP%]{height:auto}.day--one--wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;margin-top:70px}.day--one--wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.cust--mat--table--wrapper[_ngcontent-%COMP%]   .cust--mat--table.box--row--table.mat-mdc-table[_ngcontent-%COMP%]{width:900px}}"]})}return n})()}}]);