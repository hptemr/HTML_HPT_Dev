"use strict";(self.webpackChunkcion_angular_16=self.webpackChunkcion_angular_16||[]).push([[310],{2310:(N,g,m)=>{m.r(g),m.d(g,{AuthModule:()=>vt});var u=m(177),p=m(2168),n=m(9417),k=m(5802),G=m(446),e=m(4438),C=m(6992),v=m(3390),T=m(8639),S=m(2765);const Y=()=>["/signup"];function q(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("an email address")," ")}}function X(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.validEmail," ")}}function V(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",25),e.k0s()}}function O(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",26),e.k0s()}}function U(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Password")," ")}}function A(i,a){1&i&&(e.j41(0,"p",27),e.EFF(1,"Not Registered Yet? "),e.j41(2,"a",28),e.EFF(3,"Create an account "),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("routerLink",e.lJ4(1,Y)))}let R=(()=>{class i{constructor(t,r,o,s,d){this.fb=t,this.router=r,this.authService=o,this.commonService=s,this.userService=d,this.validationMessages=k.q,this.show=!1,this.rememberMeObj={email:"",password:"",rememberMe:!1},this.userType="patient",this.forgetPasswordLink="/forgot-password";let l=localStorage.getItem("rememberMe");null!=l&&(this.rememberMeObj=JSON.parse(l))}ngOnInit(){const t=location.href.split("/");"admin"==t[t.length-2]&&(this.userType="admin",this.forgetPasswordLink="/admin/forgot-password"),this.initializeLoginForm(),this.userService.initialiseApp(G.rv.appId,G.rv.region)}initializeLoginForm(){this.loginForm=this.fb.group({email:[this.rememberMeObj.email,[n.k0.required,n.k0.email]],password:[this.rememberMeObj.password,n.k0.required],rememberMe:[this.rememberMeObj.rememberMe],userType:[this.userType]})}showPassword(){this.show=!this.show}login(){this.loginForm.valid&&this.authService.login(this.loginForm.value).subscribe({next:t=>{this.loginUserInCometChat(t.data),this.setLocalStorage(t,this.loginForm.value),"patient"==this.authService.getLoggedInInfo("role")&&(localStorage.removeItem("step1FormData"),localStorage.removeItem("step2FormData"),localStorage.removeItem("step3FormData"),localStorage.removeItem("step4FormData"),localStorage.removeItem("step5FormData"),localStorage.removeItem("uploadedInsuranceFiles"),localStorage.removeItem("uploadedPrescriptionFiles")),this.commonService.redirectToHome()},error:t=>{console.log("err:",t),t.error?.error&&this.commonService.openSnackBar(t.error?.message,"ERROR")}})}setLocalStorage(t,r){localStorage.setItem("user",JSON.stringify(t.data)),this.loginForm.controls.rememberMe.value?localStorage.setItem("rememberMe",JSON.stringify(r)):localStorage.removeItem("rememberMe")}loginUserInCometChat(t){console.log("loginUserInCometChat>>>>",t),"patient"!=t.role&&this.userService.loginUser(t._id)}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(n.ok),e.rXU(p.Ix),e.rXU(C.u),e.rXU(v.h),e.rXU(T.D))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-login"]],decls:37,vars:9,consts:[[1,"container-fluid","p-0"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"login-card","login-dark","dark-gray"],[1,"logo"],["ngSrc","assets/images/logo/logo.webp","alt","looginpage","width","96","height","96","priority","","rel","preload","fetchpriority","high",1,"img-fluid","for-light"],[1,"login-main"],[1,"theme-form",3,"formGroup"],[1,"text-center","dark-grey"],[1,"text-center","mt-2"],[1,"form-group"],[1,"col-form-label","fw-600"],["type","email","required","","placeholder","Enter your email address","formControlName","email","maxlength","35",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],[1,"form-input","position-relative"],["formControlName","password","required","","placeholder","Enter Password","maxlength","16",1,"form-control",3,"type"],[1,"show-hide"],[1,"form-group","mb-0"],["formControlName","rememberMe",1,"remember--me"],[1,"link","font-14","fw-600",3,"routerLink"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","font-16","w-100",3,"click","disabled"],["class","mt-4 mb-0 text-center",4,"ngIf"],[1,"text","text-danger","mt-1"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"mt-4","mb-0","text-center"],[1,"ms-2","font-16","fw-600",3,"routerLink"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"a",4),e.nrm(7,"img",5),e.k0s()(),e.j41(8,"div",6)(9,"form",7)(10,"h3",8),e.EFF(11,"Sign in"),e.k0s(),e.j41(12,"p",9),e.EFF(13,"Enter your email & password to login"),e.k0s(),e.j41(14,"div",10)(15,"label",11),e.EFF(16,"Email Address"),e.k0s(),e.nrm(17,"input",12),e.DNE(18,q,2,1,"div",13)(19,X,2,1,"div",13),e.k0s(),e.j41(20,"div",10)(21,"label",11),e.EFF(22,"Password"),e.k0s(),e.j41(23,"div",14),e.nrm(24,"input",15),e.DNE(25,V,2,0,"div",16)(26,O,2,0)(27,U,2,1,"div",13),e.k0s()(),e.j41(28,"div",17)(29,"mat-checkbox",18),e.EFF(30,"Remember Me"),e.k0s(),e.j41(31,"a",19),e.EFF(32,"Forgot password?"),e.k0s(),e.j41(33,"div",20)(34,"button",21),e.bIt("click",function(){return o.login()}),e.EFF(35,"Login"),e.k0s()()(),e.DNE(36,A,4,2,"p",22),e.k0s()()()()()()()),2&r&&(e.R7$(9),e.Y8G("formGroup",o.loginForm),e.R7$(9),e.Y8G("ngIf",o.loginForm.controls.email.touched&&o.loginForm.controls.email.hasError("required")),e.R7$(),e.Y8G("ngIf",o.loginForm.controls.email.touched&&o.loginForm.controls.email.hasError("email")),e.R7$(5),e.Y8G("type",o.show?"text":"password"),e.R7$(),e.vxM(25,o.show?26:25),e.R7$(2),e.Y8G("ngIf",o.loginForm.controls.password.touched&&o.loginForm.controls.password.hasError("required")),e.R7$(4),e.Y8G("routerLink",o.forgetPasswordLink),e.R7$(3),e.Y8G("disabled",!o.loginForm.valid),e.R7$(2),e.Y8G("ngIf","patient"==o.userType))},dependencies:[u.bT,n.qT,n.me,n.BC,n.cb,n.YS,n.tU,n.j4,n.JD,S.So,p.Wk,u.kt],styles:[".login-card[_ngcontent-%COMP%]     .mdc-label{font-size:14px!important;padding-left:0!important}.login-card[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:14px!important;font-weight:400}.login-card[_ngcontent-%COMP%]   .remember--me[_ngcontent-%COMP%]{margin-left:-8px}"]})}return i})();var h=m(4523),L=m(6354),b=m(9039),y=m(2938),z=m(4511),J=m(6555),_=m(7200),H=m(4494),Z=m(4006),Q=m(9327),E=m(6911),D=m(8834),P=m(6233),W=m(2102),K=m(9213),ee=m(9631),M=m(5951);const te=["stepper"],oe=i=>({"nv-file-over":i}),ie=()=>["/"];function re(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("First Name")," ")}}function ne(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Middle Name")," ")}}function se(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Last Name")," ")}}function ae(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Date of Birth"),"")}}function le(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.radioButton,"")}}function de(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Email")," ")}}function me(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.invalidEmailErrorMessage," ")}}function pe(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("a valid phone number")," ")}}function ce(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.invalidPhoneNumber," ")}}function ue(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",79),e.k0s()}}function fe(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",80),e.k0s()}}function he(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Password")," ")}}function ge(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.password," ")}}function ve(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showConfirmPassword())}),e.nrm(1,"span",79),e.k0s()}}function _e(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",78),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showConfirmPassword())}),e.nrm(1,"span",80),e.k0s()}}function Fe(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.passwordMismatch," ")}}function ke(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Street Name")," ")}}function Ce(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Apartment")," ")}}function Se(i,a){if(1&i&&(e.j41(0,"option",81),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.FS9("value",t.state_code),e.R7$(),e.JRh(t.state)}}function we(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredDropdown("State")," ")}}function Ge(i,a){if(1&i&&(e.j41(0,"option",82),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.FS9("value",t.city),e.R7$(),e.JRh(t.city)}}function Pe(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredDropdown("City")," ")}}function be(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Zipcode")," ")}}function ye(i,a){1&i&&(e.j41(0,"span",19),e.EFF(1," * "),e.k0s())}function Ee(i,a){if(1&i&&(e.j41(0,"option",82),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.FS9("value",t),e.R7$(),e.JRh(t)}}function je(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredDropdown("ID Proof")," ")}}function Ie(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredProofDocument," ")}}function Ne(i,a){1&i&&(e.j41(0,"mat-form-field",83),e.nrm(1,"input",84),e.k0s())}function Te(i,a){1&i&&(e.j41(0,"div",85),e.EFF(1," Please drag your document. "),e.k0s())}function Re(i,a){if(1&i&&(e.j41(0,"div",85),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredDocument," ")}}function De(i,a){if(1&i&&(e.j41(0,"div",85),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.fileErrors," ")}}function Me(i,a){if(1&i&&(e.j41(0,"span"),e.nrm(1,"img",88),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.FS9("alt",t.documentsName),e.Y8G("src",t.documentsLink,e.B4B)}}function $e(i,a){1&i&&(e.j41(0,"span")(1,"mat-icon"),e.EFF(2," file_copy "),e.k0s()())}function xe(i,a){1&i&&(e.j41(0,"span")(1,"mat-icon"),e.EFF(2," picture_as_pdf "),e.k0s()())}function Be(i,a){1&i&&(e.j41(0,"span")(1,"mat-icon"),e.EFF(2," file_copy "),e.k0s()())}function Ye(i,a){if(1&i&&(e.j41(0,"div",86),e.DNE(1,Me,2,2,"span",87)(2,$e,3,0,"span",87)(3,xe,3,0,"span",87)(4,Be,3,0,"span",87),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.fileType&&"image"===t.fileType),e.R7$(),e.Y8G("ngIf",t.fileType&&"doc"===t.fileType),e.R7$(),e.Y8G("ngIf",t.fileType&&"pdf"===t.fileType),e.R7$(),e.Y8G("ngIf",t.fileType&&"unknown"===t.fileType)}}function qe(i,a){if(1&i&&(e.j41(0,"p",92),e.EFF(1),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.JRh(t.document_size)}}function Xe(i,a){if(1&i&&(e.j41(0,"div",89)(1,"h5",90),e.EFF(2),e.k0s(),e.DNE(3,qe,2,1,"p",91),e.k0s()),2&i){const t=e.XpG();e.R7$(2),e.JRh(t.documentsName),e.R7$(),e.Y8G("ngIf",t.document_size)}}function Ve(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",93)(1,"div",94),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.documentDelete())}),e.j41(2,"span",95),e.EFF(3," cancel "),e.k0s()()()}}function Oe(i,a){if(1&i&&(e.j41(0,"div",77),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.requiredCheckbox("Privacy Policy and Terms of Services")," ")}}const j=G.Vd+"/api/patients/patientDocument";let Ue=(()=>{class i{constructor(t,r,o,s,d,l,c,f,F){this.router=t,this.fb=r,this.dialog=o,this.authService=d,this.commonService=l,this.ngbDateParserFormatter=c,this.datePipe=f,this.activateRoute=F,this.states=z.G,this.cities=[],this.show=!1,this.showConfirmPass=!1,this.validationMessages=k.q,this.mainHeadTxt="Create your account",this.selectedCity="",this.isRequired=!1,this.emailError=!1,this.invalidEmailErrorMessage="",this.DT_FORMAT="MM/DD/YYYY",this.convertPhoneNumber="",this.userId="",this.uploader=new _.l0({url:`${j}?`}),this.hasBaseDropZoneOver=!1,this.documentsMissing=!0,this.documents_temps=!1,this.documentsList=[],this.documentsLink="",this.documentsName="",this.selected_date="",this.fileType="",this.document_size="",this.uploadAll=!1,this.fileErrors="",this.thirdFormDisabled=!1,this.currentProgessinPercent=0,this.selectedDocumentsType="",this.documents_type_list=[],this.isChecked=!1,this.submitButton=!0,this.maxFileSize=0,this.signUpToken="",this.patientGetByToken=null,this.stepperOrientation=s.observe("(min-width: 800px)").pipe((0,L.T)(({matches:w})=>w?"horizontal":"vertical")),this.signUpToken=this.activateRoute.snapshot.queryParamMap.get("signUpToken")}ngOnInit(){if(this.userId=localStorage.getItem("userId"),this.documents_type_list=G._V,this.firstFormGroupData=localStorage.getItem("firstFormGroupData"),localStorage.getItem("firstFormGroupData")&&(this.firstFormGroupData=JSON.parse(this.firstFormGroupData),this.firstFormGroupData.dob)){this.selected_date=this.datePipe.transform(this.firstFormGroupData.dob,"MM-dd-yyyy");let r=this.selected_date.split("-").map(Number),o={month:r[0],day:r[1],year:r[2]};this.selectedDate=o,this.selected_date=this.commonService.formattedDate(o)}this.secondFormGroupData=localStorage.getItem("secondFormGroupData"),localStorage.getItem("secondFormGroupData")&&(this.secondFormGroupData=JSON.parse(this.secondFormGroupData),this.secondFormGroupData&&this.secondFormGroupData.city&&(this.selectedCity=this.secondFormGroupData.city),this.secondFormGroupData.state&&this.getCitiesByState(this.secondFormGroupData.state)),this.thiredFormGroupData=localStorage.getItem("thiredFormGroupData"),localStorage.getItem("thiredFormGroupData")&&(this.thiredFormGroupData=JSON.parse(this.thiredFormGroupData),this.thiredFormGroupData&&this.thiredFormGroupData.filename&&this.thiredFormGroupData.original_name&&(this.selectedDocumentsType=void 0===this.thiredFormGroupData.documents_type?"":this.thiredFormGroupData.documents_type,this.isRequired=!0,this.getUploadedDocs(this.thiredFormGroupData.filename,this.thiredFormGroupData.original_name))),this.uploader=new _.l0({url:`${j}?userId=${this.userId}`}),this.firstFormGroup=this.fb.group({firstName:[this.firstFormGroupData?this.firstFormGroupData.firstName:"",[n.k0.pattern("^[ A-Za-z0-9.'-]*$"),y.N.noWhitespaceValidator,n.k0.required,n.k0.minLength(1),n.k0.maxLength(35)]],middleName:[this.firstFormGroupData?this.firstFormGroupData.middleName:"",[n.k0.pattern("^[ A-Za-z0-9.'-]*$"),n.k0.maxLength(35)]],lastName:[this.firstFormGroupData?this.firstFormGroupData.lastName:"",[n.k0.pattern("^[ A-Za-z0-9.'-]*$"),y.N.noWhitespaceValidator,n.k0.required,n.k0.minLength(1),n.k0.maxLength(35)]],email:[this.firstFormGroupData?this.firstFormGroupData.email:"",[n.k0.required,n.k0.email,y.N.noWhitespaceValidator]],dob:["",[n.k0.required]],phoneNumber:[this.firstFormGroupData?this.firstFormGroupData.phoneNumber:"",[n.k0.required,n.k0.pattern(b.y.usPhoneNumber),n.k0.maxLength(14)]],gender:[this.firstFormGroupData?this.firstFormGroupData.gender:"",[n.k0.required]],password:[this.firstFormGroupData?this.firstFormGroupData.password:"",[n.k0.required,n.k0.pattern(b.y.password)]],confirmPassword:["",[n.k0.required]]},{validator:this.passwordMatchValidator}),this.secondFormGroup=this.fb.group({address1:[this.secondFormGroupData?this.secondFormGroupData.address1:"",[n.k0.required]],address2:[this.secondFormGroupData?this.secondFormGroupData.address2:"",[n.k0.required]],city:[this.secondFormGroupData?this.secondFormGroupData.city:"",[n.k0.required]],state:[this.secondFormGroupData?this.secondFormGroupData.state:"",[n.k0.required]],zipcode:[this.secondFormGroupData?this.secondFormGroupData.zipcode:"",[n.k0.pattern(/^[0-9]+$/i),n.k0.required,n.k0.minLength(1),n.k0.maxLength(6)]]}),this.thirdFormGroup=this.fb.group({documents_type:[this.thiredFormGroupData?this.thiredFormGroupData.documents_type:"",[n.k0.required]],documents_temp:["",[]],isChecked:[!1,[n.k0.requiredTrue]]},{validator:this.dependentFieldValidator}),this.filterStartDate(),this.getPatientDataThroughToken()}checkSpace(t,r){t.setValue(this.commonService.capitalize(r.target.value.trim()))}onPhoneInputChange(t){this.convertPhoneNumber=this.commonService.formatPhoneNumber(t.target.value)}dependentFieldValidator(t){const r=t.get("documents_type"),o=t.get("documents_temp");return!r.value||o.value&&void 0!==o.value?r.value&&void 0!==r.value||!o.value?null:{documents_type_empty:!0}:{documents_temp_empty:!0}}passwordMatchValidator(t){const r=t.get("password"),o=t.get("confirmPassword");return r.value!==o.value?{passwordMismatch:!0}:null}goToNext(t,r,o){if(this.mainHeadTxt="Create your account",1==t&&!this.firstFormGroup.invalid){let s={firstName:r.firstName,middleName:r.middleName,lastName:r.lastName,email:r.email,disply_dob:this.selectedDate,dob:this.selected_date,phoneNumber:r.phoneNumber,gender:r.gender,password:r.password,ConfirmPassword:""};localStorage.setItem("firstFormGroupData",JSON.stringify(s)),this.signUpToken&&this.patientGetByToken&&null!=this.patientGetByToken&&(s.patientEmailGetByToken=this.patientGetByToken.email?this.patientGetByToken.email:""),this.signupSubmit(t,s)}if(2==t&&!this.secondFormGroup.invalid){let s={address1:r.address1,address2:r.address2,city:r.city,state:r.state,zipcode:r.zipcode};localStorage.setItem("secondFormGroupData",JSON.stringify(s)),this.signupSubmit(t,s)}if(3==t&&!this.thirdFormGroup.invalid){let s={documents_type:r.documents_type,acceptConsent:r.isChecked};this.thiredFormGroupData&&(this.thiredFormGroupData.documents_type=r.documents_type,this.thiredFormGroupData.acceptConsent=r.isChecked,localStorage.setItem("thiredFormGroupData",JSON.stringify(this.thiredFormGroupData))),this.signupSubmit(t,s)}return 1==t&&this.firstFormGroup.invalid?(this.mainHeadTxt="Create your account",void this.firstFormGroup.markAllAsTouched()):2==t&&this.secondFormGroup.invalid?(this.mainHeadTxt="Verify your account",void this.secondFormGroup.markAllAsTouched()):void(3==t&&this.thirdFormGroup.invalid&&this.thirdFormGroup.markAllAsTouched())}signupSubmit(t,r){var o=this;return(0,h.A)(function*(){const d={query:Object.assign({_id:o.userId},{}),step:t,data:r,patientIdRegisterByRefferal:o.patientGetByToken&&null!=o.patientGetByToken&&o.patientGetByToken._id?o.patientGetByToken._id:""};t&&3==t&&(o.submitButton=!1),o.commonService.showLoader(),yield o.authService.apiRequest("post","patients/signup",d).subscribe(function(){var l=(0,h.A)(function*(c){o.commonService.hideLoader(),c.error?(t&&1==t&&(c.data.email&&(o.firstFormGroup.controls.email.markAsTouched(),o.emailError=!0,o.invalidEmailErrorMessage=c.data.email),o.stepper.previous()),c.message&&o.commonService.openSnackBar(c.message,"ERROR")):(c.data.user_id&&(localStorage.setItem("userId",c.data.user_id),o.userId=c.data.user_id,o.uploader=new _.l0({url:`${j}?userId=${c.data.user_id}`})),c.message&&o.commonService.openSnackBar(c.message,"SUCCESS"),t&&3==t&&(localStorage.removeItem("userId"),localStorage.removeItem("firstFormGroupData"),localStorage.removeItem("secondFormGroupData"),localStorage.removeItem("thiredFormGroupData"),localStorage.removeItem("step1FormData"),localStorage.removeItem("step2FormData"),localStorage.removeItem("step3FormData"),localStorage.removeItem("step4FormData"),localStorage.removeItem("step5FormData"),localStorage.removeItem("uploadedInsuranceFiles"),localStorage.removeItem("uploadedPrescriptionFiles"),c.data.userData?o.setLocalStorage(c.data.userData):o.router.navigate(["/"])),o.stepper.next())});return function(c){return l.apply(this,arguments)}}())})()}filterStartDate(){const t=new Date;this.maxEndDate={month:t.getMonth()+1,day:t.getDate(),year:t.getFullYear()}}onDateChange(t){return this.selectedDate=t,this.formatDate(this.selectedDate)}formatDate(t){let r="";"object"==typeof t&&t.day&&t.month&&t.year&&(r=this.commonService.formattedDate(t)),this.selected_date=r}getMinDate(){const t=new Date,r=new Date(t.getFullYear()-80,t.getMonth(),t.getDate());return{month:r.getMonth()+1,day:r.getDate(),year:r.getFullYear()}}fileOverBase(t){this.thirdFormDisabled=!0,this.hasBaseDropZoneOver=t,this.fileErrors="";let o=0;this.documentsList&&this.documentsList.length>0&&(o=this.documentsList.length),this.uploader.queue.length>1||o>1?(o>0&&(this.thirdFormDisabled=!1),this.invalidMessage="You can't upload more than 1 document.",this.uploader.clearQueue()):(this.uploader.queue.forEach(s=>{this.filename=s.file.name,this.maxFileSize=s.file.size;var d=this.filename.substring(this.filename.lastIndexOf(".")+1);if(this.isExtension(d,["jpg","jpeg","png","pdf"])){if(this.maxFileSize>25e6){var f="File size should be below 25MB";this.uploader.removeFromQueue(s),this.fileErrors=f,setTimeout(()=>{this.fileErrors=""},8e3)}}else f="This file '"+this.filename+"' is not supported",this.uploader.removeFromQueue(s),this.fileErrors=f,setTimeout(()=>{this.fileErrors=""},8e3)}),this.uploader.getNotUploadedItems().length&&(this.currentProgessinPercent=1,this.uploader.onProgressItem=s=>{this.updateProgressBar()},this.uploader.uploadAll(),this.uploader.onCompleteItem=(s,d,l,c)=>{const f=JSON.parse(d);this.thirdFormGroup.controls.documents_temp.setValue("");let F="",w="",B=0;f.data.filename&&(F=f.data.filename),f.data.original_name&&(w=f.data.original_name),f.data.document_size&&(B=f.data.document_size),localStorage.setItem("thiredFormGroupData",JSON.stringify({filename:F,original_name:w,size:B})),this.thirdFormGroup.controls.documents_temp.setValue(F),setTimeout(()=>{this.getUploadedDocs(F,w)},1200)},this.uploader.onCompleteAll=()=>{this.thirdFormDisabled=!1,this.uploader.clearQueue()}))}updateProgressBar(){0==this.currentProgessinPercent&&(this.uploader.onProgressItem=t=>{this.currentProgessinPercent=t}),this.uploader.onProgressAll=t=>{this.currentProgessinPercent=t}}isExtension(t,r){var s,o=!1;if(t)for(t=t.toLowerCase(),s=0;s<r.length;s++)if(r[s].toLowerCase()===t){o=!0;break}return o}getUploadedDocs(t,r){var o=this;return(0,h.A)(function*(){let d={query:Object.assign({_id:o.userId},{}),fileName:t};yield o.authService.apiRequest("post","patients/getPreviewDocument",d).subscribe(function(){var l=(0,h.A)(function*(c){if(c.error)o.commonService.openSnackBar(c.message,"ERROR");else{let f=c.data;o.documentsName=r,o.documentsLink=f.document,o.document_size=f.document_size,o.documentsMissing=!0,f.document.length>0&&(o.documentsMissing=!1),100==o.currentProgessinPercent&&(o.currentProgessinPercent=0),o.thirdFormGroup.controls.documents_temp.setValue(o.documentsName),o.fileType=o.getFileType(o.documentsName),o.isRequired=!0}});return function(c){return l.apply(this,arguments)}}(),l=>{console.error(l)})})()}getFileType(t){let r="unknown";if(t){const o=t.split(".").pop().toLowerCase();if("pdf"===o||"PDF"===o)r="pdf";else if("docx"===o||"doc"===o)r="doc";else if(["jpg","jpeg","png","gif","JPG","JPEG","PNF","GIF"].includes(o))return"image"}return r}documentDelete(){var t=this;return(0,h.A)(function*(){t.dialog.open(H.C,{panelClass:"custom-alert-container",width:"520px",data:{warningNote:"Do you really want to delete this file?"}}).afterClosed().subscribe(o=>{if(o){t.commonService.showLoader();const d={query:Object.assign({_id:t.userId},{})};t.authService.apiRequest("post","patients/deleteDocument",d).subscribe(function(){var l=(0,h.A)(function*(c){t.commonService.hideLoader(),c.error||(t.documentsMissing=!0,t.isRequired=!1,t.thirdFormGroup.controls.documents_temp.setValue(""),t.thirdFormGroup.controls.documents_type.value&&(t.thirdFormGroup.controls.documents_temp.setValidators(n.k0.required),t.thirdFormGroup.reset()),localStorage.setItem("thiredFormGroupData",""),t.commonService.hideLoader()),t.commonService.openSnackBar(c.message,"SUCCESS")});return function(c){return l.apply(this,arguments)}}(),l=>{console.error(l),t.commonService.hideLoader()})}})})()}showPassword(){this.show=!this.show}showConfirmPassword(){this.showConfirmPass=!this.showConfirmPass}back(){this.mainHeadTxt="Create your account"}onStateChange(t){this.selectedCity="",this.getCitiesByState(t)}getCitiesByState(t){return this.cities=J.z.filter(r=>r.state_code===t)}setLocalStorage(t){localStorage.setItem("user",JSON.stringify(t)),this.router.navigate(["/patient/dashboard"])}getPatientDataThroughToken(){var t=this;this.signUpToken&&this.authService.apiRequest("post","referral/getPatientThroughSignUpToken",{signUpToken:this.signUpToken}).subscribe(function(){var o=(0,h.A)(function*(s){s&&!s.error&&(t.patientGetByToken=s.data,localStorage.getItem("firstFormGroupData")||(t.firstFormGroup.controls.firstName.setValue(t.patientGetByToken&&t.patientGetByToken.firstName?t.patientGetByToken.firstName:""),t.firstFormGroup.controls.lastName.setValue(t.patientGetByToken&&t.patientGetByToken.lastName?t.patientGetByToken.lastName:""),t.firstFormGroup.controls.email.setValue(t.patientGetByToken&&t.patientGetByToken.email?t.patientGetByToken.email:"")))});return function(s){return o.apply(this,arguments)}}(),o=>{console.error(o)})}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(p.Ix),e.rXU(n.ok),e.rXU(Z.bZ),e.rXU(Q.QP),e.rXU(C.u),e.rXU(v.h),e.rXU(E.tN),e.rXU(u.vh),e.rXU(p.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-signup-patient"]],viewQuery:function(r,o){if(1&r&&e.GBs(te,5),2&r){let s;e.mGM(s=e.lsd())&&(o.stepper=s.first)}},features:[e.Jv_([u.vh])],decls:221,vars:61,consts:[["stepper",""],["d","ngbDatepicker"],[1,"container-fluid","p-0"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"login-card","patient--signup--wrapper","login-dark","dark-gray"],[1,"logo"],["ngSrc","assets/images/logo/logo.svg","alt","looginpage","width","96","height","96",1,"img-fluid","for-light"],[1,"login-main","pb-4"],[1,"row"],[1,"col-12","theme-form"],[1,"text-center","dark-grey"],[1,"text-center","mt-2"],[1,"col-12"],[1,"example-stepper",3,"orientation"],["label","Personal Info",3,"stepControl"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["type","text","required","","placeholder","Enter First Name","formControlName","firstName","maxlength","35",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["type","text","placeholder","Enter Middle Name","formControlName","middleName","maxlength","35",1,"form-control",3,"blur"],["type","text","placeholder","Enter Last Name","formControlName","lastName","maxlength","35",1,"form-control",3,"blur"],[1,"col-12","col-lg-6"],[1,"input-group"],["placeholder","mm-dd-yyyy","name","dp","ngbDatepicker","","formControlName","dob",1,"form-control","text-lowercase",3,"ngModelChange","click","ngModel","value","minDate","maxDate"],["type","button",1,"btn","btn-outline-primary","py-0","px-3","calender--btn",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-o","clr--fff"],[1,"col-12","col-lg-6","col-xl-6"],["aria-label","Select an option","formControlName","gender"],["value","Male",1,"me-3"],["value","Female"],["type","email","placeholder","Enter Email","formControlName","email",1,"form-control","text-lowercase"],["type","text","placeholder","Enter Phone Number","maxlength","14","formControlName","phoneNumber",1,"form-control",3,"input","value"],[1,"form-input","position-relative"],["placeholder","Enter Password","formControlName","password",1,"form-control",3,"type"],[1,"show-hide"],["placeholder","Enter Confirm Password","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"d-flex","align-items-center","justify-content-end","mt-3"],["mat-raised-button","","color","primary","type","submit"],["label","Additional Info",3,"stepControl"],[1,"font-16","mb-3"],["type","text","placeholder","Street Name","formControlName","address1",1,"form-control"],["type","text","placeholder","Apartment #","formControlName","address2",1,"form-control"],["id","state","aria-label","Default select example","formControlName","state",1,"form-select","form-control",3,"ngModelChange"],["selected","","value",""],[3,"value","selected",4,"ngFor","ngForOf"],["id","city","aria-label","Default select example","formControlName","city",1,"form-select","form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Postal Code","formControlName","zipcode","maxlength","6",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between","mt-3"],["mat-stroked-button","","color","primary","matStepperPrevious",""],["label","Verification",3,"stepControl"],["class","clr--DF0404 ms-1",4,"ngIf"],["aria-label","Default select example","formControlName","documents_type",1,"form-select","form-control",3,"ngModelChange","ngModel"],["value","",3,"selected"],[1,"upload--files","d-flex","align-items-center","justify-content-center","flex-column","w-100","text-center"],["ng2FileDrop","",1,"upload--box",3,"fileOver","ngClass","uploader"],["type","file","name","documents","ng2FileSelect","",1,"input--file",3,"change","uploader"],[1,"font-18","fw-500"],[1,"mb-0","font-14","fw-500"],["class","full-width",4,"ngIf"],["class","text text-danger mt-1 form-error-msg",4,"ngIf"],[1,"col-12","d-flex","align-items-center","mb-3"],[1,"row","align-items-center","w-100"],[1,"col-11"],[1,"d-flex","align-items-center","w-100"],["class","doc--pic d-flex align-items-center justify-content-center",4,"ngIf"],["class","d-flex flex-column w-100 doc--desc",4,"ngIf"],["class","col-1 d-flex justify-content-end pe-0",4,"ngIf"],["formControlName","isChecked","required","",1,""],["mat-stroked-button","","color","primary","matStepperPrevious","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center","mt-3"],[1,"mb-0","text-center","font-nunito"],["href","#",1,"ms-2","font-16","fw-600",3,"routerLink"],[1,"text","text-danger","mt-1"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[3,"value","selected"],[3,"value"],[1,"full-width"],["matInput","","name","documents_temp","formControlName","documents_temp"],[1,"text","text-danger","mt-1","form-error-msg"],[1,"doc--pic","d-flex","align-items-center","justify-content-center"],[4,"ngIf"],[1,"img-fluid",3,"src","alt"],[1,"d-flex","flex-column","w-100","doc--desc"],[1,"font-16"],["class","m-0 font-14",4,"ngIf"],[1,"m-0","font-14"],[1,"col-1","d-flex","justify-content-end","pe-0"],["mat-button","",1,"p-0","flex-shrink-0","min-width-unset",3,"click"],[1,"material-icons","cancel--btn"]],template:function(r,o){if(1&r){const s=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div")(5,"div")(6,"a",6),e.nrm(7,"img",7),e.k0s()(),e.j41(8,"div",8)(9,"form",9)(10,"div",10)(11,"h3",11),e.EFF(12),e.k0s(),e.j41(13,"p",12),e.EFF(14,"Enter details to create an account "),e.k0s()(),e.j41(15,"div",13)(16,"mat-stepper",14,0),e.nI1(18,"async"),e.j41(19,"mat-step",15)(20,"form",16),e.bIt("ngSubmit",function(){e.eBV(s);const l=e.sdS(17);return e.Njj(o.goToNext(1,o.firstFormGroup.value,l))}),e.j41(21,"div",9)(22,"div",13)(23,"div",17)(24,"label",18),e.EFF(25,"First Name "),e.j41(26,"span",19),e.EFF(27," * "),e.k0s()(),e.j41(28,"input",20),e.bIt("blur",function(l){return e.eBV(s),e.Njj(o.checkSpace(o.firstFormGroup.controls.firstName,l))}),e.k0s(),e.DNE(29,re,2,1,"div",21),e.k0s(),e.j41(30,"div",13)(31,"div",17)(32,"label",18),e.EFF(33,"Middle Name "),e.k0s(),e.j41(34,"input",22),e.bIt("blur",function(l){return e.eBV(s),e.Njj(o.checkSpace(o.firstFormGroup.controls.middleName,l))}),e.k0s(),e.DNE(35,ne,2,1,"div",21),e.k0s()(),e.j41(36,"div",13)(37,"div",17)(38,"label",18),e.EFF(39,"Last Name "),e.j41(40,"span",19),e.EFF(41," * "),e.k0s()(),e.j41(42,"input",23),e.bIt("blur",function(l){return e.eBV(s),e.Njj(o.checkSpace(o.firstFormGroup.controls.lastName,l))}),e.k0s(),e.DNE(43,se,2,1,"div",21),e.k0s()(),e.j41(44,"div",13)(45,"div",9)(46,"div",24)(47,"div",17)(48,"label",18),e.EFF(49,"Date of Birth "),e.j41(50,"span",19),e.EFF(51," * "),e.k0s()(),e.j41(52,"div",25)(53,"input",26,1),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(o.selectedDate,l)||(o.selectedDate=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(s),e.Njj(o.onDateChange(l))})("click",function(){e.eBV(s);const l=e.sdS(54);return e.Njj(l.toggle())}),e.k0s(),e.j41(55,"button",27),e.bIt("click",function(){e.eBV(s);const l=e.sdS(54);return e.Njj(l.toggle())}),e.nrm(56,"i",28),e.k0s()(),e.DNE(57,ae,2,1,"div",21),e.k0s()(),e.j41(58,"div",29)(59,"div",17)(60,"label",18),e.EFF(61,"Gender "),e.j41(62,"span",19),e.EFF(63," * "),e.k0s()(),e.j41(64,"mat-radio-group",30)(65,"mat-radio-button",31),e.EFF(66,"Male"),e.k0s(),e.j41(67,"mat-radio-button",32),e.EFF(68,"Female"),e.k0s(),e.DNE(69,le,2,1,"div",21),e.k0s()()(),e.j41(70,"div",24)(71,"div",17)(72,"label",18),e.EFF(73,"Email "),e.j41(74,"span",19),e.EFF(75," * "),e.k0s()(),e.nrm(76,"input",33),e.DNE(77,de,2,1,"div",21)(78,me,2,1,"div",21),e.k0s()(),e.j41(79,"div",24)(80,"div",17)(81,"label",18),e.EFF(82,"Phone Number"),e.j41(83,"span",19),e.EFF(84," * "),e.k0s()(),e.j41(85,"input",34),e.bIt("input",function(l){return e.eBV(s),e.Njj(o.onPhoneInputChange(l))}),e.k0s(),e.DNE(86,pe,2,1,"div",21)(87,ce,2,1,"div",21),e.k0s()(),e.j41(88,"div",24)(89,"div",17)(90,"label",18),e.EFF(91,"Password "),e.j41(92,"span",19),e.EFF(93," * "),e.k0s()(),e.j41(94,"div",35),e.nrm(95,"input",36),e.DNE(96,ue,2,0,"div",37)(97,fe,2,0),e.k0s(),e.DNE(98,he,2,1,"div",21)(99,ge,2,1,"div",21),e.k0s()(),e.j41(100,"div",24)(101,"div",17)(102,"label",18),e.EFF(103,"Confirm Password "),e.j41(104,"span",19),e.EFF(105," * "),e.k0s()(),e.j41(106,"div",35),e.nrm(107,"input",38),e.DNE(108,ve,2,0,"div",37)(109,_e,2,0),e.k0s(),e.DNE(110,Fe,2,1,"div",21),e.k0s()()()()()(),e.j41(111,"div",39)(112,"button",40),e.EFF(113,"Next"),e.k0s()()()(),e.j41(114,"mat-step",41)(115,"h1",42),e.EFF(116,"Mailing Address"),e.k0s(),e.j41(117,"form",16),e.bIt("ngSubmit",function(){e.eBV(s);const l=e.sdS(17);return e.Njj(o.goToNext(2,o.secondFormGroup.value,l))}),e.j41(118,"div",9)(119,"div",13)(120,"div",17)(121,"label",18),e.EFF(122,"Street Name "),e.j41(123,"span",19),e.EFF(124," * "),e.k0s()(),e.nrm(125,"input",43),e.DNE(126,ke,2,1,"div",21),e.k0s()(),e.j41(127,"div",13)(128,"div",9)(129,"div",24)(130,"div",17)(131,"label",18),e.EFF(132,"Apartment # "),e.j41(133,"span",19),e.EFF(134," * "),e.k0s()(),e.nrm(135,"input",44),e.DNE(136,Ce,2,1,"div",21),e.k0s()(),e.j41(137,"div",24)(138,"div",17)(139,"label",18),e.EFF(140,"State "),e.j41(141,"span",19),e.EFF(142," * "),e.k0s()(),e.j41(143,"select",45),e.bIt("ngModelChange",function(l){return e.eBV(s),e.Njj(o.onStateChange(l))}),e.j41(144,"option",46),e.EFF(145,"Select State"),e.k0s(),e.DNE(146,Se,2,2,"option",47),e.k0s(),e.DNE(147,we,2,1,"div",21),e.k0s()(),e.j41(148,"div",24)(149,"div",17)(150,"label",18),e.EFF(151,"City "),e.j41(152,"span",19),e.EFF(153," * "),e.k0s()(),e.j41(154,"select",48),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(o.selectedCity,l)||(o.selectedCity=l),e.Njj(l)}),e.j41(155,"option",46),e.EFF(156,"Select City"),e.k0s(),e.DNE(157,Ge,2,2,"option",49),e.k0s(),e.DNE(158,Pe,2,1,"div",21),e.k0s()(),e.j41(159,"div",24)(160,"div",17)(161,"label",18),e.EFF(162,"Postal Code "),e.j41(163,"span",19),e.EFF(164," * "),e.k0s()(),e.nrm(165,"input",50),e.DNE(166,be,2,1,"div",21),e.k0s()()()()(),e.j41(167,"div",51)(168,"button",52),e.EFF(169,"Previous"),e.k0s(),e.j41(170,"button",40),e.EFF(171,"Next"),e.k0s()()()(),e.j41(172,"mat-step",53)(173,"form",16),e.bIt("ngSubmit",function(){e.eBV(s);const l=e.sdS(17);return e.Njj(o.goToNext(3,o.thirdFormGroup.value,l))}),e.j41(174,"div",9)(175,"div",13)(176,"div",17)(177,"label",18),e.EFF(178,"Type of ID Proof "),e.DNE(179,ye,2,0,"span",54),e.k0s(),e.j41(180,"select",55),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(o.selectedDocumentsType,l)||(o.selectedDocumentsType=l),e.Njj(l)}),e.j41(181,"option",56),e.EFF(182,"Select Type of ID Proof"),e.k0s(),e.DNE(183,Ee,2,2,"option",49),e.k0s(),e.DNE(184,je,2,1,"div",21)(185,Ie,2,1,"div",21),e.k0s()(),e.j41(186,"div",13)(187,"div",57)(188,"div",58),e.bIt("fileOver",function(l){return e.eBV(s),e.Njj(o.fileOverBase(l))}),e.j41(189,"input",59),e.bIt("change",function(l){return e.eBV(s),e.Njj(o.fileOverBase(l))}),e.k0s(),e.j41(190,"mat-icon"),e.EFF(191," upload_file "),e.k0s(),e.j41(192,"h6",60),e.EFF(193,"Upload Your Driver License or drag & drop it here"),e.k0s(),e.j41(194,"p",61),e.EFF(195,"JPEG, JPG, PNG, PDF formats, up to 25MB"),e.k0s()()()(),e.DNE(196,Ne,2,0,"mat-form-field",62)(197,Te,2,0,"div",63)(198,Re,2,1,"div",63)(199,De,2,1,"div",63),e.j41(200,"div",64)(201,"div",65)(202,"div",66)(203,"div",67),e.DNE(204,Ye,5,4,"div",68)(205,Xe,4,2,"div",69),e.k0s()(),e.DNE(206,Ve,4,0,"div",70),e.k0s()(),e.j41(207,"div",64)(208,"mat-checkbox",71),e.EFF(209,"By Clicking on \u2018Sign Up\u2019 you agree to the Privacy Policy and Terms of Services of the HPT-EHR platform."),e.k0s()(),e.DNE(210,Oe,2,1,"div",21),e.k0s(),e.j41(211,"div",51)(212,"button",72),e.bIt("click",function(){return e.eBV(s),e.Njj(o.back())}),e.EFF(213,"Previous"),e.k0s(),e.j41(214,"button",73),e.EFF(215,"Sign Up"),e.k0s()()()()()()(),e.j41(216,"div",74)(217,"p",75),e.EFF(218,"Already have an account? "),e.j41(219,"a",76),e.EFF(220,"Sign in "),e.k0s()()()()()()()()()}2&r&&(e.R7$(12),e.JRh(o.mainHeadTxt),e.R7$(4),e.Y8G("orientation",e.bMT(18,56,o.stepperOrientation)),e.R7$(3),e.Y8G("stepControl",o.step1),e.R7$(),e.Y8G("formGroup",o.firstFormGroup),e.R7$(9),e.Y8G("ngIf",o.firstFormGroup.controls.firstName.touched&&(o.firstFormGroup.controls.firstName.hasError("required")||o.firstFormGroup.controls.firstName.invalid)),e.R7$(6),e.Y8G("ngIf",o.firstFormGroup.controls.middleName.touched&&(o.firstFormGroup.controls.middleName.hasError("required")||o.firstFormGroup.controls.middleName.invalid)),e.R7$(8),e.Y8G("ngIf",o.firstFormGroup.controls.lastName.touched&&(o.firstFormGroup.controls.lastName.hasError("required")||o.firstFormGroup.controls.lastName.invalid)),e.R7$(10),e.R50("ngModel",o.selectedDate),e.Y8G("value",o.selected_date)("minDate",o.getMinDate())("maxDate",o.maxEndDate),e.R7$(4),e.Y8G("ngIf",o.firstFormGroup.controls.dob.hasError("required")&&o.firstFormGroup.controls.dob.touched),e.R7$(12),e.Y8G("ngIf",o.firstFormGroup.controls.gender.hasError("required")&&o.firstFormGroup.controls.gender.touched),e.R7$(8),e.Y8G("ngIf",o.firstFormGroup.controls.email.touched&&(o.firstFormGroup.controls.email.hasError("required")||o.firstFormGroup.controls.email.invalid)),e.R7$(),e.Y8G("ngIf",o.emailError),e.R7$(7),e.Y8G("value",o.convertPhoneNumber),e.R7$(),e.Y8G("ngIf",o.firstFormGroup.controls.phoneNumber.touched&&o.firstFormGroup.controls.phoneNumber.hasError("required")),e.R7$(),e.Y8G("ngIf",o.firstFormGroup.controls.phoneNumber.touched&&o.firstFormGroup.controls.phoneNumber.hasError("pattern")),e.R7$(8),e.Y8G("type",o.show?"text":"password"),e.R7$(),e.vxM(96,o.show?97:96),e.R7$(2),e.Y8G("ngIf",o.firstFormGroup.controls.password.touched&&o.firstFormGroup.controls.password.hasError("required")),e.R7$(),e.Y8G("ngIf",o.firstFormGroup.controls.password.touched&&o.firstFormGroup.controls.password.hasError("pattern")),e.R7$(8),e.Y8G("type",o.showConfirmPass?"text":"password"),e.R7$(),e.vxM(108,o.showConfirmPass?109:108),e.R7$(2),e.Y8G("ngIf",o.firstFormGroup.hasError("passwordMismatch")&&o.firstFormGroup.controls.confirmPassword.touched),e.R7$(4),e.Y8G("stepControl",o.step2),e.R7$(3),e.Y8G("formGroup",o.secondFormGroup),e.R7$(9),e.Y8G("ngIf",o.secondFormGroup.controls.address1.touched&&(o.secondFormGroup.controls.address1.hasError("required")||o.secondFormGroup.controls.address1.invalid)),e.R7$(10),e.Y8G("ngIf",o.secondFormGroup.controls.address2.touched&&(o.secondFormGroup.controls.address2.hasError("required")||o.secondFormGroup.controls.address2.invalid)),e.R7$(10),e.Y8G("ngForOf",o.states),e.R7$(),e.Y8G("ngIf",o.secondFormGroup.controls.state.touched&&o.secondFormGroup.controls.state.hasError("required")),e.R7$(7),e.R50("ngModel",o.selectedCity),e.R7$(3),e.Y8G("ngForOf",o.cities),e.R7$(),e.Y8G("ngIf",o.secondFormGroup.controls.city.touched&&o.secondFormGroup.controls.city.hasError("required")),e.R7$(8),e.Y8G("ngIf",o.secondFormGroup.controls.zipcode.touched&&(o.secondFormGroup.controls.zipcode.hasError("required")||o.secondFormGroup.controls.zipcode.invalid)),e.R7$(6),e.Y8G("stepControl",o.step3),e.R7$(),e.Y8G("formGroup",o.thirdFormGroup),e.R7$(6),e.Y8G("ngIf",o.isRequired),e.R7$(),e.R50("ngModel",o.selectedDocumentsType),e.R7$(),e.Y8G("selected",!0),e.R7$(2),e.Y8G("ngForOf",o.documents_type_list),e.R7$(),e.Y8G("ngIf",o.thirdFormGroup.controls.documents_type.touched&&o.thirdFormGroup.controls.documents_type.hasError("required")),e.R7$(),e.Y8G("ngIf",null==o.thirdFormGroup.errors?null:o.thirdFormGroup.errors.documents_type_empty),e.R7$(3),e.Y8G("ngClass",e.eq3(58,oe,o.hasBaseDropZoneOver))("uploader",o.uploader),e.R7$(),e.Y8G("uploader",o.uploader),e.R7$(7),e.Y8G("ngIf",o.documents_temps),e.R7$(),e.Y8G("ngIf",o.thirdFormGroup.controls.documents_temp.hasError("required")&&o.thirdFormGroup.controls.documents_temp.touched),e.R7$(),e.Y8G("ngIf",null==o.thirdFormGroup.errors?null:o.thirdFormGroup.errors.documents_temp_empty),e.R7$(),e.Y8G("ngIf",o.fileErrors),e.R7$(5),e.Y8G("ngIf",!o.documentsMissing),e.R7$(),e.Y8G("ngIf",!o.documentsMissing),e.R7$(),e.Y8G("ngIf",!o.documentsMissing),e.R7$(4),e.Y8G("ngIf",o.thirdFormGroup.controls.isChecked.touched&&o.thirdFormGroup.controls.isChecked.hasError("required")),e.R7$(4),e.Y8G("disabled",!o.submitButton||!o.thirdFormGroup.valid),e.R7$(5),e.Y8G("routerLink",e.lJ4(60,ie)))},dependencies:[u.YU,u.Sq,u.bT,n.qT,n.xH,n.y7,n.me,n.wz,n.BC,n.cb,n.YS,n.tU,n.cV,n.j4,n.JD,E.cw,D.$z,S.So,S.fp,P.V5,P.M6,P.FR,W.rl,K.An,ee.fg,M.VT,M._g,p.Wk,u.kt,_.Ff,_.UJ,u.Jj],styles:[".patient--signup--wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#33bfbf0f!important;text-transform:capitalize}.patient--signup--wrapper[_ngcontent-%COMP%]   .upload--files[_ngcontent-%COMP%]{border-radius:20px;border:2px dashed rgba(49,183,183,.4);background:#fff;padding:30px 15px 20px;margin-bottom:30px;position:relative}.patient--signup--wrapper[_ngcontent-%COMP%]   .upload--files[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:15px 0;color:#1f2f3e}.patient--signup--wrapper[_ngcontent-%COMP%]   .upload--files[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#848789}.patient--signup--wrapper[_ngcontent-%COMP%]   .upload--files[_ngcontent-%COMP%]   .input--file[_ngcontent-%COMP%]{opacity:0;position:absolute;left:0;top:0;width:100%;height:100%;cursor:pointer}.patient--signup--wrapper[_ngcontent-%COMP%]   .upload--files[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:35px;width:35px;height:35px;color:#31b7b7}.patient--signup--wrapper[_ngcontent-%COMP%]   .doc--pic[_ngcontent-%COMP%]{width:120px;height:75px;margin-right:20px}.patient--signup--wrapper[_ngcontent-%COMP%]   .doc--desc[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#1f2f3e;margin-bottom:8px}.patient--signup--wrapper[_ngcontent-%COMP%]   .doc--desc[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#848789}.patient--signup--wrapper[_ngcontent-%COMP%]   .cancel--btn[_ngcontent-%COMP%]{color:#df0404}"]})}return i})();const Ae=i=>[i];function Le(i,a){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("an email address")," ")}}function ze(i,a){if(1&i&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.validEmail," ")}}let $=(()=>{class i{constructor(t,r,o,s){this.fb=t,this.authService=r,this.commonService=o,this.router=s,this.validationMessages=k.q,this.userType="patient",this.signInLink="/"}ngOnInit(){const t=location.href.split("/");"admin"==t[t.length-2]&&(this.userType="admin",this.signInLink="/admin/login"),this.forgotPasswordForm=this.fb.group({email:["",[n.k0.required,n.k0.email]],userType:[this.userType]})}forgotPassword(){this.forgotPasswordForm.valid&&this.authService.forgotPassword(this.forgotPasswordForm.value).subscribe({next:t=>{t&&!t.error&&(this.commonService.openSnackBar(t.message,"SUCCESS"),this.router.navigate("patient"==this.userType?["/"]:["/admin"]))},error:t=>{console.log("err login>>>>",t),t.error?.error&&this.commonService.openSnackBar(t.error?.message,"ERROR")}})}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(n.ok),e.rXU(C.u),e.rXU(v.h),e.rXU(p.Ix))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-forgot-password"]],decls:27,vars:7,consts:[[1,"container-fluid","p-0"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"login-card","login-dark","dark-gray"],[1,"logo"],["ngSrc","assets/images/logo/logo.svg","alt","looginpage","width","96","height","96",1,"img-fluid","for-light"],[1,"login-main"],[1,"theme-form",3,"formGroup"],[1,"text-center","dark-grey"],[1,"text-center","mt-2"],[1,"form-group"],[1,"col-form-label","fw-600"],["type","email","placeholder","Enter your email address","formControlName","email","maxlength","35",1,"form-control"],["class","text text-danger mt-1",4,"ngIf"],[1,"form-group","mb-0","mt-5"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","font-16","w-100",3,"click","disabled"],[1,"form-group","mb-0","mt-4","d-flex","align-items-center","justify-content-center","w-100"],[1,"font-16","fw-600",3,"routerLink"],[1,"text","text-danger","mt-1"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"a",4),e.nrm(7,"img",5),e.k0s()(),e.j41(8,"div",6)(9,"form",7)(10,"h3",8),e.EFF(11,"Forgot Password"),e.k0s(),e.j41(12,"p",9),e.EFF(13,"Enter your email for the verification process."),e.k0s(),e.j41(14,"div",10)(15,"label",11),e.EFF(16,"Email Address"),e.k0s(),e.nrm(17,"input",12),e.DNE(18,Le,2,1,"div",13)(19,ze,2,1,"div",13),e.k0s(),e.j41(20,"div",14)(21,"div",15)(22,"button",16),e.bIt("click",function(){return o.forgotPassword()}),e.EFF(23,"Continue"),e.k0s()()(),e.j41(24,"div",17)(25,"a",18),e.EFF(26,"Sign in "),e.k0s()()()()()()()()()),2&r&&(e.R7$(9),e.Y8G("formGroup",o.forgotPasswordForm),e.R7$(9),e.Y8G("ngIf",o.forgotPasswordForm.controls.email.touched&&o.forgotPasswordForm.controls.email.hasError("required")),e.R7$(),e.Y8G("ngIf",o.forgotPasswordForm.controls.email.touched&&o.forgotPasswordForm.controls.email.hasError("email")),e.R7$(3),e.Y8G("disabled",!o.forgotPasswordForm.valid),e.R7$(3),e.Y8G("routerLink",e.eq3(5,Ae,o.signInLink)))},dependencies:[u.bT,n.qT,n.me,n.BC,n.cb,n.tU,n.j4,n.JD,p.Wk,u.kt]})}return i})();function Je(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",21),e.k0s()}}function He(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",22),e.k0s()}}function Ze(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.newPasswordRequired," ")}}function Qe(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.password," ")}}function We(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showConfirmPassword())}),e.nrm(1,"span",21),e.k0s()}}function Ke(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showConfirmPassword())}),e.nrm(1,"span",22),e.k0s()}}function et(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.confirmPassword," ")}}function tt(i,a){if(1&i&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.passwordMismatch," ")}}let x=(()=>{class i{constructor(t,r,o,s,d){this.route=t,this.authService=r,this.commonService=o,this.router=s,this.fb=d,this.validationMessages=k.q,this.showPass=!1,this.showConfirmPass=!1,this.userType="patient",this.token=this.route.snapshot.queryParamMap.get("token")}ngOnInit(){const t=location.href.split("/");"admin"==t[t.length-2]&&(this.userType="admin"),this.checkResetPassLink(),this.initializePasswordForm()}initializePasswordForm(){this.passwordForm=this.fb.group({password:["",[n.k0.required,n.k0.pattern(b.y.password)]],confirmPassword:["",n.k0.required],userType:[this.userType]},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){const r=t.get("password"),o=t.get("confirmPassword");return o.value&&r.value!==o.value?{passwordMismatch:!0}:null}checkResetPassLink(){this.authService.checkForgotPasswordToken(this.token,this.userType).subscribe({next:t=>{t&&!t.error&&this.commonService.openSnackBar(t.message,"SUCCESS")},error:t=>{t.error?.error&&this.commonService.openSnackBar(t.error?.message,"ERROR"),this.router.navigate("admin"==this.userType?["/admin/login"]:["/"])}})}resetPassword(){this.passwordForm.valid&&this.authService.resetPassword({token:this.token,password:this.passwordForm.value.confirmPassword,userType:this.userType}).subscribe({next:r=>{r&&!r.error&&(this.commonService.openSnackBar(r.message,"SUCCESS"),this.router.navigate("admin"==this.userType?["/admin/login"]:["/"]))},error:r=>{r.error?.error&&this.commonService.openSnackBar(r.error?.message,"ERROR")}})}showPassword(){this.showPass=!this.showPass}showConfirmPassword(){this.showConfirmPass=!this.showConfirmPass}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(p.nX),e.rXU(C.u),e.rXU(v.h),e.rXU(p.Ix),e.rXU(n.ok))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-reset-password"]],decls:36,vars:10,consts:[[1,"container-fluid","p-0"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"login-card","login-dark","dark-gray"],[1,"logo"],["ngSrc","assets/images/logo/logo.svg","alt","looginpage","width","96","height","96",1,"img-fluid","for-light"],[1,"login-main"],[1,"theme-form",3,"formGroup"],[1,"text-center","dark-grey"],[1,"text-center","mt-2"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"form-input","position-relative"],["placeholder","Enter Password","id","password","formControlName","password",1,"form-control",3,"type"],[1,"show-hide"],["class","text text-danger mt-1",4,"ngIf"],["placeholder","Enter Confirm Password","id","confirmPassword","formControlName","confirmPassword",1,"form-control",3,"type"],[1,"form-group","mb-0","mt-5"],[1,"text-end","mt-3"],["type","submit",1,"btn","btn-primary","font-16","w-100",3,"click","disabled"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"],[1,"text","text-danger","mt-1"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"a",4),e.nrm(7,"img",5),e.k0s()(),e.j41(8,"div",6)(9,"form",7)(10,"h3",8),e.EFF(11,"Reset Password"),e.k0s(),e.j41(12,"p",9),e.EFF(13,"Enter your New and Confirm password."),e.k0s(),e.j41(14,"div",10)(15,"label",11),e.EFF(16,"Password"),e.k0s(),e.j41(17,"div",12),e.nrm(18,"input",13),e.DNE(19,Je,2,0,"div",14)(20,He,2,0),e.k0s(),e.DNE(21,Ze,2,1,"div",15)(22,Qe,2,1,"div",15),e.k0s(),e.j41(23,"div",10)(24,"label",11),e.EFF(25,"Confirm Password"),e.k0s(),e.j41(26,"div",12),e.nrm(27,"input",16),e.DNE(28,We,2,0,"div",14)(29,Ke,2,0),e.k0s(),e.DNE(30,et,2,1,"div",15)(31,tt,2,1,"div",15),e.k0s(),e.j41(32,"div",17)(33,"div",18)(34,"button",19),e.bIt("click",function(){return o.resetPassword()}),e.EFF(35,"Submit"),e.k0s()()()()()()()()()()),2&r&&(e.R7$(9),e.Y8G("formGroup",o.passwordForm),e.R7$(9),e.Y8G("type",o.showPass?"text":"password"),e.R7$(),e.vxM(19,o.showPass?20:19),e.R7$(2),e.Y8G("ngIf",o.passwordForm.controls.password.touched&&o.passwordForm.controls.password.hasError("required")),e.R7$(),e.Y8G("ngIf",o.passwordForm.controls.password.touched&&o.passwordForm.controls.password.hasError("pattern")),e.R7$(5),e.Y8G("type",o.showConfirmPass?"text":"password"),e.R7$(),e.vxM(28,o.showConfirmPass?29:28),e.R7$(2),e.Y8G("ngIf",o.passwordForm.controls.confirmPassword.touched&&o.passwordForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",o.passwordForm.hasError("passwordMismatch")&&o.passwordForm.controls.confirmPassword.touched),e.R7$(3),e.Y8G("disabled",!o.passwordForm.valid))},dependencies:[u.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,u.kt]})}return i})();const I=(i,a)=>{(0,e.WQX)(p.Ix);const r=(0,e.WQX)(C.u),o=(0,e.WQX)(v.h);return!!r.isTokenExpired()||(o.redirectToHome(),!1)};var ot=m(758);function it(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("First Name")," ")}}function rt(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Last Name")," ")}}function nt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",33),e.k0s()}}function st(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",34),e.k0s()}}function at(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Password")," ")}}function lt(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.password," ")}}function dt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",33),e.k0s()}}function mt(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showPassword())}),e.nrm(1,"span",34),e.k0s()}}function pt(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.required("Confirm password")," ")}}function ct(i,a){if(1&i&&(e.j41(0,"div",31),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.SpI(" ",t.validationMessages.passwordMismatch," ")}}const ut=[{path:"",component:R,canActivate:[I]},{path:"admin/login",component:R,canActivate:[I]},{path:"forgot-password",component:$},{path:"admin/forgot-password",component:$},{path:"reset-password",component:x},{path:"admin/reset-password",component:x},{path:"signup",component:Ue,canActivate:[I]},{path:"admin/signup/:userId",component:(()=>{class i{constructor(t,r,o,s,d,l){this.fb=t,this.router=r,this.adminService=o,this.commonService=s,this.route=d,this.userService=l,this.show=!1,this.validationMessages=k.q,this.pwdMatch=!1,this.termsConditionChecked=!1,this.submitButton=!0}ngOnInit(){this.route.params.subscribe(t=>{this.userId=t.userId}),this.initializeForm(),this.getUserDetails()}initializeForm(){this.signupForm=this.fb.group({firstName:["",[n.k0.required]],lastName:["",[n.k0.required]],email:["",n.k0.required],password:["",[n.k0.required,n.k0.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{7,}")]],confirmPassword:["",n.k0.required],termsConditions:["",n.k0.required]})}getUserDetails(){this.adminService.getUserDetails({query:{_id:this.userId},params:{firstName:1,lastName:1,email:1,inviteToken:1},decryptUserId:!0}).subscribe({next:r=>{this.signupForm.controls.firstName.setValue(r.data.firstName),this.signupForm.controls.lastName.setValue(r.data.lastName),this.signupForm.controls.email.setValue(r.data.email)},error:r=>{r.error?.error&&this.commonService.openSnackBar(r.error?.message,"ERROR")}})}updateUser(){let t={query:{_id:this.userId},updateInfo:{inviteToken:"",status:"Active",firstName:this.signupForm.value.firstName,lastName:this.signupForm.value.lastName,password:this.signupForm.value.confirmPassword},passwordReset:!0};this.submitButton=!1,this.adminService.updateUser(t).subscribe({next:r=>{r&&!r.error&&(this.createUserInCometChat(r.data),this.commonService.openSnackBar(r.message,"SUCCESS"),localStorage.setItem("user",JSON.stringify(r.data)),this.commonService.redirectToHome())}})}showPassword(){this.show=!this.show}termsChecked(t){this.termsConditionChecked=t.checked}passwordCheck(){this.pwdMatch=this.signupForm.value.password==this.signupForm.value.confirmPassword}checkSpace(t,r){this.signupForm.controls[t].setValue(this.commonService.capitalize(r.target.value.trim()))}createUserInCometChat(t){this.userService.createUser(t._id,`${t.firstName} ${t.lastName}`,t.role)}static#e=this.\u0275fac=function(r){return new(r||i)(e.rXU(n.ok),e.rXU(p.Ix),e.rXU(ot.z),e.rXU(v.h),e.rXU(p.nX),e.rXU(T.D))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-admin-signup"]],decls:73,vars:12,consts:[[1,"container-fluid","p-0"],[1,"row","m-0"],[1,"col-12","p-0"],[1,"login-card","patient--signup--wrapper","pa--signup--wrapper"],[1,"logo"],["ngSrc","assets/images/logo/logo.svg","alt","looginpage","width","96","height","96",1,"img-fluid","for-light"],[1,"login-main","pb-4"],[1,"row",3,"ngSubmit","formGroup"],[1,"col-12","theme-form"],[1,"text-center","dark-grey"],[1,"text-center","mt-2"],[1,"col-12","d-flex","align-items-center","mb-3"],[1,"row","w-100"],[1,"col-12"],[1,"form-group"],[1,"col-form-label","fw-600"],[1,"clr--DF0404","ms-1"],["formControlName","firstName","type","text","placeholder","Enter First Name",1,"form-control",3,"blur"],["class","text text-danger mt-1",4,"ngIf"],["formControlName","lastName","type","text","placeholder","Enter Last Name",1,"form-control",3,"blur"],["formControlName","email","type","text","readonly","",1,"form-control","text-lowercase"],[1,"form-input","position-relative"],["formControlName","password","placeholder","Enter Password",1,"form-control",3,"blur","type"],[1,"show-hide"],["formControlName","confirmPassword","placeholder","Enter Confirm Password",1,"form-control",3,"blur","type"],[1,"col-12","d-flex","mb-4"],["formControlName","termsConditions",1,"",3,"change"],["mat-raised-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-flex","align-items-center","justify-content-center"],[1,"mb-0","text-center","font-nunito"],["href","/admin/login",1,"ms-2","font-16","fw-600"],[1,"text","text-danger","mt-1"],[1,"show-hide",3,"click"],[1,"show"],[1,"Hide"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"a",4),e.nrm(7,"img",5),e.k0s()(),e.j41(8,"div",6)(9,"form",7),e.bIt("ngSubmit",function(){return o.updateUser()}),e.j41(10,"div",8)(11,"h3",9),e.EFF(12,"Create your account"),e.k0s(),e.j41(13,"p",10),e.EFF(14,"Enter details to create an account "),e.k0s()(),e.j41(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14)(19,"label",15),e.EFF(20,"First Name"),e.j41(21,"span",16),e.EFF(22," * "),e.k0s()(),e.j41(23,"input",17),e.bIt("blur",function(d){return o.checkSpace("firstName",d)}),e.k0s(),e.DNE(24,it,2,1,"div",18),e.k0s(),e.j41(25,"div",13)(26,"div",14)(27,"label",15),e.EFF(28,"Last Name "),e.j41(29,"span",16),e.EFF(30," * "),e.k0s()(),e.j41(31,"input",19),e.bIt("blur",function(d){return o.checkSpace("lastName",d)}),e.k0s(),e.DNE(32,rt,2,1,"div",18),e.k0s()(),e.j41(33,"div",13)(34,"div",14)(35,"label",15),e.EFF(36,"Email "),e.k0s(),e.nrm(37,"input",20),e.k0s()(),e.j41(38,"div",13)(39,"div",14)(40,"label",15),e.EFF(41,"Password "),e.j41(42,"span",16),e.EFF(43," * "),e.k0s()(),e.j41(44,"div",21)(45,"input",22),e.bIt("blur",function(){return o.passwordCheck()}),e.k0s(),e.DNE(46,nt,2,0,"div",23)(47,st,2,0)(48,at,2,1,"div",18)(49,lt,2,1,"div",18),e.k0s()()(),e.j41(50,"div",13)(51,"div",14)(52,"label",15),e.EFF(53,"Confirm Password "),e.j41(54,"span",16),e.EFF(55," * "),e.k0s()(),e.j41(56,"div",21)(57,"input",24),e.bIt("blur",function(){return o.passwordCheck()}),e.k0s(),e.DNE(58,dt,2,0,"div",23)(59,mt,2,0)(60,pt,2,1,"div",18)(61,ct,2,1,"div",18),e.k0s()()(),e.j41(62,"div",25)(63,"mat-checkbox",26),e.bIt("change",function(d){return o.termsChecked(d)}),e.EFF(64,"By Clicking on \u2018Sign Up\u2019 you agree to the Privacy Policy and Terms of Services of the HPT-EHR platform."),e.k0s()(),e.j41(65,"div",25)(66,"button",27),e.EFF(67," Sign Up "),e.k0s()(),e.j41(68,"div",28)(69,"p",29),e.EFF(70,"Already have an account? "),e.j41(71,"a",30),e.EFF(72,"Sign in "),e.k0s()()()()()()()()()()()()()),2&r&&(e.R7$(9),e.Y8G("formGroup",o.signupForm),e.R7$(15),e.Y8G("ngIf",o.signupForm.controls.firstName.touched&&o.signupForm.controls.firstName.hasError("required")),e.R7$(8),e.Y8G("ngIf",o.signupForm.controls.lastName.touched&&o.signupForm.controls.lastName.hasError("required")),e.R7$(13),e.Y8G("type",o.show?"text":"password"),e.R7$(),e.vxM(46,o.show?47:46),e.R7$(2),e.Y8G("ngIf",o.signupForm.controls.password.touched&&o.signupForm.controls.password.hasError("required")),e.R7$(),e.Y8G("ngIf",o.signupForm.controls.password.touched&&o.signupForm.controls.password.hasError("pattern")),e.R7$(8),e.Y8G("type",o.show?"text":"password"),e.R7$(),e.vxM(58,o.show?59:58),e.R7$(2),e.Y8G("ngIf",o.signupForm.controls.confirmPassword.touched&&o.signupForm.controls.confirmPassword.hasError("required")),e.R7$(),e.Y8G("ngIf",o.signupForm.controls.confirmPassword.touched&&!o.pwdMatch&&o.signupForm.controls.confirmPassword.value.length>0),e.R7$(5),e.Y8G("disabled",o.signupForm.invalid||!o.termsConditionChecked||!o.pwdMatch||!o.submitButton))},dependencies:[u.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,D.$z,S.So,u.kt],styles:[".pa--signup--wrapper[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background-color:#33bfbf0f!important;text-transform:capitalize}.pa--signup--wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#1f2f3e!important;font-size:14px!important}"]})}return i})()}];let ft=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({imports:[p.iI.forChild(ut),p.iI]})}return i})();var ht=m(5063),gt=m(7455);let vt=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.$C({type:i});static#o=this.\u0275inj=e.G2t({providers:[{provide:E.tN,useClass:gt.l}],imports:[u.MD,n.YN,n.X1,ht.G,ft,P.aP,S.g7,_.eB]})}return i})()},9039:(N,g,m)=>{m.d(g,{y:()=>u});const u={email:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[-@$!%*?&#^()+=_<>,./;:'"|\`~])[A-Za-z\d-@$!%*?&#^()+=_<>,./;:'"|\`~]{8,16}$/,usPhoneNumber:/^\(\d{3}\) \d{3}-\d{4}$/,alphabetic:/^[a-zA-Z]*$/,onlyNumeric:/^[0-9]+$/,numericAndSpecialCharacter:/^[0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/}},5802:(N,g,m)=>{m.d(g,{q:()=>u});const u={required:p=>`Please enter ${p}`,validEmail:"The email address seems to be incorrect",email:p=>`Please enter a valid ${p}`,password:"Minimum 8 and maximum 16 character, atleast one special character, one numeric & 1 uppercase and lowercase letter",passwordMismatch:"The passwords do not match. Please try again",confirmPassword:"Please confirm your password",invalidPhoneNumber:"Invalid phone number format",alphabeticChar:p=>`Please enter a valid ${p}`,newPasswordRequired:"Please set a password for your account",minlength:(p,n)=>`${p} should be at least ${n} characters.`,maxlength:(p,n)=>`${p} should not exceed ${n} characters.`,noRecords:"No records found!",requiredDropdown:p=>`Please select ${p}`,radioButton:"Gender is required",requiredCheckbox:p=>`Please check ${p}`,requiredProofDocument:"Document uploaded, Please select ID Proof document type",requiredDocument:"ID Proof document type is slected, Please upload document",isUnique:p=>`${p} should be unique`}}}]);